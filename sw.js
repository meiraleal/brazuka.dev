const FILE_BUNDLE={"/bootstrap.js":{content:'self.sleep=(e=0)=>new Promise(t=>setTimeout(t,e));const j=["test","types","mvc","sw","date"],l=e=>{const t=new Map,s=new Set;e.listeners=t,e.hasListeners=n=>t.has(n),e.on=(n,r)=>{if(!r)return console.error(`Error adding listener to ${n}: no callback passed`);t.has(n)||t.set(n,new Set),t.get(n).add(r)},e.off=(n,r)=>{const o=t.get(n);o&&(o.delete(r),o.size===0&&t.delete(n))},e.onAny=n=>{if(!n)return console.error("Error adding onAny listener: no callback passed");s.add(n.bind(e))},e.offAny=n=>{s.delete(n)},e.emit=(n,r,o)=>{const a=[];return t.get(n)?.forEach(c=>{try{const i=c;a.push(i(r,o))}catch(i){console.error(`Error in listener for key "${n}":`,i)}}),s.forEach(c=>{try{const i=c.bind(e);a.push(i({key:n,data:r},o))}catch(i){console.error(`Error in onAny listener for key "${n}":`,i)}}),a}},f={};l(f);const m={add:function(...e){return e.forEach(t=>!this.includes(t)&&this.push(this._beforeSave?this._beforeSave(t):t)),this},remove:function(e){const t=Number.parseInt(e,10);return!Number.isNaN(t)&&t>=0&&t<this.length&&this.splice(t,1),this},list:function(){return[...this]},get:function(e){const t=Number.parseInt(e,10);return!Number.isNaN(t)&&t>=0&&t<this.length?this[t]:void 0}},p={set:function(...e){return e.length===1&&typeof e[0]=="object"&&e[0]!==null?Object.entries(e[0]).forEach(([t,s])=>{this[t]=this._beforeSave?this._beforeSave(s):s}):e.length===2&&typeof e[0]=="string"&&(this[e[0]]=this._beforeSave?this._beforeSave(e[1]):e[1]),this},add:function(e,t){if(typeof t=="object")return this[e]||(this[e]={}),Object.entries(t).forEach(([s,n])=>{this[e][s]=this._beforeSave?this._beforeSave(n):n}),this},get:function(...e){const[t,s]=e;if(e.length!==0)return e.length===2?this[t]?.[s]:this[t]},remove:function(...e){return e.length===2?delete this[e[0]][e[1]]:delete this[e[0]],this},list:function(){return Object.entries(this)},keys:function(){return Object.keys(this)}},b=(e,t)=>{e||(e={});const s=Object.create(Object.getPrototypeOf(e)),n=Array.isArray(e)?m:p;return t&&(s._beforeSave=t),Object.assign(s,n),Object.setPrototypeOf(e,s),e},h={modules:{name:"modules",description:"Global modules store"},storage:{name:"storage",description:"Storage Module",base:{install:b}},error:{name:"error",base:console.error,frontend:!0,backend:!0},log:{name:"log",base:console.log,frontend:!0,backend:!0},icons:{name:"icons",alias:"Icons",base:self.__icons||{}},theme:{name:"theme"},components:{name:"components"},hooks:{name:"hooks",description:"Global Hooks store",functions:({$APP:e})=>({get:function(t){return this[t]||[]},add:function(t,s){this[t]=Array.isArray(this[t])?[...this[t],s]:[s]},set:function(t){Object.entries(t).forEach(([s,n])=>this.add(s,n))},run:async function(t,...s){try{if(Array.isArray(this[t]))for(const n of this[t])await n(...s)}catch(n){e.error(`Error running hook \'${t}\':`,n)}},clear:function(t){this[t]=null}})},settings:{name:"settings",description:"Global settings store",base:{dev:!0,backend:!1,frontend:!0,mv3:!1,mv3Injected:!1,basePath:"",...self.__settings||{}},hooks:({context:e})=>({moduleAdded({module:t}){t.settings&&(e[t.name]=t.settings)}})},events:{name:"events",description:"Global events Store",base:f,functions:{install:l}},data:{name:"data",description:"Data Migration store"},routes:{name:"routes",description:"Routes store"},devFiles:{name:"devFiles",base:[]},fs:{dev:!0,name:"fs",description:"FileSytem Module",functions:({$APP:e,context:t})=>({async import(s,{tag:n,module:r}={}){try{const o=await import(s);return t[s]={tag:n,path:s,module:r,extension:n?"component":"js"},o}catch(o){return console.error(`Failed to import ${s}:`,o),{error:!0}}},async fetchResource(s,n,r){try{const o=await fetch(s);if(t[s]={path:s,extension:r},o.ok)return await n(o)}catch(o){console.warn(`Resource not found at: ${s}`,o)}return null},list(){const s={};return Object.values(t).forEach(n=>{const{extension:r}=n;s[n.extension]||(s[r]=[]),s[r].push(n)}),s},assets(){return Object.values(t).filter(({extension:s})=>!["js","component"].includes(s))},components(){return Object.values(t).filter(({tag:s,extension:n})=>n==="js"&&!!s)},json(s){return t.fetchResource(s,n=>n.json(),"json")},css:async(s,n=!1)=>{const r=await t.fetchResource(s,async a=>await a.text(),"css");if(!n)return r;const o=document.createElement("style");return o.textContent=r,document.head.appendChild(o),r},getFilePath(s){return e.settings.mv3Injected?chrome.runtime.getURL(s):`${e.settings.basePath}${s.startsWith("/")?s:`/${s}`}`},getModulePath(s,n){t.getFilePath(`modules/${s}/${n}`)},getRequestPath(s){const n=new URL(s);return n.pathname+n.search}})}},y={imports:[],async bootstrap({modules:e=[],backend:t=!1,settings:s={},theme:n},r={}){return this.settings.set({...s,...r,backend:t,frontend:!t,modules:e}),this.settings.dev&&(await this.importModules(j),e.length&&await this.importModules(e)),t||(u.fs.css("theme.css",!0),n&&this.theme.set({theme:n})),u.hooks.run("init"),this},getPath({module:e,version:t,file:s="index.js"}){return["/modules",e,t&&t!=="latest"&&t,s].filter(Boolean).join("/")},async importModule(e){const[t,s]=Array.isArray(e)?e:[e];if(!this.imports.includes(t))try{await this.fs.import(this.getPath({module:t,version:s}),{module:t});const n=this.modules[t];if(this.imports.push(t),!n)return;n.modules&&await this.importModules(n.modules),n.frontend&&this.settings.frontend&&await this.fs.import(this.getPath({module:t,version:s,file:"frontend.js"}),{module:t}),n.backend&&this.settings.backend&&await this.fs.import(this.getPath({module:t,version:s,file:"backend.js"}),{module:t})}catch(n){u.error(`Error loading module \'${t}\':`,n)}},async importModules(e){for(const t of e)await this.importModule(t)},installModulePrototype:b,addHooks({hooks:e,base:t}){if(!this.hooks)return t;e&&Object.entries(typeof e=="function"?e({$APP:this,context:t}):e).map(([s,n])=>this.hooks.add(s,n))},updateModule(e,t=!1){const{alias:s,path:n,functions:r,name:o,hooks:a,beforeSave:c}=e,i=e.base??this[o];return e.base&&this.setModuleBase({base:i,name:o,alias:s,beforeSave:c}),this.modules[o]||this.setModuleMeta({name:o,module:{...e,base:i}}),r&&this.addFunctions({name:o,functions:r}),a&&this.addHooks({hooks:a,name:o,base:i}),n&&!this.modules[n]&&(this.modules[n]=this.modules[o]),t||this.hooks?.get("moduleUpdated").map(g=>g.bind(this[e.name])({module:e})),i},setLibrary({base:e,name:t,alias:s}){this[t]=e,s&&(this[s]=e),this.modules?.[t]&&(this.modules[t].base=e)},setModuleBase({base:e,name:t,alias:s,beforeSave:n}){this.installModulePrototype(e,n),this.setLibrary({base:e,name:t,alias:s})},setModuleMeta({name:e,module:t}){this.modules&&this.modules.set(e,t)},addModule(e){if(e.dev&&this.settings.dev!==!0||this?.modules?.[e.name])return;e.base||(e.base={});const t=this.updateModule(e,!0);return this.hooks?.get("moduleAdded").map(s=>s.bind(this[e.name])({module:e})),t},addFunctions({name:e,functions:t}){if(!this[e])throw new Error(`Module \'${e}\' not found`);const s=Object.getPrototypeOf(this[e]);return Object.assign(s,typeof t=="function"?t({$APP:this,context:this[e]}):t),this[e]}},d=(e=y)=>{const t=Object.create(e);for(const s in h)t.addModule(h[s]);return t},u=d();self.initApp=d,self.$aux={initApp:d,ArrayStorageFunctions:m,ObjectStorageFunctions:p,prototypeAPP:y,coreModules:h},self.$APP=u;export default u;\n',metaType:"application/javascript"},"/app.js":{content:`import a from"/bootstrap.js";a.bootstrap({name:"Brazuka",modules:["apps/brazuka","apps/admin","icon-lucide","font/manrope","uix","apps/bundler","ai"],theme:{font:{family:"'Manrope'"}}});
`,metaType:"application/javascript"},"/modules/test/index.js":{content:"export default {}"},"/modules/test/assert/index.js":{content:"export default {}"},"/modules/test/mock/index.js":{content:"export default {}"},"/modules/types/index.js":{content:'const g={email:/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/},x=n=>{try{return n in c?n:JSON.parse(n)}catch{return}},c={undefined:void 0,null:null,"":null,[void 0]:void 0},y={any:n=>n,function:n=>n,extension:()=>{},boolean:(n,{attribute:e=!0}={})=>e&&n===""||["true",1,"1",!0].includes(n),string:n=>n in c?c[n]:String(n),array:(n,e={})=>{if(Array.isArray(n))return n;const{itemType:t}=e;try{if(!n)throw n;const r=x(n);if(!Array.isArray(r))throw r;return t?r.map(s=>typeof s!="object"?s:Object.entries(s).reduce((i,[f,d])=>(i[f]=y[t[f]?.type]?y[t[f].type](d,e):d,i),{})):r}catch{return[]}},number:n=>n&&Number(n),date:n=>new Date(n),object:(n,e={})=>{const t=typeof n=="string"?x(n):n;return e.properties&&Object.entries(e.properties).map(([r,s])=>{s.defaultValue!==void 0&&(t[r]=s.defaultValue)}),t}},w=(n,e={})=>{const{type:t}=e;return(y[t]||(r=>r))(n,e)},O={number:(n,e={})=>{if("min"in e&&n<e.min)return["minimum",null];if("max"in e&&n>e.max)return["maximum",null];if(Number.isNaN(Number(n)))return["NaN",null]}},A=(n,e)=>{if(e.required===!0&&(n==null||n===""))return["required",null];const t=y[e.type];if(e.relationship)return e.many?[null,Array.isArray(n)?n.map(i=>e.mixed?i:i?.id??i):[]]:[null,n?.id??n];const r=t?t(n,e):[void 0,null,""].includes(n)?e.defaultValue??null:n,s=O[e.type];if(s){const i=s(n,e);if(i)return i}if("format"in e||g[e.key]){const i="format"in e?e.format:g[e.key];if(!(typeof i=="function"?e.format:a=>i.test(a))(r))return["invalid",null]}return[null,r]};function T(n,e){return n.replace(/\\${(.*?)}/g,(t,r)=>e[r.trim()])}const _=(n,{schema:e,row:t={},undefinedProps:r=!0,validateVirtual:s=!1})=>{if(!e)return[null,n];const i={};let f=!1;const d=r?e:n;for(const u in d){const l={...e[u],key:u};if("virtual"in l||l.persist===!1)continue;const[o,b]=[void 0,null,""].includes(n[u])&&!l.required?[null,l.defaultValue]:A(n[u],l);o?(f=!0,i[u]=o):b!==void 0&&(n[u]=b)}const a=Object.fromEntries(Object.entries(e).filter(([u,l])=>"virtual"in l));for(const u in a)if(s){const[l,o]=A(T(a[u].virtual,{...t,...n}),a[u]);l?(f=!0,i[u]=l):o!==void 0&&(n[u]=o)}else n[u]=T(a[u].virtual,{...t,...n});return f?[i,null]:[null,n]},N=(n={})=>new Proxy(n,{get(e,t,r){return t==="$"?{...e}:t in e?Reflect.get(e,t,r):s=>(e[t]=s===void 0||s,r)}}),m=(n,e)=>{const t=typeof e=="object"&&!Array.isArray(e)&&e!==null?e:{defaultValue:e};return N({type:n,persist:!0,attribute:!0,...t})},H=n=>(...e)=>{const t=e[0];let r,s=e[2];typeof e[1]=="string"?r=e[1]:s=e[1];const i=V.includes(n);return N({type:i?n==="belongs_many"?"array":"string":n==="one"?"object":"array",many:C.includes(n),belongs:i,persist:i,relationship:n,defaultValue:n==="belongs_many"?[]:null,polymorphic:t==="*"||Array.isArray(t),targetModel:t,targetForeignKey:r,index:V.includes(n),...s})},$={createType:m,stringToType:w,validateType:_},q=["one","many","belongs","belongs_many"],C=["many","belongs_many"],V=["belongs","belongs_many"],E={get(n,e){if(n[e])return n[e];const t=e.toLowerCase();return q.includes(e)?H(e):t==="extension"?(r={})=>m("extension",{...r,persist:!1,extension:!0}):(r={})=>{if(!y[t])throw new Error(`Unknown type: ${t}`);return m(t,r)}}},F=new Proxy($,E);export default F;\n',metaType:"application/javascript"},"/modules/mvc/index.js":{content:`import e from"/bootstrap.js";e.addModule({name:"mvc",frontend:!0,backend:!0,modules:["mvc/view","mvc/model","mvc/controller","app"]});
`,metaType:"application/javascript"},"/modules/mvc/view/index.js":{content:`import e from"/bootstrap.js";e.addModule({name:"view",path:"mvc/view",alias:"View",frontend:!0,backend:!0,modules:["mvc/view/fonts"]});
`,metaType:"application/javascript"},"/modules/mvc/view/fonts/index.js":{content:`import e from"/bootstrap.js";e.addModule({name:"fonts",path:"mvc/view/fonts",frontend:!0,base:[]});
`,metaType:"application/javascript"},"/modules/mvc/view/fonts/frontend.js":{content:`import a from"/bootstrap.js";const d={ttf:"truetype"},m={extralight:200,light:300,regular:400,medium:500,semibold:600,bold:700,extrabold:800},i=(t,o)=>{const{variants:e,name:n,type:s="woff2"}=o;return e.map(f=>{const c=m[f]||400;return\`@font-face {
      font-family: '\${n}';
      font-weight: \${c};
      src: url('\${a.settings.basePath}/modules/font/\${t}/\${f}.\${s}') format('\${d[s]||s}');
    }\`}).join(\`
\`)},r=(t,o)=>{const e=i(t,o),n=document.createElement("style");n.textContent=e,document.head.appendChild(n)};a.addFunctions({name:"fonts",functions:{load:r}}),a.addHooks({name:"fonts",hooks:{moduleAdded({module:t}){t.font&&r(t.name,t.font)}}});
`,metaType:"application/javascript"},"/modules/mvc/view/frontend.js":{content:'import l from"/bootstrap.js";import f from"/modules/mvc/view/html/index.js";import i from"/modules/types/index.js";const g=i.object({properties:{model:i.string(),id:i.string(),method:i.string(),filter:i.object(),includes:i.string(),order:i.string(),limit:i.number(),offset:i.number(),count:i.number()}}).$,C=i.array({}).$,_=i.object({}).$;function b(n,t){t?.constructor&&(b(n,Object.getPrototypeOf(t)),t.constructor.tag&&n.classList.add(t.constructor.tag))}class m extends HTMLElement{static get observedAttributes(){return Object.keys(this.properties).filter(t=>this.properties[t].attribute!==!1)}static properties={_data:g,_rows:C,_row:_};static _attrs={};static plugins=[];state={};_hasUpdated=!1;_ignoreAttributeChange=!1;_changedProps={};constructor(){super(),l.events.install(this)}connectedCallback(){this.constructor.properties&&this.initProps(),b(this,Object.getPrototypeOf(this));for(const t of this.constructor.plugins){const{event:e,fn:s,test:r}=t;s&&(!r||r({instance:this,component:this.constructor}))&&this.on(e,s.bind(this))}this.emit("connectedCallback",{instance:this,component:this.constructor}),this.requestUpdate()}disconnectedCallback(){this.emit("disconnectedCallback",{instance:this,component:this.constructor})}defer(t){requestAnimationFrame(t.bind(this))}q(t){return this.querySelector(t)}qa(t){return this.querySelectorAll(t)}prop(t){return{value:this[t],setValue:(e=>this[t]=e).bind(this),instance:this,prop:t}}initProps(){for(const t of this.attributes){const e=this.constructor._attrs[t.name],s=this.constructor.properties[e];if(s&&s.type!=="boolean"&&t.value===""){this.removeAttribute(t.name);continue}this.state[e]=s?i.stringToType(t.value,{...s,attribute:!0}):t.value}for(const[t,e]of Object.entries(this.constructor.properties)){const{type:s,sync:r,defaultValue:o,attribute:a=!0,setter:h,getter:u}=e;if(r)continue;this.state[t]??=this[t]??o,Object.getOwnPropertyDescriptor(this,t)||Object.defineProperty(this,t,{get:u?u.bind(this):()=>this.state[t],set:h?h.bind(this):c=>{const p=this.state[t];p!==c&&(this.state[t]=c,a&&this.updateAttribute({key:t,value:c,skipPropUpdate:!0,type:s}),this.requestUpdate(t,p))}});const d=this.state[t];!a||this.hasAttribute(t)||d===void 0||(this.updateAttribute({key:t,value:d,skipPropUpdate:!0,type:s}),this._changedProps[t]=void 0)}}requestUpdate(t,e){return t&&(this._changedProps[t]=e),this.updateComplete&&clearTimeout(this.updateComplete),this.updateComplete=setTimeout(()=>{this.performUpdate(t===void 0)},0),this.updateComplete}performUpdate(t){const e=this._changedProps;this.updateComplete=null,!(this._hasUpdated&&!t&&!this.shouldUpdate(e))&&(this.emit("willUpdate",e),this.update(e),this._hasUpdated||(this._hasUpdated=!0,this.emit("firstUpdated",e)),this.emit("updated",e),this._changedProps={})}shouldUpdate(t){const e={...t};if(!this._hasUpdated)return!0;for(const[s,r]of Object.entries(e)){const o=this[s],a=this.constructor.properties[s];(a?.hasChanged?a.hasChanged(o,r):r!==o)?this.emit("onChanged",{key:s,oldValue:r,value:o,instance:this,component:this.constructor}):delete e[s]}return this._changedProps={},Object.keys(e).length>0}update(){f.render(this.render(),this)}render(){return f``}attributeChangedCallback(t,e,s){e!==s&&(this.emit("attributeChangedCallback",{instance:this,component:this.constructor,key:t,value:s,oldValue:e}),!this._ignoreAttributeChange&&(this.state[t]=i.stringToType(s,this.constructor.properties[t]),this._hasUpdated&&this.requestUpdate(t,e)))}updateAttribute({key:t,value:e,type:s,skipPropUpdate:r=!1}){s&&(this._ignoreAttributeChange=r,s==="function"&&typeof e=="function"?this.setAttribute(t,e.toString()):s==="boolean"?e?this.setAttribute(t,""):this.removeAttribute(t):e===void 0?this.removeAttribute(t):["array","object"].includes(s)?this.setAttribute(t,JSON.stringify(e)):this.setAttribute(t,e),r?this._ignoreAttributeChange=!1:this[t]=e)}}window.$=n=>document.querySelector(n),window.$$=n=>document.querySelectorAll(n),l.setLibrary({name:"view",path:"mvc/view",alias:"View",base:m});export default m;\n',metaType:"application/javascript"},"/modules/mvc/view/html/index.js":{content:'const He=!1,ze=!1,ve=!1,Ue=!1,P=globalThis;let Be;const h=void 0;let We=0,Ye;const _=s=>s,C=P.trustedTypes,Q=C?C.createPolicy("lit-html",{createHTML:s=>s}):void 0,$e=s=>s,H=(s,e,t)=>$e,Fe=s=>{},Xe=()=>{k=H},Ke=(s,e,t)=>k(s,e,t),z="$lit$",g=`lit$${Math.random().toFixed(9).slice(2)}$`,v="?"+g,Te=`<${v}>`,E=document,S=()=>E.createComment(""),x=s=>s===null||typeof s!="object"&&typeof s!="function",U=Array.isArray,G=s=>U(s)||typeof s?.[Symbol.iterator]=="function",B=`[ 	\n\\f\\r]`,ye=`[^ 	\n\\f\\r"\'\\`<>=]`,Ne=`[^\\\\s"\'>=/]`,b=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,q=1,W=2,Se=3,Z=/-->/g,J=/>/g,$=new RegExp(`>|${B}(?:(${Ne}+)(${B}*=${B}*(?:${ye}|("|\')|))|$)`,"g"),xe=0,ee=1,be=2,te=3,ne=/\'/g,ie=/"/g,se=/^(?:script|style|textarea|title)$/i,oe=1,R=2,M=3,Y=1,I=2,Ae=3,Ve=4,we=5,F=6,Oe=7,X=s=>(e,...t)=>({_$litType$:s,strings:e,values:t}),L=X(oe),ae=X(R),je=X(M),A=Symbol.for("lit-noChange"),c=Symbol.for("lit-nothing"),re=new WeakMap,T=E.createTreeWalker(E,129);let k=H;function le(s,e){if(!U(s)||!Object.hasOwn(s,"raw")){let t="invalid template strings array";throw new Error(t)}return Q!==void 0?Q.createHTML(e):e}const de=(s,e)=>{const t=s.length-1,n=[];let i=e===R?"<svg>":e===M?"<math>":"",o,a=b;for(let r=0;r<t;r++){const l=s[r];let p=-1,d,u=0,m;for(;u<l.length&&(a.lastIndex=u,m=a.exec(l),m!==null);)u=a.lastIndex,a===b?m[q]==="!--"?a=Z:m[q]!==void 0?a=J:m[W]!==void 0?(se.test(m[W])&&(o=new RegExp(`</${m[W]}`,"g")),a=$):m[Se]!==void 0&&(a=$):a===$?m[xe]===">"?(a=o??b,p=-1):m[ee]===void 0?p=-2:(p=a.lastIndex-m[be].length,d=m[ee],a=m[te]===void 0?$:m[te]===\'"\'?ie:ne):a===ie||a===ne?a=$:a===Z||a===J?a=b:(a=$,o=void 0);const O=a===$&&s[r+1].startsWith("/>")?" ":"";i+=a===b?l+Te:p>=0?(n.push(d),l.slice(0,p)+z+l.slice(p)+g+O):l+g+(p===-2?r:O)}const f=i+(s[t]||"<?>")+(e===R?"</svg>":e===M?"</math>":"");return[le(s,f),n]};class w{parts=[];constructor({strings:e,["_$litType$"]:t},n){let i,o=0,a=0;const f=e.length-1,r=this.parts,[l,p]=de(e,t);if(this.el=w.createElement(l,n),T.currentNode=this.el.content,t===R||t===M){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(i=T.nextNode())!==null&&r.length<f;){if(i.nodeType===1){if(i.hasAttributes())for(const d of i.getAttributeNames())if(d.endsWith(z)){const u=p[a++],O=i.getAttribute(d).split(g),D=/([.?@])?(.*)/.exec(u);r.push({type:Y,index:o,name:D[2],strings:O,ctor:D[1]==="."?me:D[1]==="?"?he:D[1]==="@"?ue:V}),i.removeAttribute(d)}else d.startsWith(g)&&(r.push({type:F,index:o}),i.removeAttribute(d));if(se.test(i.tagName)){const d=i.textContent.split(g),u=d.length-1;if(u>0){i.textContent=C?C.emptyScript:"";for(let m=0;m<u;m++)i.append(d[m],S()),T.nextNode(),r.push({type:I,index:++o});i.append(d[u],S())}}}else if(i.nodeType===8)if(i.data===v)r.push({type:I,index:o});else{let u=-1;for(;(u=i.data.indexOf(g,u+1))!==-1;)r.push({type:Oe,index:o}),u+=g.length-1}o++}h?.({kind:"template prep",template:this,clonableTemplate:this.el,parts:this.parts,strings:e})}static createElement(e,t){const n=E.createElement("template");return n.innerHTML=e,n}}function y(s,e,t=s,n){if(e===A||e===c)return e;let i=n!==void 0?t.__directives?.[n]:t.__directive;const o=x(e)?void 0:e._$litDirective$;return i?.constructor!==o&&(i?._$notifyDirectiveConnectionChanged?.(!1),o===void 0?i=void 0:(i=new o(s),i?._$initialize(s,t,n)),n!==void 0?(t.__directives??=[])[n]=i:t.__directive=i),i!==void 0&&(e=y(s,i._$resolve(s,e.values),i,n)),e}class ce{_$parts=[];_$disconnectableChildren=void 0;constructor(e,t){this._$template=e,this._$parent=t}get parentNode(){return this._$parent.parentNode}get _$isConnected(){return this._$parent._$isConnected}_clone(e){const{el:{content:t},parts:n}=this._$template,i=(e?.creationScope??E).importNode(t,!0);T.currentNode=i;let o=T.nextNode(),a=0,f=0,r=n[0];for(;r!==void 0;){if(a===r.index){let l;r.type===I?l=new N(o,o.nextSibling,this,e):r.type===Y?l=new r.ctor(o,r.name,r.strings,this,e):r.type===F&&(l=new pe(o,this,e)),this._$parts.push(l),r=n[++f]}a!==r?.index&&(o=T.nextNode(),a++)}return T.currentNode=E,i}_update(e){let t=0;for(const n of this._$parts)n!==void 0&&(h?.({kind:"set part",part:n,value:e[t],valueIndex:t,values:e,templateInstance:this}),n.strings!==void 0?(n._$setValue(e,n,t),t+=n.strings.length-2):n._$setValue(e[t])),t++}}class N{type=I;_$committedValue=c;get _$isConnected(){return this._$parent?._$isConnected??this.__isConnected}_$disconnectableChildren=void 0;constructor(e,t,n,i){this._$startNode=e,this._$endNode=t,this._$parent=n,this.options=i,this.__isConnected=i?.isConnected??!0}get parentNode(){let e=_(this._$startNode).parentNode;const t=this._$parent;return t!==void 0&&e?.nodeType===11&&(e=t.parentNode),e}get startNode(){return this._$startNode}get endNode(){return this._$endNode}_$setValue(e,t=this){e=y(this,e,t),x(e)?e===c||e==null||e===""?(this._$committedValue!==c&&(h?.({kind:"commit nothing to child",start:this._$startNode,end:this._$endNode,parent:this._$parent,options:this.options}),this._$clear()),this._$committedValue=c):e!==this._$committedValue&&e!==A&&this._commitText(e):e._$litType$!==void 0?this._commitTemplateResult(e):e.nodeType!==void 0?this._commitNode(e):G(e)?this._commitIterable(e):this._commitText(e)}_insert(e){return _(_(this._$startNode).parentNode).insertBefore(e,this._$endNode)}_commitNode(e){this._$committedValue!==e&&(this._$clear(),h?.({kind:"commit node",start:this._$startNode,parent:this._$parent,value:e,options:this.options}),this._$committedValue=this._insert(e))}_commitText(e){if(this._$committedValue!==c&&x(this._$committedValue)){const t=_(this._$startNode).nextSibling;h?.({kind:"commit text",node:t,value:e,options:this.options}),t.data=e}else this._commitNode(E.createTextNode(e)),h?.({kind:"commit text",node:_(this._$startNode).nextSibling,value:e,options:this.options});this._$committedValue=e}_commitTemplateResult(e){const{values:t,["_$litType$"]:n}=e,i=typeof n=="number"?this._$getTemplate(e):(n.el===void 0&&(n.el=w.createElement(le(n.h,n.h[0]),this.options)),n);if(this._$committedValue?._$template===i)h?.({kind:"template updating",template:i,instance:this._$committedValue,parts:this._$committedValue._$parts,options:this.options,values:t}),this._$committedValue._update(t);else{const o=new ce(i,this),a=o._clone(this.options);h?.({kind:"template instantiated",template:i,instance:o,parts:o._$parts,options:this.options,fragment:a,values:t}),o._update(t),h?.({kind:"template instantiated and updated",template:i,instance:o,parts:o._$parts,options:this.options,fragment:a,values:t}),this._commitNode(a),this._$committedValue=o}}_$getTemplate(e){let t=re.get(e.strings);return t===void 0&&re.set(e.strings,t=new w(e)),t}_commitIterable(e){U(this._$committedValue)||(this._$committedValue=[],this._$clear());const t=this._$committedValue;let n=0,i;for(const o of e)n===t.length?t.push(i=new N(this._insert(S()),this._insert(S()),this,this.options)):i=t[n],i._$setValue(o),n++;n<t.length&&(this._$clear(i&&_(i._$endNode).nextSibling,n),t.length=n)}_$clear(e=_(this._$startNode).nextSibling,t){for(this._$notifyConnectionChanged?.(!1,!0,t);e&&e!==this._$endNode;){const n=_(e).nextSibling;_(e).remove(),e=n}}setConnected(e){this._$parent===void 0&&(this.__isConnected=e,this._$notifyConnectionChanged?.(e))}}class V{type=Y;_$committedValue=c;_$disconnectableChildren=void 0;get tagName(){return this.element.tagName}get _$isConnected(){return this._$parent._$isConnected}constructor(e,t,n,i,o){this.element=e,this.name=t,this._$parent=i,this.options=o,n.length>2||n[0]!==""||n[1]!==""?(this._$committedValue=new Array(n.length-1).fill(new String),this.strings=n):this._$committedValue=c}_$setValue(e,t=this,n,i){const o=this.strings;let a=!1;if(o===void 0)e=y(this,e,t,0),a=!x(e)||e!==this._$committedValue&&e!==A,a&&(this._$committedValue=e);else{const f=e;e=o[0];let r,l;for(r=0;r<o.length-1;r++)l=y(this,f[n+r],t,r),l===A&&(l=this._$committedValue[r]),a||=!x(l)||l!==this._$committedValue[r],l===c?e=c:e!==c&&(e+=(l??"")+o[r+1]),this._$committedValue[r]=l}a&&!i&&this._commitValue(e)}_commitValue(e){e===c?_(this.element).removeAttribute(this.name):(h?.({kind:"commit attribute",element:this.element,name:this.name,value:e,options:this.options}),_(this.element).setAttribute(this.name,e??""))}}class me extends V{type=Ae;_commitValue(e){h&&h({kind:"commit property",element:this.element,name:this.name,value:e,options:this.options});const t=this.element[this.name];this.element[this.name]=e===c?void 0:e,this.element?.requestUpdate&&t!==e&&this.element.requestUpdate(this.name,t)}}class he extends V{type=Ve;_commitValue(e){h?.({kind:"commit boolean attribute",element:this.element,name:this.name,value:!!(e&&e!==c),options:this.options}),_(this.element).toggleAttribute(this.name,!!e&&e!==c)}}class ue extends V{type=we;constructor(e,t,n,i,o){super(e,t,n,i,o)}_$setValue(e,t=this){if(e=y(this,e,t,0)??c,e===A)return;const n=this._$committedValue,i=e===c&&n!==c||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,o=e!==c&&(n===c||i);h?.({kind:"commit event listener",element:this.element,name:this.name,value:e,options:this.options,removeListener:i,addListener:o,oldListener:n}),i&&this.element.removeEventListener(this.name,this,n),o&&this.element.addEventListener(this.name,this,e),this._$committedValue=e}handleEvent(e){typeof this._$committedValue=="function"?this._$committedValue.call(this.options?.host??this.element,e):this._$committedValue.handleEvent(e)}}class pe{type=F;_$disconnectableChildren=void 0;constructor(e,t,n){this.element=e,this._$parent=t,this.options=n}get _$isConnected(){return this._$parent._$isConnected}_$setValue(e){h?.({kind:"commit to element binding",element:this.element,value:e,options:this.options}),y(this,e)}}const Qe={_boundAttributeSuffix:z,_marker:g,_markerMatch:v,_HTML_RESULT:oe,_getTemplateHtml:de,_TemplateInstance:ce,_isIterable:G,_resolveDirective:y,_ChildPart:N,_AttributePart:V,_BooleanAttributePart:he,_EventPart:ue,_PropertyPart:me,_ElementPart:pe},De=P.litHtmlPolyfillSupport;De?.(w,N),(P.litHtmlVersions??=[]).push("3.2.0");const Ce=(s,e,t)=>{const n=0,i=t?.renderBefore??e;let o=i._$litPart$;if(h?.({kind:"begin render",id:n,value:s,container:e,options:t,part:o}),o===void 0){const a=t?.renderBefore??null;i._$litPart$=o=new N(e.insertBefore(S(),a),a,void 0,t??{})}return o._$setValue(s),h?.({kind:"end render",id:n,value:s,container:e,options:t,part:o}),o},K=Symbol.for(""),Re=s=>{if(s?.r===K)return s?._$litStatic$},j=s=>({_$litStatic$:s,r:K}),Me=s=>{if(s._$litStatic$!==void 0)return s._$litStatic$;throw new Error(`Value passed to \'literal\' function must be a \'literal\' result: ${s}. Use \'unsafeStatic\' to pass non-literal values, but\n            take care to ensure page security.`)},Ie=(s,...e)=>({_$litStatic$:e.reduce((t,n,i)=>t+Me(n)+s[i+1],s[0]),r:K}),_e=new Map,fe=s=>(e,...t)=>{const n=t.length;let i,o;const a=[],f=[];let r=0,l=!1,p;for(;r<n;){for(p=e[r];r<n&&(o=t[r],(i=Re(o))!==void 0);)p+=i+e[++r],l=!0;r!==n&&f.push(o),a.push(p),r++}if(r===n&&a.push(e[n]),l){const d=a.join("$$lit$$");e=_e.get(d),e===void 0&&(a.raw=a,_e.set(d,e=a)),t=f}return s(e,...t)},ge=fe(L),Le=s=>ge`${j(s)}`,Ee=fe(ae),ke=s=>Ee`${j(s)}`,Pe={unsafeHTML:Le,unsafeStatic:j,staticHTML:ge,staticSVG:Ee,unsafeSVG:ke,render:Ce,html:L,literal:Ie,svg:ae,css};export function css(s,...e){return s.reduce((t,n,i)=>t+n+(e[i]??""),"")}Object.assign(L,Pe);export default L;\n',metaType:"application/javascript"},"/modules/mvc/model/index.js":{content:'import c from"/bootstrap.js";import _ from"/modules/types/index.js";c.addModule({name:"sysmodel",alias:"SysModel"});const A=({context:e,collection:t="models"})=>({module:n})=>{if(!n[t])return;const r=Object.fromEntries(Object.keys(n[t]).map(i=>{const f={id:_.string({primary:!0}),...n[t][i]};return[i,Object.fromEntries(Object.entries(f).map(([s,a])=>{const d=a?.$||a;return d.name=s,d.relationship&&!d.targetForeignKey&&(d.targetForeignKey=i),[s,d]}))]}));e.set(r)};c.addModule({name:"models",beforeSave:e=>Object.fromEntries(Object.entries(e).map(([t,n])=>[t,n.$??n])),hooks:({context:e})=>({moduleAdded:A({context:e,collection:"models"}),moduleUpdated:A({context:e,collection:"models"})})}),c.addModule({name:"sysmodels",hooks:({context:e})=>({moduleAdded:A({context:e,collection:"sysmodels"})}),settings:{APP:"App",USER:"User",DEVICE:"Device"}});const g={get(e,t,n){return t==="remove"?()=>o.request("REMOVE",e._modelName,{id:e.id}):t==="update"?()=>{const r={...e};return delete r._modelName,o.request("EDIT",e._modelName,{row:r})}:t==="include"?async r=>{if(!e.id||!e._modelName)return console.error("Cannot run .include() on an object without an ID or model name."),n;const{models:i}=c;if(!(e._modelName in i))throw new Error(`Model ${e._modelName} does not exist in models`);const s=i[e._modelName][r];if(!s)throw new Error(`Relationship \'${r}\' not found in ${e._modelName} model`);const a=await o.request("GET_MANY",s.targetModel,{opts:{filter:s.belongs?e[r]:{[s.targetForeignKey]:e.id}}});return e[r]=m(a,s.targetModel),n}:e[t]},set(e,t,n){return e[t]=n,!0}},u=async({modelName:e,action:t,payload:n})=>{const r=await o.request(t,e,n);return t==="ADD_MANY"&&r&&Array.isArray(r.results)?(r.results.forEach(i=>{i.status==="fulfilled"&&i.value&&(i.value=p(i.value,e))}),r):t.includes("MANY")?n.opts.object?r:r?.items?(r.items=m(r.items,e),r):m(r,e):p(r,e)},b=e=>[{type:"static",name:"get",handler:(t,n={})=>u({modelName:e,action:"GET",payload:t?{id:t,opts:n}:{opts:n}})},{type:"static",name:"getAll",handler:(t={})=>u({modelName:e,action:"GET_MANY",payload:{opts:t}})},{type:"static",name:"add",handler:(t,n)=>u({modelName:e,action:"ADD",payload:{row:t,opts:n}})},{type:"static",name:"addMany",handler:(t,n)=>u({modelName:e,action:"ADD_MANY",payload:{rows:t,opts:n}})},{type:"static",name:"remove",handler:t=>o.request("REMOVE",e,{id:t})},{type:"static",name:"removeAll",handler:t=>o.request("REMOVE_MANY",e,{opts:{filter:t}})},{type:"static",name:"edit",handler:t=>u({modelName:e,action:"EDIT",payload:{row:t}})},{type:"static",name:"editAll",handler:(t,n)=>o.request("EDIT_MANY",e,{opts:{filter:t,updates:n}})},{type:"static",name:"upsert",handler:(t,n)=>u({modelName:e,action:t?.id?"EDIT":"ADD",payload:{row:t,opts:n}})},{type:"dynamic",prefix:"getBy",action:"GET"},{type:"dynamic",prefix:"getAllBy",action:"GET_MANY"},{type:"dynamic",prefix:"editAllBy",action:"EDIT_MANY"},{type:"dynamic",prefix:"editBy",action:"EDIT"},{type:"dynamic",prefix:"removeBy",action:"REMOVE"},{type:"dynamic",prefix:"removeAllBy",action:"REMOVE_MANY"}],p=(e,t)=>!e||typeof e!="object"||e.errors?e:(o[t].rows[e.id]=e,o[t].on(`get:${e.id}`,n=>{if(n===void 0){delete o[t].rows[e.id];return}const{id:r,...i}=n;Object.assign(o[t].rows[e.id],i)}),e._modelName=t,new Proxy(o[t].rows[e.id],g)),m=(e,t)=>Array.isArray(e)?e.map(n=>p(n,t)):e,O=e=>typeof e!="string"||!e?e:e.charAt(0).toLowerCase()+e.slice(1),M=new Map,o=new Proxy({},{get(e,t,n){if(t in e)return Reflect.get(e,t,n);if(M.has(t))return M.get(t);const r=t,{models:i}=c;if(!(t in i))throw new Error(`Model ${r} does not exist in models`);const f=i[r],s=b(r,f),a=new Proxy({},{get(d,y,D){if(y in d)return Reflect.get(d,y,D);for(const l of s){if(l.type==="static"&&l.name===y)return l.handler;if(l.type==="dynamic"&&y.startsWith(l.prefix)){const h=y.slice(l.prefix.length);if(!h)continue;const E=O(h);if(!(E in f))throw new Error(`Property \'${E}\' not found in model \'${r}\'`);return(R,w=null)=>{const x={opts:{filter:{[E]:R}}};return w&&(x.opts.row=w),u({modelName:r,action:l.action,payload:x})}}}throw new Error(`Method \'${y}\' not found in model \'${r}\'`)}});return c.events.install(a),a.rows=c.storage.install({}),M.set(t,a),a}});o.proxifyRow=p,o.proxifyMultipleRows=m;export default o;\n',metaType:"application/javascript"},"/modules/mvc/controller/index.js":{content:`import o from"/bootstrap.js";o.addModule({name:"controller",path:"mvc/controller",alias:"Controller",modules:["mvc/controller/backend"],settings:{syncKeySeparator:"_-_"}});
`,metaType:"application/javascript"},"/modules/mvc/controller/backend/index.js":{content:`import c from"/bootstrap.js";const t=e=>{if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(n=>t(n));const a={};for(const n in e)if(Object.hasOwn(e,n)){const r=e[n];typeof r!="function"&&(a[n]=t(r))}return a};c.addModule({name:"backend",alias:"Backend",path:"mvc/controller/backend",base:{sanitize:t},backend:!0});
`,metaType:"application/javascript"},"/modules/app/index.js":{content:`import a from"/bootstrap.js";a.addModule({name:"app"});
`,metaType:"application/javascript"},"/modules/mvc/frontend.js":{content:`import o from"/bootstrap.js";import r from"/modules/mvc/controller/frontend.js";import l from"/modules/mvc/model/frontend.js";o.Model=l,o.Controller=r;export default o;
`,metaType:"application/javascript"},"/modules/mvc/controller/frontend.js":{content:'import l from"/bootstrap.js";import g from"/modules/mvc/controller/adapter-storage.js";import m from"/modules/mvc/controller/adapter-url.js";import _ from"/modules/mvc/controller/backend/frontend.js";import y from"/modules/mvc/view/frontend.js";const b={...g,...m,backend:_},p=e=>{if(typeof e=="string"&&e.includes(".")){const[r,t]=e.split(".",2);return{storeKey:r,path:t}}return{storeKey:e,path:null}},h=(e,r)=>{const t=typeof e=="function"?e:(n,s)=>s!==void 0?t.set(n,s):t.get(n);l.events.install(t);const i=(n,s)=>{a[r]?.emit(n,s)};return t.get=n=>{const{storeKey:s,path:o}=p(n),c=e.get(s);return o&&typeof c=="object"&&c!==null?c[o]:c},t.set=(n,s)=>{const{storeKey:o,path:c}=p(n);if(c){const d={...e.get(o)||{},[c]:s};return e.set(o,d),i(o,d),d}return e.set(o,s),i(o,s),s},t.remove=n=>{const{storeKey:s,path:o}=p(n);if(o){const c=e.get(s);return typeof c=="object"&&c!==null&&(delete c[o],e.set(s,c),i(s,c)),{key:s}}return e.remove(s),i(s,void 0),{key:s}},t.has=e.has,t.keys=e.keys,t.entries=e.entries,u.set(r,t),t},u=new Map,a=new Proxy({},{get(e,r){if(r in e)return e[r];if(u.has(r))return u.get(r);if(r in b)return h(b[r],r);if(l.mv3Connections?.includes(r))return(t,i={})=>(u.get("backend")||h(b.backend,"backend"))(t,i,r)}}),S=()=>{l.swEvents.set({"SW:PROP_SYNC_UPDATE":({payload:r})=>{const{sync:t,key:i,value:n}=r,s=a[t];s&&(console.log(`SYNC: Received update for ${t}.${i}`,n),s.emit(i,n,{skipBroadcast:!0}))}});const e=r=>{const t=a[r],i=new Map(t.entries()),n=new Set(t.listeners.keys());i.forEach((s,o)=>{t.emit(o,s),n.delete(o)}),n.forEach(s=>t.emit(s,void 0))};window.addEventListener("popstate",()=>{e("querystring"),e("hash")})};l.hooks.add("init",S);const j=(e,r,t)=>{if(r.scope){if(r.scope.includes(".")){const[i,n]=r.scope.split(".");if(t[i]?.[n])return`${t[i]?.[n]}:${e}`}if(t[r.scope])return`${t[r.scope]}:${e}`}return e},E=["local","session"];y.plugins.push({event:"connectedCallback",test:({component:e})=>!!e.properties,fn:({instance:e,component:r})=>{r.properties&&Object.entries(r.properties).filter(([,t])=>t.sync).forEach(([t,i])=>{const n=a[i.sync];if(!n)return;const s=j(t,i,e),o=n.get(s);E.includes(i.sync)&&!n.hasListeners(s)&&n.on(s,(f,d={})=>{d.skipBroadcast||l.SW.request("SW:BROADCAST_SYNCED_PROP",{value:f,sync:i.sync,key:s})});const c=f=>{e.state[t]=f,e.requestUpdate(t,"$$")};e._listeners||(e._listeners={}),e._listeners[i.sync]||(e._listeners[i.sync]={}),e._listeners[i.sync][s]=c,Object.getOwnPropertyDescriptor(e,t)||Object.defineProperty(e,t,{get:()=>e.state[t],set:f=>{e.state[t]!==f&&(e.state[t]=f,f!==n.get(s)&&n.set(s,f))}}),n.on(s,c),c(o??i.defaultValue)})}}),y.plugins.push({event:"disconnectedCallback",test:({component:e})=>!!e._listeners,fn:({instance:e})=>{e._listeners&&Object.entries(e._listeners).forEach(([r,t])=>{const i=a[r];i&&Object.entries(t).forEach(([n,s])=>i.off(n,s))})}});export default a;\n',metaType:"application/javascript"},"/modules/mvc/model/frontend.js":{content:`import m from"/modules/mvc/controller/backend/frontend.js";import e from"/modules/mvc/model/index.js";const d=(r,o,t={})=>m(r,{model:o,...t});e.request=d;export default e;
`,metaType:"application/javascript"},"/modules/mvc/controller/adapter-storage.js":{content:`const o=e=>typeof e=="object"&&e!==null||Array.isArray(e)?JSON.stringify(e):e,c=e=>{try{return JSON.parse(e)}catch{return e}},u=e=>t=>{const n=e.getItem(t);return n!==null?c(n):null},i=e=>(t,n)=>(e.setItem(t,o(n)),{key:t}),a=e=>t=>(e.removeItem(t),{key:t}),l=e=>()=>Object.keys(e),m=e=>t=>e.getItem(t)!==null&&e.getItem(t)!==void 0,s=e=>({has:m(e),set:i(e),remove:a(e),get:u(e),keys:l(e)}),r=new Map,d={has:e=>r.has(e),get:e=>r.get(e),set:(e,t)=>(r.set(e,t),{key:e}),remove:e=>(r.delete(e),{key:e}),keys:()=>r.keys()},g=s(window.localStorage),S=s(window.sessionStorage);export default{local:g,ram:d,session:S};
`,metaType:"application/javascript"},"/modules/mvc/controller/adapter-url.js":{content:'const r=()=>{const a=window.location.hash.substring(1);return new URLSearchParams(a)},n=a=>{const s=a.toString();window.location.hash=s},e={get:a=>r().get(a),has:a=>r().has(a),set:(a,s)=>{const t=r();return t.set(a,s),n(t),window.dispatchEvent(new Event("popstate")),{key:a}},remove:a=>{const s=r();return s.delete(a),n(s),{key:a}},keys:()=>[...r().keys()],entries:()=>[...r().entries()]},o={get(a){return new URLSearchParams(window.location.search).get(a)},set(a,s){const t=new URLSearchParams(window.location.search);return t.set(a,s),window.history?.pushState?.({},"",`${window.location.pathname}?${t}`),window.dispatchEvent(new Event("popstate")),{key:a}},remove(a){const s=new URLSearchParams(window.location.search);return s.delete(a),window.history.pushState?.({},"",`${window.location.pathname}?${s}`),{key:a}},keys(){return[...new URLSearchParams(window.location.search).keys()]},has(a){return new URLSearchParams(window.location.search).has(a)},entries:()=>[...new URLSearchParams(window.location.search).entries()]};export default{querystring:o,hash:e};\n',metaType:"application/javascript"},"/modules/mvc/controller/backend/frontend.js":{content:'import a from"/bootstrap.js";import l from"/modules/mvc/model/frontend.js";import h from"/modules/mvc/view/frontend.js";import"/modules/mvc/view/loader/index.js";let v,_;const m={},M=async(e={})=>{const{data:t}=e,{eventId:o,type:r,payload:s,connection:d}=t,n=a.events[r];let u=s;const f=o&&(p=>_.postMessage({eventId:o,payload:p,connection:d}));if(n&&(u=await n({respond:f,payload:s,eventId:o})),o&&m[o]){try{m[t.eventId].resolve(u)}catch(p){m[t.eventId].reject(new Error(p))}finally{delete m[o]}return}if(f)return f(u)},P=async()=>{v=new Worker(`/worker.js?project=${encodeURIComponent(JSON.stringify(a.settings))}`,{type:"module"});const e=new MessageChannel;_=e.port1,_.onmessage=M,_.onmessageerror=s=>{console.error(s)},v.postMessage({type:"INIT_PORT"},[e.port2]);const{user:t,device:o,app:r}=await T("INIT_APP");a.models.set(r.models),a.events.emit("INIT_APP",{user:t,device:o,app:r}),a.about={user:t,device:o,app:r},await navigator.storage.persist()},S=(e,t,o)=>{if(!e){setTimeout(()=>o(t),100);return}console.log({params:t}),e.postMessage(t)},A=e=>S(_,e,A),T=(e,t={},o=null)=>{const r=Date.now().toString()+Math.random().toString(36).substr(2,9),s={type:e,payload:t,eventId:r};return new Promise((d,n)=>{o&&(s.connection=o),m[r]={resolve:d,reject:n},A(s)})};a.hooks.add("init",P);const I=({instance:e})=>{const{id:t,model:o,limit:r,offset:s=0,includes:d,recursive:n,order:u,filter:f,row:p,rows:g}=e._data;if(p){e._row=p;return}if(g){e._rows=g;return}const c=e._data.method??t?"get":"getMany",w={limit:r,offset:s,order:u,recursive:n};f&&(w.filter=f),d&&(w.includes=Array.isArray(d)?d:d.split(","));const y=i=>{c.toLowerCase()==="get"?e._row=i:(e._rows=i.items??i,i.count&&(e._data.count=i.count)),e.requestUpdate(),e.emit("dataLoaded",{instance:e,rows:e._rows,row:e._row,component:e.constructor})};c.toLowerCase()==="get"?l[o].get(t,w).then(y):l[o].getAll(w).then(y)};h.plugins.push({event:"connectedCallback",test:({instance:e})=>e?._data?.model&&!["add","remove"].includes(e?._data?.method),fn:({instance:e})=>{e._listeners={},e._data.tag&&e.on("dataLoaded",()=>{e._updatedRender||(e.render=componentsEvents.data.render.bind(e),e._updatedRender=!0),e.requestUpdate()});const{model:t,id:o}=e._data,r=e._row;r&&!o&&(e._data.id=r.id),(r&&!o||e._rows)&&e.emit("dataLoaded",{instance:e,component:e.constructor});const s=l[t]?.rows;if(s){if(o){const d=`get:${o}`;r!==void 0&&s[o]===void 0&&(s[o]=r),e._listeners[d]=()=>{e._row=s[o],e.requestUpdate()},l[t].on(d,e._listeners[d])}else e._listeners.any=()=>I({instance:e}),l[t].onAny(e._listeners.any);!e._row&&!e._rows&&I({instance:e}),e.syncable=!0}}}),h.plugins.push({event:"disconnectedCallback",test:({instance:e})=>e.syncable,fn:({instance:e})=>{Object.entries(e._listeners).forEach(([t,o])=>{t==="any"?l[e._data.model].offAny(o):l[e._data.model].off(t,o)})}}),a.events.set({UPDATE_MODELS:({payload:{models:e}})=>a.models.set(e),REQUEST_DATA_SYNC:({payload:{model:e,key:t,data:o}})=>{l[e].emit(t,o),a.SW.request("SW:BROADCAST_DATA_SYNC",{key:t,model:e,data:o})}});export default T;\n',metaType:"application/javascript"},"/modules/mvc/view/loader/index.js":{content:'import o from"/bootstrap.js";import k from"/modules/mvc/view/frontend.js";import M from"/modules/theme/index.js";const $=`${o.settings.basePath}/modules`,u=new Map,l=new Map,h=new Map,T=e=>{if(o.components?.[e]?.path)return o.components[e].path;const t=e.split("-"),s=t[0],n=o.modules[s],r=t.slice(1).join("-");return n?[$,n.path??s,r].join("/"):[o.settings.basePath,e].join("/")};async function D(e){if(u.has(e))return u.get(e);const t=T(e),n=(await o.fs.import(`${t}.js`,{tag:e})).default;return n?(o.components[e]||(o.components[e]={}),o.components[e].path=t,o.components[e].definition=n,u.set(e,n),n):(console.warn(`[Loader] No default export found for component ${e} at ${t}.js`),null)}async function x(e,t){const{properties:s={},icons:n,formAssociated:r=!1,css:b,style:w=!1,extends:d,types:A,connectedCallback:P,disconnectedCallback:j,willUpdate:L,firstUpdated:v,updated:N,class:E,...O}=t,S=d?await y(d):k,i=class extends S{static icons=n;static css=b;static formAssociated=r;constructor(){super(),E&&this.classList.add(...E.split(" "))}static properties=(()=>{const f=super.properties||{},m=super.theme||{},c={...f};for(const p of Object.keys(s)){const a=s[p];a.type==="object"&&a.properties&&(a.properties=c[p]?.properties?{...c[p]?.properties,...a.properties}:a.properties),c[p]=c[p]?{...c[p],...a}:{...a},a.theme&&(m[p]=c[p].theme)}return A&&(m.types=A),super.theme=m,c.attribute=c.attribute===!1,c})()};return Object.assign(i.prototype,O),i.tag=e,i._attrs=Object.fromEntries(Object.keys(i.properties).map(f=>[f.toLowerCase(),f])),i.plugins=[...i.plugins],Object.entries({connectedCallback:P,disconnectedCallback:j,willUpdate:L,firstUpdated:v,updated:N}).map(([f,m])=>m&&i.plugins.push({event:f,fn:m})),(!customElements.get(e)||o.settings.preview)&&customElements.define(e,i),w&&M.loadComponentCSS(`${o.components[e].path}.css`),l.set(e,i),i}async function y(e){if(e=e.toLowerCase(),customElements.get(e))return l.has(e)||l.set(e,customElements.get(e)),l.get(e);if(l.has(e))return l.get(e);if(h.has(e))return h.get(e);const t=(async()=>{try{const s=await D(e);return s?await x(e,s):(console.warn(`[Loader] Definition for ${e} not found after loading.`),null)}catch(s){return console.error(`[Loader] Failed to define component ${e}:`,s),h.delete(e),null}})();return h.set(e,t),t}const C=(...e)=>{if(typeof e[0]=="string"){const t=e[0].toLowerCase(),s=e[1];o.hooks.run("componentAdded",{tag:t,component:s}),o.settings.dev||y(t).catch(n=>console.error(`[Loader] Error during preview definition for ${t}:`,n))}else typeof e[0]=="object"&&e[0]!==null&&Object.entries(e[0]).forEach(([t,s])=>{C(t,s)})},_=async(e=document.body)=>{if(!e||typeof e.querySelectorAll!="function")return;const t=e.querySelectorAll(":not(:defined)"),s=new Set;t.forEach(n=>{const r=n.tagName.toLowerCase();r.includes("-")&&s.add(r)}),await Promise.allSettled(Array.from(s).map(n=>y(n)))},q=()=>{new MutationObserver(async t=>{const s=new Set;for(const n of t)n.type==="childList"&&n.addedNodes.length>0&&n.addedNodes.forEach(r=>{if(r.nodeType===Node.ELEMENT_NODE){const b=w=>{const d=w.tagName.toLowerCase();d.includes("-")&&!customElements.get(d)&&!h.has(d)&&s.add(d)};b(r),typeof r.querySelectorAll=="function"&&r.querySelectorAll(":not(:defined)").forEach(b)}});s.size>0&&await Promise.allSettled(Array.from(s).map(n=>y(n)))}).observe(document.body,{childList:!0,subtree:!0})},U=()=>{o.events.on("INIT_APP",()=>{_(document.body),q()})};o.settings.dev&&o.hooks.add("init",U),o.hooks.set({componentAdded({tag:e,component:t}){u.has(e)||u.set(e,t),o.components[e]||(o.components[e]={}),o.components[e].definition=t},moduleAdded({module:e}){e.components&&Object.entries(e.components).forEach(([t,s])=>{if(Array.isArray(s))s.forEach(n=>{const r=`${e.name}-${n}`;o.components[r]||(o.components[r]={}),o.components[r].path=`${$}/${e.name}/${t}/${n}`});else{const n=`${e.name}-${t}`;o.components[n]||(o.components[n]={}),o.components[n].path=`${$}/${e.name}/${t}`}})}});const z={GET_TAG_PROPS:async({payload:e}={})=>{if(!e.tag)return;const t=await y(e.tag);return t||console.warn(`Component ${e.tag} not found. Did you forget to define it?`),t?o.Backend.sanitize(t?.properties):void 0}};o.events.set(z),o.define=C;export default{define:C};\n',metaType:"application/javascript"},"/modules/theme/index.js":{content:`import p from"https://cdn.jsdelivr.net/npm/@unocss/preset-wind4@66.3.3/+esm";const t=(s,e)=>{const o={},l=[97,92,84,75,66,55,45,35,24,15],c=[50,100,200,300,400,500,600,700,800,900];for(let n=0;n<c.length;n++)o[c[n]]=\`hsl(\${s}, \${e}, \${l[n]}%)\`;return o.DEFAULT=o[500],o},i=t(198,"100%"),m=t(120,"100%"),d=t(175,"100%"),g=t(149,"87%"),u=t(32,"100%"),y=t(345,"100%"),r=t(0,"0%");r.DEFAULT=r[700],window.__unocss={theme:{text:{color:"var(--color-surface-100)"},font:{family:"'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif",icon:{family:"lucide"}},background:{color:"var(--colors-primary-100)"},colors:{primary:i,secondary:m,tertiary:d,success:g,warning:u,danger:y,default:r,surface:r},boxShadow:{md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)"}},extendTheme:s=>a.theme.set(s),presets:[p({preflights:{theme:!0}})]},await import("https://cdn.jsdelivr.net/npm/@unocss/runtime/core.global.js");import a from"/bootstrap.js";const x=document.querySelector("#compstyles")||(()=>{const e=document.createElement("style");return e.id="compstyles",document.head.appendChild(e),e})();async function f(s){const e=await a.fs.css(s,!0);e&&(x.textContent+=e)}const h={loadComponentCSS:f};export default h;
`,metaType:"application/javascript"},"/modules/sw/index.js":{content:`import d from"/bootstrap.js";d.addModule({name:"sw",frontend:!0});
`,metaType:"application/javascript"},"/modules/sw/frontend.js":{content:'import r from"/bootstrap.js";import m from"/modules/mvc/model/frontend.js";const a={},p=async(o={})=>{const{data:t}=o,{eventId:e,type:n,payload:s}=t;if(e&&a[e]){try{a[e].resolve(s)}catch(v){a[e].reject(new Error(v))}finally{delete a[e]}return}const d=r.swEvents[n];d&&await d({payload:s})},l=new MessageChannel,c=l.port1;c.onmessage=p,c.onmessageerror=o=>{console.error(o)};const M=(o,t,e)=>{if(!o){setTimeout(()=>e(t),100);return}o.postMessage(t)},i=o=>M(c,o,i),S=(o,t={})=>{const e=Date.now().toString()+Math.random().toString(36).substr(2,9);return new Promise((n,s)=>{a[e]={resolve:n,reject:s},i({type:o,payload:t,eventId:e})})};r.addModule({name:"swEvents"}),r.swEvents.set({"SW:REQUEST_DATA_SYNC":({payload:o})=>{const{model:t,key:e,data:n}=o,s=m[t];s&&(console.log(`SYNC: Received update for ${t}.${e}`,n),s.emit(e,n))}});const g=()=>{navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"INIT_PORT"},[l.port2])};navigator.serviceWorker.addEventListener("controllerchange",g),r.hooks.add("init",g),r.addModule({name:"SW",base:{postMessage:i,request:S}});\n',metaType:"application/javascript"},"/modules/date/index.js":{content:'import n from"/bootstrap.js";const o={formatKey(t){if(!t)return null;const a=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),e=String(t.getDate()).padStart(2,"0");return`${a}-${r}-${e}`}};n.addModule({name:"date",alias:"Date",base:o});\n',metaType:"application/javascript"},"/modules/apps/brazuka/index.js":{content:`import a from"/bootstrap.js";a.addModule({name:"brazuka",path:"apps/brazuka",frontend:!0,backend:!0});
`,metaType:"application/javascript"},"/modules/apps/brazuka/frontend.js":{content:`import{marked as c}from"https://cdn.jsdelivr.net/npm/marked/lib/marked.esm.js";import d from"/bootstrap.js";import o from"/modules/mvc/view/html/index.js";import s from"/modules/types/index.js";d.define("lesson-viewer",{properties:{markdownContent:s.string(),htmlContent:s.string()},connectedCallback(){this.on("onChanged",({key:e,value:r})=>{e==="markdownContent"&&(this.htmlContent=c.parse(r||""))}),this.htmlContent=c.parse(this.markdownContent||"")},render(){return o\`
      <style>
       lesson-viewer {
                  padding: 0 2rem;
									overflow: auto;
									line-height: 2.2rem;
									font-size: 1.5rem;
									h1, h2, h3 { border-bottom: 1px solid #4a5568; padding-bottom: 0.3em; margin-top: 1em; margin-bottom: 1em; }
									code { display: inline-block; background-color: #ccc; padding: 0.2em; margin: 0.1rem; border-radius: 6px; font-family: monospace; font-size: 0.9em; }
						pre {
										white-space: pre-wrap;
									}
									pre code { background-color: transparent; padding: 0; margin: 0; }
									hr { border-color: #4a5568; margin: 2em 0; }
								}
      </style>
			\${o.unsafeHTML(this.htmlContent)}
    \`}});const t={background:"bg-white",text:"text-gray-800",panelBackground:"bg-gray-50",border:"border-gray-200",brandText:"text-indigo-600"};d.define("learning-app",{class:\`flex flex-grow flex-col \${t.background} \${t.text}\`,properties:{_rows:s.array(),currentLessonId:s.string({sync:"querystring",key:"lesson"}),currentCourse:s.object({getter(){return this.currentLesson?this.currentLesson.course:null}}),currentLesson:s.object({getter(){return!this._rows||!this.currentLessonId?null:this._rows.find(e=>e.id===this.currentLessonId)}}),currentExerciseIndex:s.number(0),currentExercise:s.object({getter(){if(this.currentLesson)return this.currentLesson.exercises?.[this.currentExerciseIndex]}}),editorContent:s.string(),consoleOutput:s.array([])},connectedCallback(){this.on("dataLoaded",({instance:e})=>{!(e.currentLessonId&&e._rows.some(i=>i.id===e.currentLessonId))&&e._rows.length>0&&(e.currentLessonId=e._rows[0].id),e.loadExercise()})},loadExercise(){this.currentExercise&&(this.editorContent=this.currentExercise.seed,this.consoleOutput=[{type:"system",text:"Execute os testes para verificar seu c\\xF3digo."}])},onEditorUpdate(e){this.editorContent=e},handleSelectExercise(e,r){this.currentLessonId=e.id,this.currentExerciseIndex=r,this.loadExercise()},handleBack(){this.currentExerciseIndex>0&&(this.currentExerciseIndex--,this.loadExercise())},handleNext(){this.currentLesson&&this.currentExerciseIndex<this.currentLesson.exercises.length-1&&(this.currentExerciseIndex++,this.loadExercise())},handleRunTests(){if(!this.currentExercise)return;const e=this.editorContent,r=this.currentExercise.tests;let i=!0;const n=r.map(l=>{const a=new RegExp(l.regex).test(e);return a||(i=!1),{text:l.text,passed:a,type:"test"}});i?n.push({type:"success",text:"Parab\\xE9ns! Todos os testes passaram. V\\xE1 para o pr\\xF3ximo passo."}):n.push({type:"error",text:"Alguns testes n\\xE3o passaram. Continue tentando!"}),this.consoleOutput=n},render(){return!this.currentLesson||!this.currentExercise||!this.currentCourse?o\`<div class="flex-grow flex items-center justify-center">Carregando Curso...</div>\`:o\`
      <div class="flex flex-col flex-grow overflow-hidden">
        <!-- Barra Superior -->
        <div class="flex-shrink-0 flex items-center justify-between p-4 \${t.panelBackground} border-b \${t.border}">
          <div class="flex items-center gap-4">
            <div class="font-bold text-xl \${t.brandText}">Brazuka.dev</div>
            <div class="text-gray-400">/</div>
            <uix-link label=\${this.currentCourse.title}></uix-link>
            <div class="text-gray-400">/</div>
            <uix-link label=\${this.currentLesson.title}></uix-link>
          </div>
          <div class="flex items-center gap-4">
            <uix-link label="Cursos"></uix-link>
            <uix-link label="Li\xE7\xF5es"></uix-link>
          </div>
        </div>

        <!-- \xC1rea de Conte\xFAdo Principal -->
        <div class="flex flex-1 overflow-hidden">
          <lesson-viewer class="w-[30%] flex-shrink-0 flex flex-col \${t.panelBackground} border-r \${t.border}" .markdownContent=\${this.currentLesson.content}></lesson-viewer>       
          <uix-divider resizable vertical class="cursor-col-resize"></uix-divider>

          <!-- Workspace Direito: Duas Colunas -->
          <div class="flex-1 flex overflow-hidden">
           
            <!-- Coluna 1: Instru\xE7\xF5es, Tarefas & Console -->
            <div class="flex-1 flex flex-col overflow-hidden">
              <div class="flex-1 flex flex-col overflow-auto border-b \${t.border}">
                <lesson-viewer class="flex-1" .markdownContent=\${\`# Exerc\\xEDcio \${this.currentExercise.order}: \${this.currentExercise.title}

\${this.currentExercise.instructions}\`}></lesson-viewer>
              </div>
             
              <!-- Se\xE7\xE3o de Tarefas -->
                <div class="flex-shrink-0 p-4 border-b \${t.border} overflow-y-auto">
                    \${this._rows.filter(e=>e.course.id===this.currentCourse.id).map(e=>o\`
                        <details class="mb-2" ?open=\${e.id===this.currentLesson.id}>
                            <summary class="font-bold cursor-pointer hover:text-indigo-600">\${e.title}</summary>
                            <div class="flex flex-col gap-2 pl-4 pt-2">
                                \${e.exercises.map((r,i)=>o\`
                                    <div 
                                        @click=\${()=>this.handleSelectExercise(e,i)}
                                        class="p-2 rounded-md cursor-pointer text-sm \${this.currentExercise.id===r.id?"bg-indigo-100 text-indigo-700":"hover:bg-gray-100"}">
                                        \${r.title}
                                    </div>
                                \`)}
                            </div>
                        </details>
                    \`)}
                </div>
             
              <div class="flex-shrink-0 h-[20%] \${t.panelBackground} p-4 font-mono text-sm overflow-y-auto">
                <div class="font-bold mb-2">CONSOLE</div>
                \${this.consoleOutput.map(e=>{let r="text-gray-600";e.type==="test"&&(r=e.passed?"text-green-600":"text-red-600"),e.type==="success"&&(r="text-green-600 font-bold"),e.type==="error"&&(r="text-red-600 font-bold"),e.type==="system"&&(r="text-blue-600");const i=e.type==="test"?e.passed?"\\u2713":"\\u2717":">";return o\`<div class=\${r}>\${i} \${e.text}</div>\`})}
              </div>
        <!-- Rodap\xE9: Bot\xF5es de A\xE7\xE3o -->
        <div class="flex-shrink-0 flex items-center justify-center p-2 \${t.panelBackground} border-t \${t.border} gap-4">
          <uix-button @click=\${this.handleBack.bind(this)} label="Voltar" icon="arrow-left" ?disabled=\${this.currentExerciseIndex===0}></uix-button>
          <uix-button @click=\${this.handleRunTests.bind(this)} label="Executar" icon="play" class="bg-green-500 hover:bg-green-600 text-white"></uix-button>
          <uix-button @click=\${this.handleNext.bind(this)} label="Avan\xE7ar" icon="arrow-right" ?disabled=\${this.currentExerciseIndex>=this.currentLesson.exercises.length-1}></uix-button>
          <theme-darkmode type="ghost" ghost></theme-darkmode>
        </div>
            </div>

            <uix-divider resizable vertical class="cursor-col-resize"></uix-divider>

            <!-- Coluna 2: Editor & Pr\xE9-visualiza\xE7\xE3o -->
            <div class="flex-1 flex flex-col overflow-hidden">
              <div class="flex-1 flex flex-col overflow-auto border-b \${t.border}">
                <editor-textarea
                  class="flex-grow"
                  content=\${this.editorContent}
                  language="html"
                  .onUpdate=\${this.onEditorUpdate.bind(this)}
                ></editor-textarea>
              </div>
              <uix-divider resizable class="cursor-row-resize"></uix-divider>
              <div class="flex-1 flex flex-col overflow-auto">
                <ide-preview
                  class="flex flex-col flex-grow"
                  language="html"
                  content=\${this.editorContent}
                ></ide-preview>
              </div>
            </div>
        </div>
      </div>
    \`}}),d.define("app-index",{class:"flex flex-grow",render(){return o\`
      <learning-app
        class="flex-grow"
        ._data=\${{model:"lessons",includes:["exercises","course"],order:"order"}}
      ></learning-app>
    \`}});
`,metaType:"application/javascript"},"/modules/apps/admin/index.js":{content:`import p from"/bootstrap.js";p.addModule({name:"admin",path:"apps/admin",frontend:!0,modules:["router","apps/cms","apps/drive","apps/project","apps/ide","apps/chat","apps/editor","apps/bundler","apps/mcp"]});
`,metaType:"application/javascript"},"/modules/router/index.js":{content:`import r from"/bootstrap.js";r.addModule({name:"router",frontend:!0});
`,metaType:"application/javascript"},"/modules/router/frontend.js":{content:'import o from"/bootstrap.js";import u from"/modules/mvc/controller/frontend.js";import p from"/modules/mvc/view/html/index.js";class h{static stack=[];static routes={};static init(t,e){if(!Object.keys(t).length)return console.error("Error: no routes loaded");this.routes=t,this.defaultTitle=e,window.addEventListener("popstate",()=>{const s=window.location.pathname+window.location.search;this.handleHistoryNavigation(s)}),this.setCurrentRoute(window.location.pathname+window.location.search,!0)}static handleHistoryNavigation(t){const e=this.stack.findIndex(s=>this.normalizePath(s.path)===this.normalizePath(t));if(e!==-1){this.truncateStack(e);const s=this.matchRoute(t);s&&this.updateCurrentRouteInRam(s)}else this.setCurrentRoute(t,!0)}static go(t){this.setCurrentRoute(t,!0)}static home(){this.stack=[],this.go("/")}static back(){if(this.stack.length<=1){this.home();return}this.stack=this.stack.slice(0,-1),window.history.back()}static pushToStack(t,e={},s=this.defaultTitle){t==="/"?this.stack=[]:this.stack.push({path:t,params:e,title:s})}static isRoot(){return this.stack.length===0}static truncateStack(t=0){t>=this.stack.length||(this.stack=this.stack.slice(0,t+1))}static normalizePath(t="/"){return((t.includes("url=")?t.split("url=")[1]:t.split("?")[0])||"/").replace(/\\/+$/,"")}static push(t,e={}){window.history.pushState(e,"",t);const s=new PopStateEvent("popstate",{state:e});window.dispatchEvent(s)}static setCurrentRoute(t,e=!0){if(!this.routes)return;const s=this.normalizePath(t),i=this.matchRoute(s);if(!i)return this.go("/");this.updateCurrentRouteInRam(i),e&&(this.pushToStack(s,i.params,i.route.title||this.defaultTitle),this.push(t,{path:s}))}static matchRoute(t){const e=t.split("?")[0];if(this.routes[e])return{route:this.routes[e],params:{},path:e};for(const s in this.routes){const i=[],l=s.replace(/:([^/]+)/g,(c,r)=>(i.push(r),"([^/]+)")),m=new RegExp(`^${l.replace(/\\/+$/,"")}$`),a=e.match(m);if(!a)continue;const n={};return i.forEach((c,r)=>{n[c]=a[r+1]}),{route:this.routes[s],params:n,path:e}}return null}static setTitle(t){document.title=t,this.stack.at(-1).title=t,this.currentRoute.route.title=t,u.ram.set("currentRoute",{...this.currentRoute})}static updateCurrentRouteInRam(t){this.currentRoute=t,this.currentRoute.root=this.isRoot(),u.ram.set("currentRoute",this.currentRoute)}}const d=()=>{h.init(o.routes)};o.hooks.add("init",d),o.routes.set({"/":{component:()=>p`<app-index></app-index>`}});export default h;\n',metaType:"application/javascript"},"/modules/apps/cms/index.js":{content:`import a from"/bootstrap.js";a.addModule({name:"cms",path:"apps/cms",namespace:!0,settings:{appbar:{label:"Data",icon:"database"}}});
`,metaType:"application/javascript"},"/modules/apps/drive/index.js":{content:`import d from"/bootstrap.js";d.addModule({name:"drive",path:"apps/drive",backend:!0});
`,metaType:"application/javascript"},"/modules/apps/project/index.js":{content:`import n from"/bootstrap.js";const r=e=>{const t=\`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>\${e}</title>
  <link rel="stylesheet" href="index.css">
</head>
<body>
  <h1>Welcome to \${e}!</h1>
  <p>Your new project is ready to go.</p>
  <script type="module" src="index.js"><\\/script>
</body>
</html>\`,o=\`console.log("\\u2728 Hello from \${e}!");console.trace();

// Your JavaScript code starts here.
\`;return[{name:e,directory:"/projects",isDirectory:!0},{name:"index.html",directory:\`/projects/\${e}\`,content:t,mimeType:"text/html"},{name:"index.js",directory:\`/projects/\${e}\`,content:o,mimeType:"application/javascript"},{name:"index.css",directory:\`/projects/\${e}\`,content:\`body {
  font-family: system-ui, -apple-system, sans-serif;
  display: grid;
  place-content: center;
  text-align: center;
  min-height: 100vh;
  margin: 0;
  background-color: #f0f2f5;
  color: #1c1e21;
}
\`,mimeType:"text/css"}]};n.addModule({name:"project",path:"apps/project",backend:!0,frontend:!0,functions:{newProjectTemplate:r},settings:{appbar:{label:"Management",icon:"folder"}}});
`,metaType:"application/javascript"},"/modules/apps/project/frontend.js":{content:'import o from"/bootstrap.js";import c from"/modules/mvc/controller/frontend.js";import"/modules/mvc/view/html/index.js";const n={"project:new-project":async({IDE:t})=>{const e=prompt("Enter the new project name:");if(e){const r=o.project.newProjectTemplate(e);await t.filesystem.createFiles(r),c.local.set("selectedProject",e)}},"project:open-project":async({IDE:t})=>{c.local.set("selectedProject",null),c.local.set("selectedProjectConfig",null)},"project:save-project":async({IDE:t})=>{const e=t.project.getCurrent();e&&await t.project.save(e)},"project:close-project":async()=>{confirm("Are you sure you want to close the project?")&&(c.local.set("selectedProject",null),c.local.set("selectedProjectConfig",null))},"project:delete-project":async({IDE:t})=>{const e=t.project.getCurrent();e&&confirm(`Delete project ${e.name}?`)&&await t.project.delete(e)}},s={"ctrl+n":"project:new-project","ctrl+o":"project:open-project","ctrl+shift+d":"project:delete-project"},l={"project:new-project":"New Project...","project:open-project":"Open Project...","project:close-project":"Close Project","project:delete-project":"Delete Project"};o.settings.add("globalKeybindings",s),o.settings.add("commands",n),o.settings.add("menu",l),o.data.set({boards:[{name:"Backlog",description:"Development Tasks"},{name:"In Development",description:"Development Tasks"},{name:"Finished",description:"Development Tasks"},{name:"Cancelled",description:"Development Tasks"}],files:[{name:"projects",directory:"",isDirectory:!0},...o.project.newProjectTemplate("untitled-1")]});\n',metaType:"application/javascript"},"/modules/apps/ide/index.js":{content:`import e from"/bootstrap.js";e.addModule({name:"ide",backend:!0,frontend:!0,path:"apps/ide",settings:{useTabs:!1,tabSize:2,autoClosing:!0,appbar:{label:"IDE - Code Editor",icon:"code"}},modules:["filesystem"]});
`,metaType:"application/javascript"},"/modules/filesystem/index.js":{content:`import e from"/bootstrap.js";e.addModule({name:"filesystem",frontend:!0,modules:["filesystem/local","filesystem/opfs","filesystem/db"]});
`,metaType:"application/javascript"},"/modules/filesystem/local/index.js":{content:`import e from"/bootstrap.js";e.addModule({name:"fslocal",path:"filesystem/local",frontend:!0});
`,metaType:"application/javascript"},"/modules/filesystem/local/frontend.js":{content:`import r from"/bootstrap.js";class s{constructor(){this.files=new Map,this.currentDirectory=null}async createFile(e="",t=""){try{const i=await this._getFileHandle(e,!0),a=await i.createWritable();await a.write(t),await a.close();const l={path:e,name:e.split("/").pop(),content:t,handle:i,lastModified:Date.now()};return this.files.set(e,l),l}catch(i){throw console.error("File creation failed:",i),i}}async _getFileHandle(e,t=!1){const i=e.split("/").filter(l=>l);let a=this.currentDirectory||await window.showDirectoryPicker();for(let l=0;l<i.length-1;l++)a=await a.getDirectoryHandle(i[l],{create:t});return a.getFileHandle(i[i.length-1],{create:t})}async readFile(e){return await(await(await this._getFileHandle(e)).getFile()).text()}async writeFile(e,t){const a=await(await this._getFileHandle(e,!0)).createWritable();return await a.write(t),await a.close(),this.createFile(e,t)}async deleteFile(e){const t=e.split("/").filter(a=>a);await(await this._getFileHandle(t.slice(0,-1).join("/"))).removeEntry(t[t.length-1]),this.files.delete(e)}}r.setLibrary({name:"fslocal",alias:"FileSystemAccessAdapter",base:s});
`,metaType:"application/javascript"},"/modules/filesystem/opfs/index.js":{content:`import e from"/bootstrap.js";e.addModule({name:"opfs",path:"filesystem/opfs",frontend:!0});
`,metaType:"application/javascript"},"/modules/filesystem/opfs/frontend.js":{content:`import l from"/bootstrap.js";class o{constructor(){this.files=new Map,this.currentDirectory=null}async createFile(t,r=""){try{const e=await navigator.storage.getDirectory(),a=await this._resolvePath(e,t,!0),i=await a.createWritable();await i.write(r),await i.close();const s={path:t,name:t.split("/").pop(),content:r,handle:a,lastModified:Date.now()};return this.files.set(t,s),s}catch(e){throw console.error("File creation failed:",e),e}}async _resolvePath(t,r,e=!1){const a=r.split("/").filter(s=>s);let i=t;for(let s=0;s<a.length-1;s++)i=await i.getDirectoryHandle(a[s],{create:e});return i.getFileHandle(a[a.length-1],{create:e})}async readFile(t){return await(await(await this._resolvePath(await navigator.storage.getDirectory(),t)).getFile()).text()}async writeFile(t,r){const a=await(await this._resolvePath(await navigator.storage.getDirectory(),t,!0)).createWritable();return await a.write(r),await a.close(),this.createFile(t,r)}async deleteFile(t){const r=await navigator.storage.getDirectory(),e=t.split("/").filter(i=>i);await(await this._resolvePath(r,e.slice(0,-1).join("/"))).removeEntry(e[e.length-1]),this.files.delete(t)}}l.setLibrary({name:"opfs",alias:"OPFSAdapter",base:o});
`,metaType:"application/javascript"},"/modules/filesystem/db/index.js":{content:`import d from"/bootstrap.js";d.addModule({name:"fsdb",path:"filesystem/db",frontend:!0});
`,metaType:"application/javascript"},"/modules/filesystem/db/frontend.js":{content:`import s from"/bootstrap.js";import r from"/modules/mvc/model/frontend.js";class l{async createFiles(e){return console.log({entries:e}),r.files.addMany(e)}async createFile({directory:e,name:t,content:a=""}){const i={directory:e,name:t,content:a};return r.files.add(i)}async createFolder({name:e,directory:t}){const a={directory:t,name:e,isDirectory:!0};return r.files.add(a)}async readFile(e){const t=await r.files.getByPath(e);if(!t)throw new Error("File not found");return t.content}async saveFile({path:e,content:t}){const a=await r.files.getByPath(e);if(!a)return this.createFile({path:e,content:t});const i={...a,content:t};return await r.files.edit({id:a.id,content:t}),i}async deleteFile({id:e}){await r.files.remove(e)}async listDirectory(e){return await r.files.getAll()}}s.setLibrary({name:"fsdb",alias:"FSDBAdapter",base:l});
`,metaType:"application/javascript"},"/modules/filesystem/frontend.js":{content:`import c from"/bootstrap.js";const{FileSystemAccessAdapter:F,OPFSAdapter:d,FSDBAdapter:f}=c,p={FileSystem:F,OPFS:d,DB:f};class y{constructor(e="DB"){const t=p[e]||f;this.adapter=new t}async createFile({name:e,directory:t,content:s=""}){const{onBeforeCreateFile:r=[],onAfterCreateFile:a=[]}=c,i={name:e,directory:t,content:s,originalContent:s};for(const o of r)await o(i);const n=await this.adapter.createFile(i);i.result=n;for(const o of a)await o(i);return n}async createFiles(e){return this.adapter.createFiles(e)}async createFolder({name:e,directory:t="/"}){return this.adapter.createFolder({name:e,directory:t})}async readFile(e){return this.adapter.readFile(e)}async saveFile({path:e,name:t,directory:s,content:r}){const{onBeforeSaveFile:a=[],onAfterSaveFile:i=[]}=c,n={name:t,path:e,directory:s,content:r,originalContent:r};for(const l of a)await l(n);const o=await this.adapter.saveFile(n);for(const l of i)await l(n);return o}async deleteFile(e){const{onBeforeDeleteFile:t=[],onAfterDeleteFile:s=[]}=c;for(const a of t)await a(e);const r=await this.adapter.deleteFile(e);e.result=r;for(const a of s)await a(e);return r}async listFiles(e=""){return this.adapter.listDirectory(e)}async openDirectory(){return this.adapter instanceof F&&(this.adapter.currentDirectory=await window.showDirectoryPicker()),this.listFiles()}}c.setLibrary({name:"filesystem",alias:"FileSystemAdapter",base:y});
`,metaType:"application/javascript"},"/modules/apps/ide/frontend.js":{content:'import s from"/bootstrap.js";import"/modules/apps/ide/plugins/highlight.js";import"/modules/apps/ide/plugins/format.js";import"/modules/apps/ide/plugins/explorer.js";import"/modules/apps/ide/plugins/edit.js";import"/modules/apps/ide/plugins/markdown.js";import"/modules/apps/ide/plugins/keybindings.js";import"/modules/apps/ide/highlights/css.js";import"/modules/apps/ide/highlights/html.js";import"/modules/apps/ide/highlights/javascript.js";import j from"/modules/mvc/controller/frontend.js";const{ram:w}=j,{FileSystemAdapter:G}=s,q=()=>{const u=s.settings.IDE,i=new G,a=()=>window.$("editor-textarea"),K=()=>window.$("editor-explorer")?.q("editor-explorer"),h=({name:t,path:o,content:e,original:n,language:r})=>{window.$("editor-tabs").addTab({name:t,path:o,content:e,original:n,language:r})},c=(t,o={})=>{const e=s.settings.commands[t];if(e){const n=a(),r=K(),A=w.get("IDE"),g=window.$("editor-textarea"),L=g?.q("textarea"),y={settings:u,IDE:A,panel:n,editor:g,explorer:r,input:L,...o};s.hooks.run(t,y),e(y)}else console.warn(`Command ${t} is not registered.`)},f=t=>s.settings.commands[t],x=t=>t.toLowerCase().split("+").sort().join("+"),E=t=>x((t.ctrlKey?"ctrl+":"")+(t.metaKey?"meta+":"")+(t.altKey?"alt+":"")+(t.shiftKey?"shift+":"")+t.key),l=(t="globalKeybindings")=>(o,e)=>{const n=E(o);s.settings?.[t][n]&&(o.preventDefault(),console.log(s.settings?.[t][n]),c(s.settings?.[t][n],e))},C=l("editorKeybindings"),d=l("globalKeybindings"),k=(t,o)=>{m(),t.addEventListener("keydown",e=>C(e,{...o,event:e}))},m=()=>{},D=()=>{p(),window.addEventListener("keydown",d)},p=()=>{window.removeEventListener("keydown",d)},$=()=>{const t={},o=s.settings.menu||{};return Object.keys(o).forEach(e=>{const n=o[e],[r]=e.split(":");t[r]||(t[r]={label:I(r),items:[]}),t[r].items.push([n,e])}),Object.values(t)},I=t=>t.charAt(0).toUpperCase()+t.slice(1);return{getActiveEditor:a,openFile:h,fs:i,filesystem:i,getCommand:f,executeCommand:c,attachKeybindings:k,attachGlobalKeybindings:D,detachKeybindings:m,detachGlobalKeybindings:p,getMenuItems:$}},b=q();w.set("IDE",b);export default b;\n',metaType:"application/javascript"},"/modules/apps/ide/plugins/highlight.js":{content:'import o from"/bootstrap.js";const l={name:"highlight",applyHighlighting({language:i,code:n}){const e=o.settings.highlights[i]||{regex:[]},t=this.tokenize(n,e.regex);return this.tokensToHTMLLines(t,i).map((h,p)=>`${h||""}\n`).join("")},tokenize(i,n){const e=[];let t=i;for(;t.length>0;){let s=!1;for(const[h,p]of n){const r=h.exec(t);if(r&&r.index===0){e.push({text:r[0],type:p}),t=t.slice(r[0].length),s=!0;break}}s||(e.push({text:t[0],type:"plain"}),t=t.slice(1))}return e},tokensToHTMLLines(i,n){const e=[];let t=[];for(const s of i)s.text.split(`\n`).forEach((p,r)=>{r>0&&(e.push(this.renderTokens(t,n)),t=[]),p.length>0&&t.push({text:p,type:s.type})});return e.push(this.renderTokens(t,n)),e},renderTokens(i,n){return i.map(e=>e.type==="WHITESPACE"?e.text.replace(/\\t/g,"&nbsp;&nbsp;").replace(/ /g,"&nbsp;"):e.type==="plain"?`<editor-tag ${n} plain>${this.escapeHTML(e.text)}</editor-tag>`:`<editor-tag ${n} ${e.type.toLowerCase()}>${this.escapeHTML(e.text)}</editor-tag>`).join("")},escapeHTML(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}};o.settings.add("commands",{"highlight:apply":l.applyHighlighting.bind(l)});\n',metaType:"application/javascript"},"/modules/apps/ide/plugins/format.js":{content:'import c from"/bootstrap.js";const i={handleKeydown({event:e,input:t,editor:n}){const{selectionStart:a,selectionEnd:r}=t,{key:o}=e;i.isCharacterKey(e)?i.isOpeningBrace(o)||i.isQuote(o)?(e.preventDefault(),i.handleAutoComplete({key:o,start:a,end:r,input:t,editor:n})):a!==r&&(e.preventDefault(),i.handleReplaceSelection({key:o,start:a,end:r,input:t,editor:n})):(o==="Backspace"||o==="Delete")&&i.handleDelete({key:o,start:a,end:r,input:t,editor:n,event:e})},handleAutoComplete({key:e,start:t,end:n,input:a,editor:r}){const o=i.getPair(e),s=`${e}${o}`;i.updateContent({input:a,start:t,end:n,newText:s,cursorPosition:t+1,editor:r})},handleReplaceSelection({key:e,start:t,end:n,input:a,editor:r}){i.updateContent({input:a,start:t,end:n,cursorPosition:t+1,newText:e,editor:r})},handleDelete({key:e,start:t,end:n,input:a,editor:r,event:o}){const s=a.value[t-1],l=a.value[t];i.isMatchingPair(s,l)?(o.preventDefault(),i.updateContent({input:a,start:t-1,end:n+1,cursorPosition:t-1,newText:"",editor:r})):i.isIndentationDeletion({key:e,start:t,input:a})&&(o.preventDefault(),i.updateContent({input:a,start:t-2,cursorPosition:t-2,end:n,newText:"",editor:r}))},updateContent({input:e,start:t,end:n,cursorPosition:a,newText:r,editor:o}){const s=e.value,l=s.slice(0,t)+r+s.slice(n);l!==s&&(o.updateContent(l),a&&setTimeout(()=>{e.selectionStart=a,e.selectionEnd=a},0))},trimTrailingLines(e){return e.replace(/\\s+$/g,`\n`).replace(/\\n{2,}$/,`\n`)},isOpeningBrace(e){return["{","(","["].includes(e)},isQuote(e){return[\'"\',"\'","`"].includes(e)},getPair(e){return{"{":"}","(":")","[":"]",\'"\':\'"\',"\'":"\'","`":"`"}[e]},isMatchingPair(e,t){return i.getPair(e)===t},isIndentationDeletion({key:e,start:t,input:n}){return e!=="Backspace"||t<2?!1:n.value.slice(t-2,t)==="  "},isCharacterKey(e){if(e.ctrlKey||e.altKey||e.metaKey)return!1;const t=e.key,n=e.code;return t.length===1?!0:n==="Enter"?!1:!(n.startsWith("Arrow")||n.startsWith("Home")||n.startsWith("End")||n.startsWith("Page")||["Tab","Escape","Backspace","Delete","Control","Alt","Shift","ContextMenu"].includes(t))}},d={"editor:auto-complete":({key:e,start:t,end:n,input:a,editor:r})=>{const o=i.getPair(e),s=`${e}${o}`;i.updateContent({input:a,start:t,end:n,newText:s,cursorPosition:t+1,editor:r})},"editor:replace-selection":e=>{i.handleReplaceSelection(e)},"editor:delete-pair":e=>{i.handleDelete(e)},"editor:trim-trailing-lines":e=>{i.trimTrailingLines(e)}};c.hooks.add("onEditorInit",({editor:e,input:t})=>{t.addEventListener("keydown",n=>i.handleKeydown({event:n,input:t,editor:e}))}),c.hooks.add("onFileOpen",({editor:e,settings:t,file:n})=>{let a;if(!t.useTabs){const r=t.tabSize||2,o=" ".repeat(r);a=n.content.replace(/\\t/g,o)}a=i.trimTrailingLines(a),e.updateContent(a)}),c.settings.add("commands",d);\n',metaType:"application/javascript"},"/modules/apps/ide/plugins/explorer.js":{content:'import s from"/bootstrap.js";const a={"file:new-file":async({IDE:e,explorer:l,directory:t="/"})=>{setTimeout(async()=>{const i=prompt("What\'s the file name?");if(i){const o=await e.filesystem.createFile({name:i,directory:t,content:""});o&&l.selectItem(o)}},16)},"file:new-folder":async({IDE:e,directory:l="/"})=>{setTimeout(async()=>{const t=prompt("What\'s the folder name?");t&&await e.filesystem.createFolder({name:t,directory:l})},16)},"file:new-window":()=>{console.log("New Window command executed");const e=window.location.href;window.open(e,"_blank")},"file:open-file":async({IDE:e})=>{const l=await e.filesystem.openFile();l&&e.openFile(l)},"file:open-folder":async({IDE:e})=>{await e.filesystem.openFolder()},"file:save":async({IDE:e,editor:l})=>{await e.filesystem.saveFile(l.getActiveFile())},"file:save-as":async({IDE:e,editor:l,name:t,directory:i,path:o})=>{const n=l.getActiveFile();await e.filesystem.saveFile({name:t,directory:i,path:o,content:n.content})},"file:delete-file":async({IDE:e,explorer:l})=>{const t=l.selectedFiles;for(const i of t)i.isDirectory||await e.filesystem.deleteFile(i)},"file:delete-folder":async({IDE:e})=>{const l=await e.filesystem.getSelectedItems();for(const t of l)t.isDirectory&&await e.filesystem.deleteFolder(t.path)},"file:rename":async({IDE:e})=>{const l=await e.filesystem.getSelectedItems();for(const t of l){const i=prompt(`Rename ${t.name} to:`,t.name);if(i&&i!==t.name){const o=t.path.replace(t.name,i);await e.filesystem.editName(t.path,o)}}},"file:move":async({IDE:e})=>{const l=await e.filesystem.getSelectedItems(),t=prompt("Enter new directory path:");if(t)for(const i of l){const o=`${t}/${i.name}`;await e.filesystem.moveFileOrFolder(i.path,o)}},"file:close-editor":({editor:e})=>{console.log("Close Editor command executed"),e&&(e.clearContent(),e.currentFileHandle=null,e.file=null)},"file:close-folder":({IDE:e})=>{console.log("Close Folder command executed"),s.settings["editor:filesystem"]=!1,e.setFiles([])},"file:close-window":()=>{console.log("Close Window command executed"),confirm("Are you sure you want to close this window?")&&window.close()},"file:exit":()=>{console.log("Exit command executed"),confirm("Are you sure you want to exit the IDE?")&&window.close()}},f={"file:new-file":"New File...","file:new-folder":"New Folder...","file:new-window":"New Window","file:open-file":"Open File...","file:open-folder":"Open Folder...","file:save":"Save","file:save-as":"Save As...","file:delete-file":"Delete File","file:delete-folder":"Delete Folder","file:rename":"Rename","file:move":"Move","file:close-editor":"Close Editor","file:close-folder":"Close Folder","file:close-window":"Close Window","file:exit":"Exit"};s.settings.add("commands",a),s.settings.add("menu",f);\n',metaType:"application/javascript"},"/modules/apps/ide/plugins/edit.js":{content:'import m from"/bootstrap.js";const p={"selection:select-all"({input:n}){n.setSelectionRange(0,n.value.length)},"selection:expand-selection"({input:n}){const{selectionStart:c,selectionEnd:l,value:t}=n;let e=c,i=l;e>0&&e--,i<t.length&&i++,n.setSelectionRange(e,i)},"selection:shrink-selection"({input:n}){const{selectionStart:c,selectionEnd:l}=n;let t=c,e=l;t<e&&t++,e>t&&e--,n.setSelectionRange(t,e)},"selection:copy-line-up"({input:n,editor:c}){const{selectionStart:l,selectionEnd:t,value:e}=n,i=e.lastIndexOf(`\n`,l-1)+1,o=e.indexOf(`\n`,t)===-1?e.length:e.indexOf(`\n`,t),s=e.slice(i,o),d=`${e.slice(0,i)}${s}\n${e.slice(i)}`;c.updateContent(d),n.setSelectionRange(l+s.length+1,t+s.length+1)},"selection:copy-line-down"({input:n,editor:c}){const{selectionStart:l,selectionEnd:t,value:e}=n,i=e.lastIndexOf(`\n`,l-1)+1,o=e.indexOf(`\n`,t)===-1?e.length:e.indexOf(`\n`,t),s=e.slice(i,o),d=`${e.slice(0,o)}\n${s}${e.slice(o)}`;c.updateContent(d),n.setSelectionRange(l+s.length+1,t+s.length+1)},"selection:move-line-up"({input:n,editor:c}){const{selectionStart:l,selectionEnd:t,value:e}=n,i=e.lastIndexOf(`\n`,l-1)+1,o=e.indexOf(`\n`,t)===-1?e.length:e.indexOf(`\n`,t),s=i-1,d=e.lastIndexOf(`\n`,s-1)+1;if(d>=0&&s>=0){const a=e.slice(i,o),g=e.slice(d,s),f=`${e.slice(0,d)}${a}\n${g}${e.slice(o)}`;c.updateContent(f);const r=a.length+1;n.setSelectionRange(l-r,t-r)}},"selection:move-line-down"({input:n,editor:c}){const{selectionStart:l,selectionEnd:t,value:e}=n,i=e.lastIndexOf(`\n`,l-1)+1,o=e.indexOf(`\n`,t)===-1?e.length:e.indexOf(`\n`,t),s=o+1,d=e.indexOf(`\n`,s)===-1?e.length:e.indexOf(`\n`,s);if(s<e.length){const a=e.slice(i,o),g=e.slice(s,d),f=`${e.slice(0,i)}${g}\n${a}${e.slice(d)}`;c.updateContent(f);const r=g.length+1;n.setSelectionRange(l+r,t+r)}},"selection:duplicate-selection"({input:n,editor:c}){const{selectionStart:l,selectionEnd:t,value:e}=n,i=e.slice(l,t),o=e.slice(0,t)+i+e.slice(t);c.updateContent(o),n.setSelectionRange(l,t+i.length)},"edit:undo"(){document.execCommand("undo")},"edit:redo"(){document.execCommand("redo")},"edit:cut"(){document.execCommand("cut")},"edit:copy"(){document.execCommand("copy")},"edit:paste"(){document.execCommand("paste")},"edit:find"(){},"edit:replace"(){},"edit:find-in-files"(){},"edit:replace-in-files"(){},"edit:toggle-line-comment"({input:n,editor:c}){const{value:l}=n,t=n.selectionStart,e=n.selectionEnd,o=l.slice(t,e).split(`\n`),s=o.every(a=>a.trim().startsWith("//")),d=o.map(a=>s?a.replace(/^(\\s*)\\/\\/\\s?/,"$1"):`// ${a}`).join(`\n`);c.updateContent(l.slice(0,t)+d+l.slice(e)),n.setSelectionRange(t,t+d.length)},"edit:toggle-block-comment"({input:n,editor:c}){const{value:l}=n,t=n.selectionStart,e=n.selectionEnd,i=l.slice(t,e);if(i.startsWith("/*")&&i.endsWith("*/")){const o=i.slice(2,-2).trim();c.updateContent(l.slice(0,t)+o+l.slice(e)),n.setSelectionRange(t,t+o.length)}else{const o=`/* ${i} */`;c.updateContent(l.slice(0,t)+o+l.slice(e)),n.setSelectionRange(t,t+o.length)}}},u={"ctrl+z":"edit:undo","ctrl+y":"edit:redo","ctrl+x":"edit:cut","ctrl+c":"edit:copy","ctrl+f":"edit:find","ctrl+h":"edit:replace","ctrl+shift+f":"edit:find-in-files","ctrl+shift+h":"edit:replace-in-files","ctrl+/":"edit:toggle-line-comment","ctrl+shift+/":"edit:toggle-block-comment"},x={"edit:undo":"Undo","edit:redo":"Redo","edit:cut":"Cut","edit:copy":"Copy","edit:paste":"Paste","edit:find":"Find","edit:replace":"Replace","edit:find-in-files":"Find in Files","edit:replace-in-files":"Replace in Files","edit:toggle-line-comment":"Toggle Line Comment","edit:toggle-block-comment":"Toggle Block Comment","selection:select-all":"Select All","selection:expand-selection":"Expand Selection","selection:shrink-selection":"Shrink Selection","selection:copy-line-up":"Copy Line Up","selection:copy-line-down":"Copy Line Down","selection:move-line-up":"Move Line Up","selection:move-line-down":"Move Line Down","selection:duplicate-selection":"Duplicate Selection"};m.hooks.add("onEditorInit",({input:n,editor:c})=>{n.addEventListener("input",l=>{const t=l.target.value||l.target.textContent;c.content=t})}),m.settings.add("globalKeybindings",u),m.settings.add("commands",p),m.settings.add("menu",x);\n',metaType:"application/javascript"},"/modules/apps/ide/plugins/markdown.js":{content:'import g from"/bootstrap.js";import d from"/modules/mvc/view/html/index.js";import u from"/modules/types/index.js";function f(e){const t={"&":"&amp;","<":"&lt;",">":"&gt;",\'"\':"&quot;","\'":"&#39;"};return e.replace(/[&<>"\']/g,n=>t[n])}const T=[{name:"code",regex:/^```\\n?([\\s\\S]*?)\\n```$/gm,replace:(e,t)=>`\n%%CODEBLOCK%%\n${f(t)}\n%%CODEBLOCK%%\n`},{name:"headings",regex:/^(#{1,6})\\s+(.+)$/gm,replace:(e,t,n)=>`<h${t.length}>${n}</h${t.length}>`}],O=[{name:"image",regex:/!\\[([^\\]]+)\\]\\(([^)]+)\\)/g,replace:(e,t,n)=>`<img src="${n}" alt="${t}" />`},{name:"bold",regex:/\\*\\*(.+?)\\*\\*/g,replace:(e,t)=>`<strong>${t}</strong>`},{name:"italic",regex:/\\*(.+?)\\*/g,replace:(e,t)=>`<em>${t}</em>`},{name:"link",regex:/\\[([^\\]]+)\\]\\(([^)]+)\\)/g,replace:(e,t,n)=>`<a href="${n}">${t}</a>`}];function _(e){const t=/^---\\s*\\n([\\s\\S]*?)\\n---\\s*\\n?/,n=e.match(t);return n?{frontMatter:n[1].split(`\n`).reduce((r,l)=>{const[a,...c]=l.split(":");return c.length===0?r:{...r,[a.trim()]:c.join(":").trim()}},{}),markdown:e.replace(t,"")}:{frontMatter:{},markdown:e}}function C(e){const{frontMatter:t,markdown:n}=_(e);return{frontMatter:t,markdown:w(n)}}const M={name:"Markdown",regex:[[/^\\[ \\]/,"TASK_PENDING"],[/^---$/,"FRONT_MATTER_TAG"],[/^---\\s*\\n([\\s\\S]*?)\\n---\\s*\\n/,"FRONT_MATTER_BLOCK"],[/^\\s*([\\w-]+):\\s*(.*)/,"FRONT_MATTER_PROP"],[/^\\[x\\]/i,"TASK_DONE"],[/^\\[-\\]/,"TASK_WONT_FIX"],[/^(#{1,6})\\s+(.+)$/,"HEADER"],[/^>\\s+(.+)$/,"BLOCKQUOTE"],[/^(\\s*[-+*]|\\d+\\.)\\s+/,"LIST"],[/\\*\\*([^*]+)\\*\\*/,"BOLD"],[/\\*([^*]+)\\*/,"ITALIC"],[/__([^_]+)__/,"BOLD"],[/_([^_]+)_/,"ITALIC"],[/~~([^~]+)~~/,"STRIKETHROUGH"],[/`([^`]+)`/,"INLINE_CODE"],[/^```([\\s\\S]+?)```/,"CODE_BLOCK"],[/^\\s{4}(.+)/,"CODE_BLOCK"],[/\\[(.+?)\\]\\((https?:\\/\\/[^\\s]+)\\)/,"LINK"],[/!\\[(.+?)\\]\\((https?:\\/\\/[^\\s]+)\\)/,"IMAGE"],[/<[^>]+>/,"HTML_TAG"],[/\\\\([`*_{}[\\]()#+\\-.!>])/,"ESCAPE"]]},E={properties:{content:u.string(),frontMatter:u.object({defaultValue:{}})},render(){const{frontMatter:e,markdown:t}=C(this.content);return this.frontMatter=e,d`${e?d`\n          <div class="front-matter">\n            <h3>Metadata</h3>\n            <table>\n              ${Object.entries(e).map(([n,s])=>d`\n                  <tr>\n                    <th>${n}</th>\n                    <td>${s}</td>\n                  </tr>\n                `)}\n            </table>\n          </div>\n          <uix-divider padding="0-md"></uix-divider>\n        `:null}\n      ${d.unsafeHTML(t)}`}},B=e=>{const t=Array.from(e.matchAll(/^```\\n?([\\s\\S]*?)\\n```$/gm)),n=t.map(r=>f(r[1]));return{content:t.reduce((r,l,a)=>r.replace(l[0],`\n%%CODEBLOCK_${a}%%\n`),e),codeBlocks:n}},$=(e,t)=>t.reduce((n,{regex:s,replace:r})=>n.replace(s,(...l)=>r(...l)),e);function w(e){const{content:t,codeBlocks:n}=B(e),s=$(t,T),r=A(s);return $(r,O).replace(/%%CODEBLOCK_(\\d+)%%/g,(i,m)=>`<pre><code>${n[m]}</code></pre>`).split(`\n`).map(i=>i.trim()&&!i.startsWith("<")?`<p>${i}</p>`:i).join(`\n`).replace(/\\n{2,}/g,i=>"<br/>".repeat(i.length-1))}function A(e){const{lines:t,currentList:n}=e.split(`\n`).reduce((s,r)=>/^\\s*([*\\-+]|\\d+\\.)\\s+/.test(r)?{...s,currentList:[...s.currentList,r]}:{lines:s.currentList.length?[...s.lines,k(s.currentList),r]:[...s.lines,r],currentList:[]},{lines:[],currentList:[]});return n.length?[...t,k(n)].join(`\n`):t.join(`\n`)}function k(e){const{html:t,stack:n}=e.reduce((r,l)=>{const a=l.match(/^(\\s*)([*\\-+]|\\d+\\.)\\s+(.*)/);if(!a)return r;const c=a[1].length,i=a[2],m=a[3],h=/^\\d+\\.$/.test(i)?"ol":"ul";let{html:p,stack:o}=r;for(;o.length&&c<o[o.length-1].indent;){const{type:L}=o.pop();p+=`</li></${L}>`}return o.length&&c===o[o.length-1].indent?o[o.length-1].type!==h?(o.pop(),p+=`</li></${h==="ol"?"ul":"ol"}>`,p+=`<${h}>`,o.push({indent:c,type:h})):p+="</li>":(!o.length||c>o[o.length-1].indent)&&(p+=`<${h}>`,o.push({indent:c,type:h})),p+=`<li>${m}`,{html:p,stack:o}},{html:"",stack:[]}),s=n.reduce((r,{type:l})=>`${r}</li></${l}>`,"");return t+s}function R(e){return e.split(`\n`).reduce((t,n)=>{const s=n.match(/^(#{1,6})\\s+(.+)$/);if(s){const r=s[1].length,l=s[2],a={level:r,title:l,children:[]};for(;t.stack.length&&t.stack[t.stack.length-1].level>=r;)t.stack.pop();t.stack.length?t.stack[t.stack.length-1].children.push(a):t.tree.push(a),t.stack.push(a)}return t},{tree:[],stack:[]}).tree}g.settings.add("highlights",{markdown:M}),g.define({"markdown-viewer":E});\n',metaType:"application/javascript"},"/modules/apps/ide/plugins/keybindings.js":{content:'import c from"/bootstrap.js";const a={name:"Keybindings",deleteChar({editor:e,input:o}){const l=o.selectionStart,n=o.selectionEnd;if(l===n){const t=e.getValue();if(l<t.length){const s=t.slice(0,l)+t.slice(l+1);e.updateContent(s),e.setCursorPosition(l)}}else{const t=e.getValue(),s=t.slice(0,l)+t.slice(n);e.updateContent(s),e.setCursorPosition(l)}},tabIndent({editor:e,input:o,settings:l}){const n=a.indentOrOutdentSelection({input:o,settings:l},!1);a.applyIndentationChange({editor:e,input:o},n)},outdentSelection({editor:e,input:o,settings:l}){const n=a.indentOrOutdentSelection({input:o,settings:l},!0);a.applyIndentationChange({editor:e,input:o},n)},applyIndentationChange({editor:e},{newContent:o,replaceStart:l,replaceEnd:n,newSelStart:t,newSelEnd:s}){const i=e.getValue(),r=i.slice(0,l)+o+i.slice(n);e.updateContent(r),setTimeout(()=>{e.setCursorPosition(t,s)},50)},indentOrOutdentSelection({input:e,settings:o},l=!1){const n=e.value,t=e.selectionStart,s=e.selectionEnd,i=o.useTabs?"	":" ".repeat(o.tabSize),r=n.lastIndexOf(`\n`,t-1)+1,g=n.indexOf(`\n`,s)===-1?n.length:n.indexOf(`\n`,s),u=n.slice(r,g).split(`\n`),p=u.map(d=>l?d.startsWith(i)?d.slice(i.length):d.startsWith("	")?d.slice(1):d:i+d),v=p.join(`\n`),w=p[0].length-u[0].length,h=t+(t>r?w:0),m=s+v.length-(g-r);return{newContent:v,replaceStart:r,replaceEnd:g,newSelStart:t===s?m:h,newSelEnd:m}},moveWordLeft({editor:e,input:o,event:l}){l.preventDefault();const n=e.getValue();let t=o.selectionStart;for(;t>0&&/\\s/.test(n[t-1]);)t--;for(;t>0&&/\\S/.test(n[t-1]);)t--;e.setCursorPosition(t)},moveWordRight({editor:e,input:o,event:l}){l.preventDefault();const n=e.getValue();let t=o.selectionEnd;for(;t<n.length&&/\\s/.test(n[t]);)t++;for(;t<n.length&&/\\S/.test(n[t]);)t++;e.setCursorPosition(t)},moveToLineStart({editor:e,input:o,event:l}){l.preventDefault();const n=e.getValue();let s=o.selectionStart;for(;s>0&&n[s-1]!==`\n`;)s--;e.setCursorPosition(s)},moveToLineEnd({editor:e,input:o,event:l}){l.preventDefault();const n=e.getValue();let s=o.selectionEnd;for(;s<n.length&&n[s]!==`\n`;)s++;e.setCursorPosition(s)},moveToTextStart({editor:e,event:o}){o.preventDefault(),e.setCursorPosition(0)},moveToTextEnd({editor:e,event:o}){o.preventDefault(),e.setCursorPosition(e.getValue().length)},handleEnter({editor:e,input:o}){const l=o.selectionStart,n=o.selectionEnd,t=e.getValue();let s=l;for(;s>0&&t[s-1]!==`\n`;)s--;let i="";for(;t[s]===" "||t[s]==="	";)i+=t[s++];if(l===n){const r=`\n${i}`;e.insertTextAtRange(r,l,n)}else e.insertTextAtRange(`\n${i}`,l,n)},handleEscape({editor:e,input:o}){o.blur(),e.focus()},openFile({event:e}){e.preventDefault(),console.log("Opening file dialog...")},newWindow({event:e}){e.preventDefault(),console.log("Opening a new window...")},openCommandPalette({event:e,IDE:o}){e.preventDefault(),console.log("Opening command palette...")},openSettings({event:e}){e.preventDefault(),console.log("Opening settings...")},addExtension({event:e}){e.preventDefault(),console.log("Opening extension manager...")},toggleSidebar({event:e}){e.preventDefault(),console.log("Toggling sidebar visibility...")}},f={"ctrl+d":"editor:delete-char",tab:"editor:tab-indent","shift+tab":"editor:outdent-selection","ctrl+w":"editor:quit",enter:"editor:insert-newline",escape:"editor:escape","alt+arrowleft":"editor:move-word-left","alt+arrowright":"editor:move-word-right","alt+arrowup":"editor:move-line-start","alt+arrowdown":"editor:move-line-end","ctrl+arrowup":"editor:move-text-start","ctrl+arrowdown":"editor:move-text-end"},b={"ctrl+p":"global:open-file","ctrl+n":"global:new-window","ctrl+shift+p":"global:open-command-palette",",+ctrl":"global:open-settings","ctrl+shift+x":"global:add-extension","ctrl+b":"global:toggle-sidebar","ctrl+s":"file:save"},S={"editor:delete-char":a.deleteChar,"editor:tab-indent":a.tabIndent,"editor:outdent-selection":a.outdentSelection,"editor:insert-newline":a.handleEnter,"editor:move-word-left":a.moveWordLeft,"editor:move-word-right":a.moveWordRight,"editor:move-line-start":a.moveToLineStart,"editor:move-line-end":a.moveToLineEnd,"editor:move-text-start":a.moveToTextStart,"editor:move-text-end":a.moveToTextEnd,"editor:escape":a.handleEscape,"global:open-file":a.openFile,"global:new-window":a.newWindow,"global:open-command-palette":a.openCommandPalette,"global:open-settings":a.openSettings,"global:add-extension":a.addExtension,"global:toggle-sidebar":a.toggleSidebar};c.settings.add("commands",S),c.settings.add("globalKeybindings",b),c.settings.add("editorKeybindings",f),c.hooks.add("onEditorInit",({editor:e,explorer:o,panel:l,input:n,IDE:t,settings:s})=>{t.attachKeybindings(n,{input:n,editor:e,panel:l,explorer:o,IDE:t,settings:s})});\n',metaType:"application/javascript"},"/modules/apps/ide/highlights/css.js":{content:`import s from"/bootstrap.js";const A={name:"css",regex:[[/^\\s+/,"WHITESPACE"],[/^\\/\\*[\\s\\S]*?\\*\\//,"COMMENT"],[/^#[a-fA-F0-9]{3,6}/,"COLOR_HEX"],[/^\\.[a-zA-Z_][\\w-]*/,"CLASS_NAME"],[/^\\b[a-zA-Z-]+\\b(?=\\s*:\\s*)/,"PROPERTY_NAME"],[/^:[a-zA-Z_][\\w-]*/,"PSEUDO_CLASS"],[/^[{}()[\\];,:]/,"PUNCTUATOR"]]};s.settings.add("highlights",{css:A});
`,metaType:"application/javascript"},"/modules/apps/ide/highlights/html.js":{content:`import T from"/bootstrap.js";const A={name:"html",regex:[[/^\\s+/,"WHITESPACE"],[/^<!--[\\s\\S]*?-->/,"COMMENT"],[/^<!DOCTYPE[^>]+>/i,"DOCTYPE"],[/^<[/]?[a-z][a-z0-9]*[^>]*>/i,"TAG"],[/^"([^"\\\\]|\\\\.)*"/,"ATTRIBUTE_VALUE"],[/^\\b[a-zA-Z-:]+\\b(?=\\s*=)/,"ATTRIBUTE_NAME"],[/^&[a-zA-Z0-9#]+;/,"ENTITY"],[/^[{}()[\\];,:]/,"PUNCTUATOR"]]};T.settings.add("highlights",{html:A});
`,metaType:"application/javascript"},"/modules/apps/ide/highlights/javascript.js":{content:`import t from"/bootstrap.js";const e={name:"highlight-javascript",regex:[[/^\\t+/,"WHITESPACE"],[/^\\s+/,"WHITESPACE"],[/^\\/\\/.*$/,"COMMENT"],[/^\\/\\*[\\s\\S]*?\\*\\//,"COMMENT"],[/^"([^"\\\\]|\\\\.)*"/,"STRING"],[/^'([^'\\\\]|\\\\.)*'/,"STRING"],[/^\\b(import|export|from)\\b/,"importExport"],[/^\\b(abstract|arguments|await|boolean|break|byte|case|catch|char|class|const|continue|debugger|default|delete|do|double|else|enum|export|extends|false|final|finally|float|for|function|goto|if|implements|import|in|instanceof|int|interface|let|long|native|new|null|package|private|protected|public|return|short|static|super|switch|synchronized|this|throw|throws|transient|true|try|typeof|var|void|volatile|while|with|yield|from|as|of)\\b/,"KEYWORD"],[/^\\b([A-Z][a-zA-Z0-9_$]*)\\b/,"type"],[/^\\b([a-zA-Z_$][a-zA-Z0-9_$]*)\\b(?=\\()/,"FUNCTION"],[/^\\b([a-zA-Z_$][a-zA-Z0-9_$]*)\\b(?=\\.)/,"OBJECT"],[/^\\.(\\w+)/,"PROPERTY"],[/^\\b([a-zA-Z_$][a-zA-Z0-9_$]*)\\b/,"IDENTIFIER"],[/^[0-9]+/,"NUMBER"],[/^[{}()[\\];,:]/,"PUNCTUATOR"],[/^[=!+-/*<>]+/,"OPERATOR"]]};t.settings.add("highlights",{javascript:e});
`,metaType:"application/javascript"},"/modules/apps/chat/index.js":{content:`import a from"/bootstrap.js";a.addModule({name:"chat",path:"apps/chat",backend:!0,frontend:!0,settings:{appbar:{label:"Conversations",icon:"message-circle"}}});
`,metaType:"application/javascript"},"/modules/apps/chat/frontend.js":{content:`import a from"/bootstrap.js";import l from"/modules/ai/frontend.js";import r from"/modules/mvc/model/frontend.js";import s from"/modules/mvc/view/html/index.js";import i from"/modules/types/index.js";a.events.on("INIT_APP",async()=>{a.define("app-chat-message",{properties:{message:i.object()},render(){if(!this.message)return s\`\`;const{role:e,content:t,toolCalls:o}=this.message,n=e==="user";return o?s\`
                    <div class="text-xs text-gray-400 italic text-center my-2">
                        <uix-icon name="cog" class="animate-spin"></uix-icon>
                        Using tool: <strong>\${o[0].name}</strong>
                    </div>\`:s\`
                <div class="flex \${n?"justify-end":"justify-start"}">
                    <div class="flex items-end gap-2 max-w-lg">
                        \${n?"":s\`<uix-avatar class="is-sm bg-gray-700 text-white" icon="bot"></uix-avatar>\`}
                        <div class="p-3 rounded-lg \${n?"bg-blue-600 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none"}">
                            <p>\${t}</p>
                        </div>
                    </div>
                </div>
            \`}}),a.define("app-chat-input",{properties:{conversation:i.object(),messages:i.array(),isThinking:i.boolean(!1),newMessage:i.string("")},async sendMessage(){if(!this.newMessage?.trim()||!this.conversation)return;const e=this.newMessage;this.newMessage="",this.isThinking=!0;try{await r.messages.add({conversationId:this.conversation.id,role:"user",content:e});const t=this.messages.map(n=>({role:n.role,content:n.content,toolCalls:n.toolCalls}));t.push({role:"user",content:e});const o=await l.chat(t);await r.messages.add({conversationId:this.conversation.id,...o})}catch(t){console.error("Chat AI error:",t),await r.messages.add({conversationId:this.conversation.id,role:"assistant",content:\`Sorry, an error occurred: \${t.message}\`})}finally{this.isThinking=!1}},render(){return s\`
                <footer class="p-2 border-t bg-white">
                    <uix-form .submit=\${this.sendMessage.bind(this)}>
                        <uix-join>
                            <uix-input
                                .bind=\${this.prop("newMessage")}
                                placeholder="Type a message..."
                                class="w-full"
                                ?disabled=\${this.isThinking}
                            ></uix-input>
                            <uix-button type="submit" icon="send" ?disabled=\${!this.newMessage?.trim()||this.isThinking}>
                                \${this.isThinking?"Thinking...":"Send"}
                            </uix-button>
                        </uix-join>
                    </uix-form>
                </footer>
            \`}}),a.define("app-chat-window",{extends:"uix-list",properties:{conversationId:i.string()},get conversation(){return!this._rows||!this.conversationId?null:this._rows.find(e=>e.id===this.conversationId)},render(){if(!this.conversationId)return s\`
                    <div class="flex-1 flex flex-col items-center justify-center bg-gray-50 text-gray-500 text-center p-8">
                        <uix-icon name="message-circle" class="text-5xl mb-4"></uix-icon>
                        <h2 class="text-2xl font-bold">Select a conversation</h2>
                        <p>Choose a conversation from the sidebar to start chatting.</p>
                    </div>
                \`;if(!this.conversation)return s\`<div class="flex-1 flex items-center justify-center"><uix-loader></uix-loader></div>\`;const e=this.conversation.type==="channel"?"hash":"at-sign";return s\`
                <div class="flex-1 flex flex-col bg-white">
                    <header class="p-4 border-b flex items-center gap-3">
                        <uix-icon name=\${e} class="text-gray-500"></uix-icon>
                        <h3 class="font-bold text-lg">\${this.conversation.name}</h3>
                    </header>

                    <app-messages-list
                        ._data=\${{model:"messages",where:{conversationId:this.conversationId},sort:"createdAt"}}
                        class="flex-1 p-4 overflow-y-auto flex flex-col gap-4"
                    ></app-messages-list>
                    
                    <app-chat-input 
                        .conversation=\${this.conversation}
                        ._data=\${{model:"messages",where:{conversationId:this.conversationId},sort:"createdAt"}}
                    ></app-chat-input>
                </div>
            \`}}),a.define("app-messages-list",{extends:"uix-list",render(){return this._rows?(this.scrollTop=this.scrollHeight,this._rows.map(e=>s\`<app-chat-message .message=\${e}></app-chat-message>\`)):s\`<div class="flex-1 flex items-center justify-center"><uix-loader></uix-loader></div>\`}}),a.define("app-chat-sidebar",{extends:"uix-list",properties:{selectedConversationId:i.string({sync:"querystring"}),newConversationName:i.string(),newConversationType:i.string("channel")},async createConversation(){if(this.newConversationName?.trim())try{await r.conversations.add({name:this.newConversationName,type:this.newConversationType}),this.newConversationName="";const e=this.querySelector("#new-conversation-modal");e&&e.hide()}catch(e){console.error("Failed to create conversation:",e),alert(\`Error: \${e.message}\`)}},selectConversation(e){console.log({id:e}),this.selectedConversationId=e},render(){if(!this._rows)return s\`<div class="p-4"><uix-loader></uix-loader></div>\`;const e=[...this._rows];return s\`
                <div class="w-full px-2">
                    <div class="flex justify-between items-center p-2">
                        <h4 class="text-sm font-bold uppercase text-gray-400">Conversations</h4>
                        <uix-modal id="new-conversation-modal">
                            <uix-button slot="trigger" size="is-sm" shape="circle" icon="plus"></uix-button>
                            <dialog class="p-4 flex flex-col gap-4 rounded-lg shadow-xl w-80">
                                <h3 class="text-lg font-bold">New Conversation</h3>
                                <uix-form .submit=\${this.createConversation.bind(this)}>
                                    <uix-input
                                        label="Name"
                                        placeholder="e.g. general-questions"
                                        .bind=\${this.prop("newConversationName")}
                                    ></uix-input>
                                    <uix-select .bind=\${this.prop("newConversationType")} label="Type" class="mt-2">
                                        <option value="channel">Channel</option>
                                        <option value="dm">Direct Message</option>
                                    </uix-select>
                                    <uix-list class="flex justify-end gap-2 pt-4">
                                        <uix-button type="submit" label="Create" class="is-primary"></uix-button>
                                    </uix-list>
                                </uix-form>
                            </dialog>
                        </uix-modal>
                    </div>
                    <uix-list class="flex flex-col gap-1">
                        \${e.map(t=>{const o=t.type==="channel"?"hash":"at-sign";return console.log({conv:t}),s\`
                                <a @click=\${()=>this.selectConversation(t.id)} class="flex items-center gap-2 p-2 rounded-md cursor-pointer hover:bg-gray-700 \${this.selectedConversationId===t.id?"bg-gray-900":""}">
                                    <uix-icon name=\${o} class="text-gray-500"></uix-icon>
                                    <span>\${t.parent.name}</span>
                                </a>
                            \`})}
                    </uix-list>
                </div>
            \`}}),a.define("app-chat",{properties:{selectedConversationId:i.string({sync:"querystring"})},render(){return s\`<aside class="w-64 bg-gray-800 text-gray-200 flex flex-col">
											<header class="p-4 border-b border-gray-700">
													<h2 class="text-xl font-bold">Chat</h2>
											</header>
											<app-chat-sidebar
													._data=\${{model:"conversations",includes:["parent"]}}
													.selectedConversationId=\${this.selectedConversationId}
													class="flex-1 overflow-y-auto py-2"
											></app-chat-sidebar>
									</aside>

									<!-- Main Chat Area -->
									<main class="flex-1 flex flex-col">
											<app-chat-window
													._data=\${{model:"conversations",id:this.selectedConversationId}}
											></app-chat-window>
									</main>\`}})});
`,metaType:"application/javascript"},"/modules/ai/frontend.js":{content:'import{Client as C}from"@modelcontextprotocol/sdk/client/index.js";import{InMemoryTransport as T}from"@modelcontextprotocol/sdk/inMemory.js";import{McpServer as v}from"@modelcontextprotocol/sdk/server/mcp.js";import{z as t}from"zod";import g from"/bootstrap.js";const I=r=>r.map(e=>e.content?{role:e.role==="assistant"?"model":"user",parts:[{text:e.content}]}:e.toolCalls?{role:"model",parts:e.toolCalls.map(s=>({functionCall:{name:s.name,args:s.arguments}}))}:e.role==="tool"?{role:"function",parts:[{functionResponse:{name:e.toolCallId,response:{result:e.result}}}]}:{role:"user",parts:[{text:""}]}),A=r=>{const e=r.candidates?.[0];if(!e||!e.content)return{role:"assistant",content:"Invalid response from AI."};const s=e.content.parts[0];return s.functionCall?{role:"assistant",toolCalls:[{id:s.functionCall.name,name:s.functionCall.name,arguments:s.functionCall.args}]}:{role:"assistant",content:s.text}};async function M(r,e,s,u,f){const h=`https://generativelanguage.googleapis.com/v1beta/models/${e}:generateContent?key=${r}`,a={contents:s,generationConfig:u,...f.length>0&&{tools:[{functionDeclarations:f}]}},o=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!o.ok){const c=await o.json();throw new Error(`Gemini API Error: ${c.error?.message}`)}return o.json()}const b=()=>{const r=new C({name:"habit-tracker-ui",version:"1.0.0"}),e=new Map;r.servers=e;const s=new Map;let u={};const f=()=>{const a=new v({name:"app-data-server",version:"1.0.0"}),o=Object.keys(g.models),c=n=>{const l=g.models[n];if(!l)return null;const p={},m=[];for(const i in l){if(i.startsWith("$"))continue;const d=l[i];p[i]={type:d.type||"string",description:d.description||`The ${i} of the ${n}.`},d.required&&m.push(i)}return{type:"object",properties:p,...m.length>0&&{required:m}}};return a.registerTool("data/get_schema",{description:"Retrieves the JSON schema for one or more data models.",input:t.object({models:t.array(t.string()).describe("An array of model names to get schemas for.")}),handler:async({models:n})=>{const l={};for(const p of n)l[p]=c(p);return{result:l}}}),a.registerTool("data/list",{description:"Lists entries from a specified data model.",input:t.object({model:t.enum(o),where:t.record(t.any()).optional(),includes:t.string().optional()}),handler:async n=>({result:await g.Model[n.model].list(n)})}),a.registerTool("data/upsert",{description:"Creates or updates an entry in a data model.",input:t.object({model:t.enum(o),data:t.record(t.any())}),handler:async({model:n,data:l})=>({result:await g.Model[n].upsert(l)})}),a},h=()=>{const a=new v({name:"llm-proxy-server",version:"1.0.0"}),o=async(c,n)=>{const l=await r.listTools({servers:n}),p=I(c),m=await M(u.geminiApiKey,"gemini-1.5-flash-latest",p,u.generationConfig,l),i=A(m);if(i.toolCalls&&i.toolCalls.length>0){const d=i.toolCalls[0],y=s.get(d.name),w=await r.callTool(d.name,d.arguments,{server:y});return o([...c,i,{role:"tool",toolCallId:d.id,...w}],n)}return i};return a.registerTool("llm/chat",{description:"Initiates a conversation with the AI, allowing it to use tools.",input:t.object({messages:t.array(t.any()),tool_servers:t.array(t.string())}),handler:async({messages:c,tool_servers:n})=>({result:await o(c,n)})}),a};return{async init(a){u={generationConfig:{temperature:.7,maxOutputTokens:2048},...a},e.set("data",f()),e.set("llm",h());for(const[o,c]of e.entries()){const[n,l]=T.createLinkedPair();await c.connect(l),await r.connect(n,{alias:o});const{tools:p}=await r.listTools({server:o});for(const m of p)s.set(m.name,o)}console.log("AI Service Initialized. All servers connected.")},async chat(a){const o=await r.callTool("llm/chat",{messages:a,tool_servers:["data"]},{server:"llm"});return console.log({response:o}),o.result},getClient:()=>r}},S=b();export default S;\n',metaType:"application/javascript"},"/modules/apps/editor/index.js":{content:`import d from"/bootstrap.js";d.addModule({name:"editor",path:"apps/editor",modules:["uix"]});
`,metaType:"application/javascript"},"/modules/uix/index.js":{content:`import a from"/bootstrap.js";a.addModule({name:"uix",frontend:!0,components:{form:["form","form-control","input","textarea","time","rating","join","file-upload","number-input","switch","slider"],navigation:["navbar","breadcrumbs","menu","sidebar","pagination","tabs","tabbed"],overlay:["overlay","modal","drawer","tooltip","popover","alert-dialog","toast"],display:["editable","link","button","avatar","badge","card","circle","image","logo","media","table","table-row","icon","calendar","calendar-day","tag","stat","chart","content"],layout:["list","accordion","row","container","divider","section","page","flex","stack","spacer"],feedback:["spinner","progress-bar","circular-progress","skeleton"],utility:["draggable","droparea","clipboard","theme-toggle","dark-mode-switch"]}});
`,metaType:"application/javascript"},"/modules/uix/frontend.js":{content:'import e from"/bootstrap.js";import t from"/modules/mvc/view/html/index.js";const m={"/theme":{component:()=>t`<theme-ui></theme-ui>`,title:"Theme",template:"uix-template"}};e.routes.set(m);\n',metaType:"application/javascript"},"/modules/apps/bundler/index.js":{content:`import e from"/bootstrap.js";e.addModule({name:"bundler",path:"apps/bundler",base:[],dev:!0,frontend:!0,backend:!0,settings:{appbar:{label:"Bundler",icon:"cog"}}});
`,metaType:"application/javascript"},"/modules/apps/bundler/frontend.js":{content:"export default {}"},"/modules/integrations/github.js":{content:"export default {}"},"/modules/apps/mcp/index.js":{content:`import p from"/bootstrap.js";p.addModule({name:"mcp",path:"apps/mcp",settings:{appbar:{label:"MCP Inspector",icon:"square-mouse-pointer"}}});
`,metaType:"application/javascript"},"/modules/apps/admin/frontend.js":{content:'import m from"/bootstrap.js";import e from"/modules/mvc/view/html/index.js";const i={"/admin":{component:()=>e`<cms-ui directory="admin/cms"></cms-ui>`,title:"Admin",template:"admin-template"},"/admin/cms":{component:()=>e`<cms-ui directory="admin/cms"></cms-ui>`,title:"Data",template:"admin-template"},"/admin/chat":{component:()=>e`<app-chat class="flex-1 flex h-screen bg-gray-100 font-sans"></app-chat>`,title:"Data",template:"admin-template"},"/admin/ide":{component:()=>e`<ide-ui full directory="/projects" hasProject></ide-ui>`,title:"IDE",template:"admin-template"},"/admin/bundler":{component:()=>e`<bundler-ui></bundler-ui>`,title:"Bundler",template:"admin-template"},"/admin/project":{component:()=>e`<cms-crud ._data=${{model:"tasks"}} view="board" class="p-8" .allowedActions=${["import","export","changeViewMode","changeColumns"]}></cms-crud>   `,title:"Data",template:"admin-template"},"/admin/design":{component:()=>e`<design-ui></design-ui>`,title:"Design",template:"admin-template"},"/admin/design/:component":{component:({component:t})=>e`<design-ui component=${t}></design-ui>`,title:"Component Design",template:"admin-template"},"/admin/cms/:model":{component:({model:t})=>e`<cms-ui directory="admin/cms" model=${t}></cms-ui>`,title:"Admin",template:"admin-template"}};m.routes.set(i);\n',metaType:"application/javascript"},"/modules/icon-lucide/index.js":{content:`import o from"/bootstrap.js";o.addModule({name:"icon-lucide",icon:!0});
`,metaType:"application/javascript"},"/modules/font/manrope/index.js":{content:`import e from"/bootstrap.js";e.addModule({name:"manrope",font:{name:"Manrope",type:"woff2",variants:["extralight","light","medium","regular","semibold","bold","extrabold"]}});
`,metaType:"application/javascript"},"/modules/ai/index.js":{content:`import a from"/bootstrap.js";a.addModule({name:"ai",alias:"AI",frontend:!0});
`,metaType:"application/javascript"},"/theme.css":{content:`body{font-family:var(--font-family)}html,body{font-family:var(--font-family);background-color:var(--background-color)!important;color:var(--text-color)!important;width:100%;min-height:100%;height:100%;padding:0;margin:0}body:not(.production) *:not(:defined){border:1px solid red}.dark{filter:invert(1) hue-rotate(180deg)}.dark img,.dark dialog,.dark video,.dark iframe{filter:invert(1) hue-rotate(180deg)}html{font-size:14px}@media (max-width: 768px){html{font-size:18px}}@media (max-width: 480px){html{font-size:20px}}textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}:root{box-sizing:border-box;-moz-text-size-adjust:none;-webkit-text-size-adjust:none;text-size-adjust:none;line-height:1.2;-webkit-font-smoothing:antialiased}*,*:before,*:after{box-sizing:border-box}*{margin:0}body{-webkit-font-smoothing:antialiased;font-family:var(--font-family)}button,textarea,select{background-color:inherit;border-width:0;color:inherit}img,picture,video,canvas,svg{display:block;max-width:100%}input,button,textarea,select{font:inherit}p,h1,h2,h3,h4,h5,h6{font-family:var(--font-family);overflow-wrap:break-word}dialog::backdrop{background-color:#000c}*::-webkit-scrollbar{width:8px;margin-right:10px}*::-webkit-scrollbar-track{background:transparent}*::-webkit-scrollbar-thumb{&:hover{scrollbar-color:rgba(154,153,150,.8) transparent}border-radius:10px;border:none}*::-webkit-scrollbar-button{background:transparent;color:transparent}*{scrollbar-width:thin;scrollbar-color:transparent transparent;&:hover{scrollbar-color:rgba(154,153,150,.8) transparent}}[full]{width:100%;height:100vh}[w-full]{width:100%}[grow]{flex-grow:1}[hide],.hide{display:none!important}[noscroll]{overflow:hidden}div [container]{display:flex}div [container][horizontal]{display:flex;flex-direction:col}
`,metaType:"text/css"},"/worker.js":{content:'import n from"/bootstrap.js";let i;const p=async e=>{console.log("App Worker: bootstrap() called");const s=new URL(self.location).searchParams.get("project"),c=s?JSON.parse(decodeURIComponent(s)):{};c.backend=!0;const r=await n.bootstrap({backend:!0,...c||{},settings:{...c.settings||{},preview:!!self.IS_PREVIEW,IS_MV3:!!self.chrome}});return r&&!i&&(console.log("App Worker: Initializing backend application"),await n.Backend.bootstrap(r)),r};let l,o;const a=[],d={handleMessage:async({data:e})=>{if(e.eventId&&a.includes(e.eventId))return;e.eventId&&a.push(e.eventId);const t=e.eventId&&(s=>{o&&o.postMessage({eventId:e.eventId,payload:s,connection:e.connection})});n?.Backend?(console.info(`App Worker: Routing message to backend: ${e.type}`,{data:e}),n.Backend.handleMessage({data:e,respond:t})):n.hooks.add("APP:BACKEND_STARTED",async()=>{console.info(`App Worker: Routing message to backend after APP:BACKEND_STARTED: ${e.type}`),n.Backend.handleMessage({data:e,respond:t})})}};self.addEventListener("message",async e=>{e.data.type==="INIT_PORT"&&(o=e.ports[0],console.warn("App Worker: Communication port initialized."),o.onmessage=d.handleMessage,(async()=>(l=await p(),n.Backend.client=o))())});\n',metaType:"application/javascript"},"/modules/mvc/view/backend.js":{content:`import n from"/bootstrap.js";const t=async e=>n.Backend.requestFromClient("GET_TAG_PROPS",{tag:e});n.addFunctions({name:"view",functions:{getTagProps:t}});
`,metaType:"application/javascript"},"/modules/mvc/controller/backend/backend.js":{content:'import t from"/bootstrap.js";import D from"/modules/mvc/model/backend.js";import c from"/modules/mvc/model/database/index.js";const w=(()=>{let e=0,s=0;return()=>{let a=Date.now();return a>e?s=0:(s++,a+=s),e=a,a.toString()}})();let g=1;const y={},l={},k=async(e,s,a=5e3)=>{const o=(await self.clients.matchAll({type:"window",includeUncontrolled:!0}))[0];if(!o)return Promise.reject(new Error("No active client found to send request to."));const r=`backend-request-${g++}`;return new Promise((i,d)=>{l[r]={resolve:i,reject:d},setTimeout(()=>{delete l[r],d(new Error(`Request timed out after ${a}ms`))},a),o.postMessage({type:e,payload:s,eventId:r})})},f=async e=>{t.Backend.client.postMessage(e),t.Backend.client.postMessage({type:"BROADCAST",params:e})},B=async({data:e,respond:s})=>{const{events:a}=t,{type:n,payload:o,connection:r,eventId:i}=e;if(l[i]){l[i].resolve(o),delete l[i];return}if(r){y[i]?y[i].postMessage(e):(t.mv3.postMessage(e,r),y[i]=s);return}const d=a[n];d&&await d({payload:o,eventId:i,respond:s,client:S(t.Backend.client),broadcast:f})},S=e=>new Proxy({},{get:(s,a)=>n=>b(e,a,n)}),b=(e,s,a)=>{const n=`sw_${g++}`;return new Promise((o,r)=>{l[n]={resolve:o,reject:r},e.postMessage({type:s,payload:a,eventId:n})})};function h({$APP:e,getApp:s,debounceDelay:a=50}){let n;const o=async()=>{e.log(`Batch processing ${e.dynamicModels.length} model(s)...`);try{const{SysModel:r}=e,i=await s(),d=i.version+1;await r.edit(e.settings.sysmodels.APP,{id:i.id,models:e.models,version:d}),e.log(`Batch add successful. ${e.dynamicModels.length} model(s) added. App version is now ${d}.`),await c.reload({models:e.models,version:d}),e.dynamicData.length&&await E(Object.fromEntries(e.dynamicData),!0)}catch(r){console.error("Failed to process model additions batch:",r)}};return e.addModule({name:"dynamicModels",base:[]}),e.addModule({name:"dynamicData",base:[]}),function({name:i,schema:d}){if(e.dynamicModels.includes(i)||e.dynamicModels.add(i),!i||!d)throw new Error("A model \'name\' and \'schema\' are required.");e.log(`Model "${i}" queued for addition.`),e.models.set({[i]:d}),clearTimeout(n),n=setTimeout(o,a)}}const v=async({timestamp:e=Date.now(),id:s=e.toString(),models:a=t.models,version:n=1}={})=>{const o={id:s,version:n,active:!0,models:a};return await t.SysModel.add(t.settings.sysmodels.APP,o),t.hooks.run("APP:CREATED",{app:o}),o};async function I(){const e=await self.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"]),s=await self.crypto.subtle.exportKey("spki",e.publicKey),a=await self.crypto.subtle.exportKey("pkcs8",e.privateKey);return{publicKey:btoa(String.fromCharCode(...new Uint8Array(s))),privateKey:btoa(String.fromCharCode(...new Uint8Array(a)))}}const T=async({app:e,device:s,user:a}={})=>{const n=e||await t.Backend.getApp();if(!a){const p=await t.SysModel.get(t.settings.sysmodels.USER,{active:!0,appId:n.id});if(p)return p.privateKey=null,await t.SysModel.get(t.settings.sysmodels.DEVICE,{userId:p.id,active:!0})||await t.SysModel.add(t.settings.sysmodels.DEVICE,s),p}const{publicKey:o,privateKey:r}=await I(),i=a||{id:a?.id||w(),name:a?.name||"Local User",publicKey:o,privateKey:r,appId:n.id,active:!0};await t.SysModel.add(t.settings.sysmodels.USER,i);const d=s||{userId:i.id,appId:n.id,active:!0};return await t.SysModel.add(t.settings.sysmodels.DEVICE,d),i.privateKey=null,i},u=async()=>await t.SysModel.get(t.settings.sysmodels.APP,{active:!0}),M=async e=>{if(t.Backend.user)return t.Backend.user;const s=e||await t.Backend.getApp();if(t.Backend.user&&t.Backend.user.appId!==s.id&&(t.Backend.user=null),!t.Backend.user){let a=await t.SysModel.get(t.settings.sysmodels.USER,{appId:s.id,active:!0});a||(a=await t.Backend.createUserEntry({app:s}));const{privateKey:n,active:o,...r}=a;t.Backend.user=r}return t.Backend.user},A=async({app:e,user:s}={})=>{const a=e||await t.Backend.getApp(),n=s||await t.Backend.getUser(a);if(!n)throw new Error("User not found");return await t.SysModel.get(t.settings.sysmodels.DEVICE,{userId:n.id,active:!0})||null},E=async(e,s=!1)=>{const a=e??t.data,{SysModel:n}=t,o=await u(),r=Object.entries(a);if(r.length){for(const[i,d]of r)!s&&t.dynamicModels.includes(i)?t.dynamicData.add([i,d]):await D[i].addMany(d,{keepIndex:!0});c.app=await n.edit(t.settings.sysmodels.APP,{id:o.id,migrationTimestamp:Date.now()})}};t.DatabaseExtensions;const m=async e=>{c.app=e;const s=[];e.models??={},Object.values(e.models).forEach(i=>Object.keys(i).forEach(d=>{d.startsWith("$")&&s.push(d.slice(1))})),await c.reload({name:e.id,models:e.models,version:e.version,extensions:s});const{active:a,privateKey:n,...o}=await M(e),r=await A({app:e,user:o});return t.data&&!e.migrationTimestamp&&(await E(t.data),e=await u()),{app:e,user:o,device:r,models:e.models}},C=h({$APP:t,getApp:u}),U={bootstrap:async()=>{let e=await u();e||(e=await v());const s=await m(e);return await t.hooks.run("APP:BACKEND_STARTED",s),s},handleMessage:B,getApp:u,getDevice:A,createAppEntry:v,createUserEntry:T,getUser:M,generateId:w,broadcast:f,addModel:C,requestFromClient:k};t.events.set({INIT_APP:async({respond:e})=>{await t.hooks.add("APP:DATABASE_STARTED",async({app:s,user:a,device:n})=>{e({app:s,user:a,device:n})})},GET_CURRENT_APP:async({respond:e})=>{const s=await t.Backend.getApp();e(s)},LIST_APPS:async({respond:e})=>{const s=await t.SysModel.getMany(t.settings.sysmodels.APP);e(s||[])},CREATE_APP:async({respond:e})=>{const s=await t.Backend.getApp();s&&await t.SysModel.edit(t.settings.sysmodels.APP,{id:s.id,active:!1});const a=await t.Backend.createAppEntry(),n=await m(a);e(n.app)},SELECT_APP:async({payload:e,respond:s})=>{const{appId:a}=e;if(!a)return s({error:"An \'appId\' is required to select an app."});const n=await t.Backend.getApp();n&&n.id!==a&&await t.SysModel.edit(t.settings.sysmodels.APP,{id:n.id,active:!1}),await t.SysModel.edit(t.settings.sysmodels.APP,{id:a,active:!0});const o=await t.SysModel.get(t.settings.sysmodels.APP,{id:a}),r=await m(o);s(r.app)},GET_DB_DUMP:async({respond:e})=>{const s=await c.createDBDump();e(s)},LOAD_DB_DUMP:async({payload:e,respond:s=console.log})=>{try{c.loadDBDump(e),s({success:!0})}catch(a){console.error("Failed to load DB dump:",a),s({success:!1,error:a})}}}),t.setLibrary({name:"backend",path:"mvc/controller/backend",alias:"Backend",base:U});\n',metaType:"application/javascript"},"/modules/mvc/model/backend.js":{content:'import r from"/bootstrap.js";import c from"/modules/mvc/model/database/index.js";import l from"/modules/mvc/model/index.js";const f={DISCONNECT:(e,{port:t})=>t.removePort(),CREATE_REMOTE_WORKSPACE:async({payload:e},{importDB:t})=>t(e),ADD_REMOTE_USER:async({payload:e})=>r.Backend.createUserEntry(e),ADD:async({payload:e,respond:t})=>{const s=await c.add(e.model,e.row,e.opts);t(s)},ADD_MANY:async({payload:e,respond:t})=>{const s=await c.addMany(e.model,e.rows,e.opts);t({success:!0,results:s})},REMOVE:async({payload:e,respond:t})=>{const s=await c.remove(e.model,e.id,e.opts);t(s)},REMOVE_MANY:async({payload:e,respond:t})=>{const s=await c.removeMany(e.model,e.ids,e.opts);t({success:!0,results:s})},EDIT:async({payload:e,respond:t})=>{const s=await c.edit(e.model,e.row,e.opts);t(s)},EDIT_MANY:async({payload:e,respond:t})=>{const s=await c.editMany(e.model,e.rows,e.opts);t({success:!0,results:s})},GET:async({payload:e,respond:t})=>{const{id:s,model:o,opts:n={}}=e,a=await c.get(o,s??(n.filter&&(typeof n.filter=="string"&&JSON.parse(n.filter)||n.filter)),n);t(a)},GET_MANY:async({payload:{model:e,opts:t={}},respond:s}={})=>{const o=await c.getMany(e,t.filter,t);s(o)}};r.events.set(f);const p=(e,t,s={})=>new Promise(o=>{const n=f[e];n&&typeof n=="function"?n({respond:o,payload:{model:t,...s}}):o({success:!1,error:`Action "${e}" not found.`})}),d=({model:e,row:t})=>{if(!t)return;const s=r.models[e],o=Object.entries(s).filter(([,n])=>n.belongs&&n.targetModel!=="*");o.length&&o.forEach(([n,a])=>{t[n]&&r.Backend.broadcast({type:"REQUEST_DATA_SYNC",payload:{key:`get:${t[n]}`,model:a.targetModel,data:void 0}})})},u=({row:e,db:t,model:s})=>{if(!e.models)return;const o=new Set(e.extensions||[]),n=new Set;Object.values(e.models).forEach(i=>Object.keys(i).forEach(E=>{E.startsWith("$")&&n.add(E.slice(1))}));const a=[...n].filter(i=>!o.has(i));if(a.length===0)return;console.log(`New extensions found: ${a.join(", ")}`),a.forEach(i=>{console.log(`Initializing extension: ${i}`),r.DatabaseExtensions.add(i)});const A=[...o,...a];t.edit(s,{...e,extensions:A})};r.hooks.set({"ModelAddRecord-App":u,"ModelEditRecord-App":u,onAddRecord({model:e,row:t,system:s}){s||(r.Backend.broadcast({type:"REQUEST_DATA_SYNC",payload:{key:`get:${t.id}`,model:e,data:t}}),d({model:e,row:t}),console.log("BROADCAST MESSAGE",{system:s,type:"REQUEST_DATA_SYNC",payload:{key:`get:${t.id}`,model:e,data:t}}))},onEditRecord({model:e,row:t,system:s}){s||(r.Backend.broadcast({type:"REQUEST_DATA_SYNC",payload:{key:`get:${t.id}`,model:e,data:t}}),d({model:e,row:t}))},onRemoveRecord({model:e,row:t,id:s,system:o}){o||(r.Backend.broadcast({type:"REQUEST_DATA_SYNC",payload:{key:`get:${s}`,model:e,data:void 0}}),d({model:e,row:t}))}}),l.request=p;export default l;\n',metaType:"application/javascript"},"/modules/mvc/model/database/index.js":{content:'import b from"/bootstrap.js";import I from"/modules/mvc/model/backend.js";import C from"/modules/mvc/model/extensions/metadata.js";import U from"/modules/mvc/model/extensions/operations.js";import O from"/modules/mvc/model/indexeddb/index.js";import D from"/modules/types/index.js";const q={operations:U,metadata:C};b.sysmodels.set({[b.settings.sysmodels.APP]:{name:D.string({index:!0,primary:!0}).$,version:D.number(),users:D.many(b.settings.sysmodels.USER,"appId").$,active:D.boolean({defaultValue:!0,index:!0}).$,models:D.object(),migrationTimestamp:D.number()},[b.settings.sysmodels.USER]:{name:D.string({index:!0,primary:!0}).$,appId:D.one(b.settings.sysmodels.APP,"users").$,devices:D.many(b.settings.sysmodels.DEVICE,"userId").$,publicKey:D.string(),privateKey:D.string(),active:D.boolean({index:!0}).$},[b.settings.sysmodels.DEVICE]:{name:D.string({index:!0,primary:!0}).$,userId:D.one(b.settings.sysmodels.USER,"devices").$,deviceData:D.string(),active:D.number({defaultValue:!0,index:!0}).$}});const j=s=>!!b.sysmodels[s];b.addModule({name:"DatabaseExtensions",base:b.storage.install([])});const W=(s,E)=>Object.fromEntries(Object.entries(s).filter(([F,f])=>Object.hasOwn(f,`$${E}`)).map(([F])=>[F,q[E]])),z=async s=>{const{dump:E}=s,F=s.app??await getApp();if(!E)throw"No dump provided";if(!F)throw"No app selected";for(const[f,x]of Object.entries(E))I[f]&&await I[f].addMany(x,{keepIndex:!0});await b.SysModel.edit(b.settings.sysmodels.APP,{id:F.id,migrationTimestamp:Date.now()})},L=async()=>{const s=await b.Backend.getApp(),E={},F=Object.keys(s.models);for(const f of F)I[f]&&(E[f]=await I[f].getAll({object:!0}));return E},B=()=>{let s,E,F,f,x;const N={},_={},S=async(e={})=>{e.extensions&&b.DatabaseExtensions.add(...e.extensions),e.name&&(F=e.name),e.models&&(s=e.models),e.version&&(E=e.version),x=e.system===!0,f&&f.close(),f=await O.open({name:F,version:E,models:s}),b.DatabaseExtensions.length&&!x&&b.DatabaseExtensions.forEach(async n=>{N[n]=await O.open({name:`${F}_${n}`,version:E,models:W(s,n)})})},T=async(e,n,o,i)=>{if(!e||e.length===0||!o||o.length===0)return;const c=s[n],$={},p={};for(const t of o){const u=c[t];if(!u)continue;p[t]=u;const{targetModel:d,belongs:l,polymorphic:m,mixed:a}=u;for(const w of e){let r=w[t];if(l)r=w[t];else continue;if(r==null)continue;const M=(y,v)=>{$[y]||($[y]=new Set),$[y].add(v)},g=y=>{if(m){if(typeof y=="string"){const[v,R]=y.split("@");v&&R&&M(v,R)}}else typeof y=="string"&&M(d,y)};Array.isArray(r)?r.forEach(g):g(r)}}const h={};for(const[t,u]of Object.entries($))if(u.size>0){const d=Array.from(u),l=await A.getMany(t,d);h[t]=l.reduce((m,a)=>(m[a.id]=a,m),{})}for(const t of e)for(const u of o){const d=p[u];if(!d)continue;const{targetModel:l,belongs:m,polymorphic:a,mixed:w,many:r}=d,M=i.transform??d.transform;if(m){const g=t[u];if(g==null){t[u]=r?[]:null;continue}const y=v=>{let R=l,k=v;if(a&&typeof v=="string"&&([R,k]=v.split("@")),w&&typeof v=="object"&&v!==null)return v;const P=h[R]?.[k]??null;return M?M(P,R):P};r?t[u]=Array.isArray(g)?g.map(y).filter(Boolean):[]:t[u]=y(g)}else{let g;if(a){const y=`${n}@${t.id}`;s[l]?.[d.targetForeignKey]?.many?g={[d.targetForeignKey]:{$contains:y}}:g={[d.targetForeignKey]:y}}else g={[d.targetForeignKey]:t.id};t[u]=d.relationship==="one"?await A.get(l,g):await A.getMany(l,g)}}},A={loadDBDump:z,createDBDump:L,extdbs:N,get db(){return f},get models(){return s},get version(){return f?.version},open:S,stores:_,reload:S,count:(...e)=>f.count(...e),isEmpty:(...e)=>f.isEmpty(...e),async put(e,n={},o={}){const{skipRelationship:i=!1,currentRow:c={}}=o,$=s[e];if(!$)return console.error(`Model ${e} not found. current schema version: ${E} / ${f.version}`);if(j(e))try{const t=await f.put(e,n);return t?[null,await f.get(e,t)]:[null,null]}catch(t){return[t,null]}const[p,h]=D.validateType(n,{schema:s[e],row:c,undefinedProps:!!o.insert,validateVirtual:!0});if(p)return[p,null];try{if(i)return await f.put(e,h,o),[null,h];const t=[e],u=Object.keys($).filter(w=>{const r=$[w],M=r.targetModel&&r.relationship&&h[w]!==void 0&&h[w]!==null;return M&&!t.includes(r.targetModel)&&(r.polymorphic||t.push(r.targetModel)),M}),d=h.id||n.id,l=[];for(const w of u){const r=$[w];let M=h[w];if(r.many&&Array.isArray(M)){const y=[];for(const v of M)if(typeof v=="string"||r.mixed&&typeof v=="object"&&v!==null)y.push(v);else{const R=r.targetModel;if(s[R]){const k={...v};k.id||(k.id=b.Backend.generateId()),l.push([R,k]),t.includes(R)||t.push(R);const P=r.polymorphic?`${R}@${k.id}`:k.id;y.push(P)}}h[w]=y,M=y}if(!s[r.targetModel]&&!r?.polymorphic){console.error(`ERROR: couldn\'t find target model \'${r.targetModel}\' for relationship \'${w}\' on model \'${e}\'`);continue}const g=s[r.targetModel]?.[r.targetForeignKey];if(!g){r.belongs||console.warn(`WARN: couldn\'t find target foreign key \'${r.targetForeignKey}\' in model \'${r.targetModel}\' for relationship \'${w}\' from \'${e}\'. This might be a one-way definition or configuration issue.`);continue}if(g.belongs){const y=g.polymorphic?`${e}@${d}`:d;if(g.many){const R=Array.isArray(M)?M:[M];R.length&&(await A.getMany(r.targetModel,R.map(P=>P&&typeof P=="object"?P.id:P))).forEach(P=>{if(P){const K=P[r.targetForeignKey];K?K.includes(y)||K.push(y):P[r.targetForeignKey]=[y],l.push([r.targetModel,P])}})}else{const R=typeof M=="string"?M:M?.id;if(R){const k=await A.get(r.targetModel,R);k&&(k[r.targetForeignKey]=y,l.push([r.targetModel,k]))}}}!r.belongs&&!$[w]?.polymorphic&&delete h[w]}l.push([e,h]);const m=await f.transaction(t),a=l.map(([w,r])=>m.put(w,r));return await Promise.all(a),await m.done(),[null,h]}catch(t){return console.error("Error in put operation:",t,{model:e,row:n,models:s,version:E}),[t,null]}},async get(e,n,o={}){if(!n)return null;const{insert:i=!1,includes:c=[],recursive:$=null}=o;let p=await f.get(e,n);if(!p&&!i)return null;if(!p&&i){const[h,t]=await A.add(e,typeof n=="object"?n:{id:n},{skipRelationship:!0,...typeof n!="object"&&{overrideId:!0,keepIndex:!0}});if(h)return console.error("Failed to insert record in get():",h),null;p=t}if(p&&c.length&&await T([p],e,c,o),p&&$){const h=new Set;let t=[p];const u=$;for(;t.length>0;){const d=[];for(const l of t){const a=`${l._modelName||e}@${l.id}`;h.has(a)||(h.add(a),d.push(l))}if(d.length===0)break;await T(d,e,[u],o),t=[];for(const l of d){const m=l[u];if(Array.isArray(m))m.forEach(a=>{if(a){const w=s[e][u];w&&(a._modelName=w.targetModel),t.push(a)}});else if(m){const a=s[e][u];a&&(m._modelName=a.targetModel),t.push(m)}}}}return p},async getMany(e,n,o={}){const{limit:i,offset:c,order:$,includes:p=[],recursive:h=null}=o;let t;if(Array.isArray(n)?t=(await Promise.all(n.map(d=>f.get(e,d)))).filter(d=>d!==null):t=await f.getMany(e,n,{limit:i,offset:c,order:$}),p.length&&t.length&&await T(t,e,p,o),h&&t.length){const d=new Set;let l=[...t];const m=h;for(;l.length>0;){const a=[];for(const r of l){const g=`${r._modelName||e}@${r.id}`;d.has(g)||(d.add(g),a.push(r))}if(a.length===0)break;const w=a[0]._modelName||e;await T(a,w,[m],o),l=[];for(const r of a){const M=r[m],g=s[w][m];Array.isArray(M)?M.forEach(y=>{y&&(g&&(y._modelName=g.targetModel),l.push(y))}):M&&(g&&(M._modelName=g.targetModel),l.push(M))}}}return i?{count:await f.count(e,Array.isArray(n)?{id:{$in:n}}:n),limit:i,offset:c,items:t}:t},async remove(e,n,o={}){const i=s[e];if(!i)return console.error(`Model ${e} not found for removal.`),!1;const c=await A.get(e,n);if(!c)return!1;const $=Object.keys(i).filter(t=>i[t].targetModel&&i[t].relationship),p=[e],h=[];if($.length>0)for(const t of $){const u=i[t];if(!u.targetModel||!u.targetForeignKey)continue;p.includes(u.targetModel)||u.polymorphic||p.push(u.targetModel);const d=u.targetModel,l=u.targetForeignKey,m=s[d]?.[l];if(m&&m.belongs){const a=m.polymorphic?`${e}@${n}`:n;let w;m.many?w={[l]:{$contains:a}}:w={[l]:a},(await A.getMany(d,w)).forEach(M=>{let g;m.many?g=(M[l]||[]).filter(y=>y!==a):g=null,h.push([d,{...M,[l]:g}])})}}try{const t=await f.transaction(p),u=h.map(([m,a])=>t.put(m,a)),d=t.remove(e,n);await Promise.all([...u,d]),await t.done();const l=j(e);return[`ModelRemoveRecord-${e}`,"onRemoveRecord"].forEach(m=>b.hooks.run(m,{model:e,opts:o,id:n,system:l,row:c,db:A,extensions:Object.keys(s[e]).filter(a=>a[0]==="$").map(a=>a.slice(1))})),!0}catch(t){return console.error("Failed to remove record or update relationships:",t,{model:e,id:n}),!1}},async removeMany(e,n,o={}){!n&&o.filter&&(n=o.filter);const i=Array.isArray(n)?n.map(c=>typeof c=="object"?c.id:c):(await f.getMany(e,n)).map(c=>c.id);return Promise.all(i.filter(Boolean).map(c=>A.remove(e,c,o)))},async edit(e,n,o={}){if(!n||!n.id)return console.error("Edit operation requires a row with an ID.",{model:e,row:n}),{errors:{id:"ID is required for edit."},model:e,row:n,opts:o};const i={...o,update:!0,currentRow:o.currentRow??await A.get(e,n.id,{includes:[]})};if(!i.currentRow)return console.warn(`Record not found for edit: ${e} with id ${n.id}`),{errors:{record:"Record not found."},model:e,row:n,opts:i};const[c,$]=await A.put(e,{...i.currentRow,...n},i);if(c)return{errors:c,model:e,row:n,opts:i};const p=j(e);return[`ModelEditRecord-${e}`,"onEditRecord"].forEach(h=>b.hooks.run(h,{row:n,model:e,system:p,opts:i,db:A,extensions:Object.keys(s[e]).filter(t=>t[0]==="$").map(t=>t.slice(1))})),$},async editMany(e,n,o={}){return n?.length?await Promise.allSettled(n.map(async c=>c?.id?A.edit(e,c,o):{errors:{id:"Row or ID missing for editMany"},row:c})):[]},async editAll(e,n,o,i={}){const c=await f.getMany(e,n,{...i});return await Promise.allSettled(c.map(p=>A.edit(e,{...p,...o},{...i,currentRow:p})))},async add(e,n,o={}){const i={...n},c=j(e);(!c&&!o.keepIndex&&!o.overrideId||!i.id)&&(i.id=b.Backend.generateId());const[$,p]=await A.put(e,i,{...o,insert:!0});return $?{errors:$,model:e,row:i,opts:o}:([`ModelAddRecord-${e}`,"onAddRecord"].forEach(h=>b.hooks.run(h,{model:e,row:p,system:c,opts:o,db:A,extensions:Object.keys(s[e]).filter(t=>t[0]==="$").map(t=>t.slice(1))})),p)},async addMany(e,n=[],o={}){return await Promise.allSettled(n.map(c=>A.add(e,c,o)))}};return A};export const SysModel=B();await SysModel.open({name:b.settings.sysmodels.APP,version:1,models:b.sysmodels,system:!0}),b.setLibrary({name:"sysmodel",alias:"SysModel",base:SysModel});const V=B();b.hooks.add("APP:BACKEND_STARTED",async({app:s,user:E,device:F,models:f})=>{if(!s||!f){console.error("APP:BACKEND_STARTED hook called with invalid app or models.",{app:s,models:f});return}await V.open({name:s.id,version:s.version,extensions:s.extensions,system:!1,models:{...f,...s.models||{}}}),b.hooks.run("APP:DATABASE_STARTED",{app:s,user:E,device:F})});export default V;\n',metaType:"application/javascript"},"/modules/mvc/model/extensions/operations.js":{content:`import d from"/bootstrap.js";import e from"/modules/mvc/model/database/index.js";import a from"/modules/types/index.js";d.hooks.set({onAddRecord({model:o,row:r,system:n,extensions:s}){if(n||!e.extdbs||!s.includes("operations"))return;const t=e.extdbs.operations;if(!t)return console.error("Operations database instance not active.");t.put(o,{timestamp:Date.now(),row:r})},async onEditRecord({model:o,id:r,row:n,system:s,extensions:t}){if(s||!e.extdbs||!t.includes("operations"))return;const i=e.extdbs.operations;if(!i)return console.error("Operations database instance not active.");i.put(o,{timestamp:Date.now(),rowId:r,row:n})},onRemoveRecord({model:o,id:r,system:n,extensions:s}){if(n||!e.extdbs||!s.includes("operations"))return;const t=e.extdbs.operations;if(!t)return console.error("Operations database instance not active.");t.put(o,{timestamp:Date.now(),removedAt:Date.now(),rowId:r})}});export default{createdAt:a.string({index:!0}).$,removedAt:a.string(),rowId:a.string({index:!0}).$,row:a.object()};
`,metaType:"application/javascript"},"/modules/mvc/model/extensions/metadata.js":{content:`import s from"/bootstrap.js";import a from"/modules/mvc/model/database/index.js";import o from"/modules/types/index.js";s.hooks.set({onAddRecord({model:e,row:d,system:r,extensions:n}){if(r||!a.extdbs||!n.includes("metadata"))return;const t=a.extdbs.metadata;if(!t)return console.error("Metadata database instance not active.");t.put(e,{id:d.id,createdAt:Date.now(),updatedAt:Date.now()})},async onEditRecord({model:e,row:d,system:r,extensions:n}){if(r||!a.extdbs||!n.includes("metadata"))return;const t=a.extdbs.metadata;if(!t)return console.error("Metadata database instance not active.");const i=await t.get(e,d.id);i.updatedAt=Date.now(),t.put(e,i)},onRemoveRecord({model:e,id:d,system:r,extensions:n}){if(r||!a.extdbs||!n.includes("metadata"))return;const t=a.extdbs.metadata;if(!t)return console.error("Metadata database instance not active.");t.remove(e,d)}});export default{createdAt:o.string({index:!0}).$,updatedAt:o.string({index:!0}).$,createdBy:o.string({index:!0}).$,updatedBy:o.string({index:!0}).$};
`,metaType:"application/javascript"},"/modules/mvc/model/indexeddb/index.js":{content:'const E={true:1,false:0},z={true:!0,false:!1};async function G($){const y=H($);return await y.init(),y}function H({name:$,models:y,version:K}){let l=null,m=!1,g=null,C=Number(K);const R=async()=>g||(g=new Promise((e,o)=>{const n=indexedDB.open($,C);n.onerror=s=>{g=null,o(new Error(`Failed to open database: ${s.target.error}`))},n.onsuccess=s=>{l=s.target.result,m=!0,l.onversionchange=()=>{l&&(l.close(),l=null,m=!1,g=null)},e(l)},n.onupgradeneeded=s=>{const i=s.target.result,c=s.target.transaction;Object.keys(y).forEach(t=>{if(!i.objectStoreNames.contains(t))W(i,t);else{const r=c.objectStore(t),u=y[t];Object.keys(u).forEach(a=>{u[a].index===!0&&!r.indexNames.contains(a)&&r.createIndex(a,a,{unique:u[a].unique||!1,multiEntry:u[a].type==="array"})})}})}}),g),D=()=>{l&&l.close(),l=null,m=!1,g=null},M=async e=>(g&&await g,D(),C=e.version,y=e.models,$APP.Backend.broadcast({type:"UPDATE_MODELS",payload:{models:y}}),R()),p=async()=>{(!m||!l)&&await R()},S=({model:e,row:o,reverse:n=!1,currentRow:s={}})=>{const i=n?z:E,c=y[e],t={...o};return Object.keys(c).forEach(r=>{r.relationship&&!r.belongs||(o[r]===void 0&&s[r]!==void 0?t[r]=s[r]:(c[r].type==="boolean"&&(t[r]=o[r]?i.true:i.false),t[r]===void 0&&delete t[r]))}),n&&Object.keys(c).forEach(r=>{c[r].type==="boolean"&&(t[r]===E.true?t[r]=!0:t[r]===E.false&&(t[r]=!1))}),t},B=(e,o,n)=>{const s=y[n];return Object.entries(o).every(([i,c])=>{const t=e[i],r=s?.[i];return typeof c=="object"&&c!==null&&!Array.isArray(c)?Object.entries(c).every(([u,a])=>{switch(u){case"$gt":return t>a;case"$gte":return t>=a;case"$lt":return t<a;case"$lte":return t<=a;case"$ne":return t!=a;case"$in":return Array.isArray(a)&&a.includes(t);case"$nin":return Array.isArray(a)&&!a.includes(t);case"$contains":return Array.isArray(t)||typeof t=="string"&&typeof a=="string"?t.includes(a):!1;default:return!1}}):r?.type==="boolean"?!!t==c:r?.type==="array"&&Array.isArray(t)?t.includes(c):t===c})},W=(e,o)=>{const n=y[o],s=e.createObjectStore(o,{keyPath:"id",autoIncrement:!0});Object.keys(n).forEach(i=>{(n[i].index===!0||n[i].unique===!0)&&s.createIndex(i,i,{unique:n[i].unique??!1,multiEntry:n[i].type==="array"})})},F=(e,o)=>{const n=y[o];if(!n||typeof e!="object"||e===null)return null;for(const s in e)if(Object.hasOwn(e,s)&&n[s]?.index)return s;return null},k=async(e,o,n={})=>(await p(),new Promise((s,i)=>{const c=l.transaction(e,"readwrite"),r=c.objectStore(e).put(S({model:e,row:o,currentRow:n.currentRow}));r.onerror=()=>i(new Error(`Failed to put: ${r.error}`)),c.oncomplete=()=>s(r.result)})),_=async(e,o={},{limit:n=0,offset:s=0,order:i=null,keys:c}={})=>(await p(),new Promise((t,r)=>{try{const a=l.transaction(e,"readonly").objectStore(e),d=[],Q=y[e],I=()=>{if(i&&d.length>0){const f=Array.isArray(i)?i:i.split(",").map(b=>b.trim());d.sort((b,U)=>{for(const A of f){let P=1,j=A;A.startsWith("-")?(P=-1,j=A.substring(1).trim()):A.startsWith("+")&&(j=A.substring(1).trim());const q=b[j],v=U[j];if(q===void 0&&v===void 0)return 0;if(q===void 0)return 1*P;if(v===void 0||q<v)return-1*P;if(q>v)return 1*P}return 0})}const w=n>0?d.slice(s,s+n):d.slice(s);t(w.map(f=>S({model:e,row:f,reverse:!0})))};if(Array.isArray(o)){const w=a.openCursor();w.onerror=()=>r(new Error(`Failed to getMany ${e}: ${w.error}`)),w.onsuccess=f=>{const b=f.target.result;b?(o.includes(b.key)&&(!c||c.includes(b.key))&&d.push(b.value),b.continue()):I()};return}let h,T=!1;const x=F(o,e);if(x&&Object.keys(o).length>0){let w=o[x];if(Q[x]?.type==="boolean"&&(w=w?E.true:E.false),w!==void 0)try{h=a.index(x).openCursor(IDBKeyRange.only(w)),T=!0}catch{h=a.openCursor()}else h=a.openCursor()}else h=a.openCursor();h.onerror=()=>r(new Error(`Failed to getMany ${e}: ${h.error}`)),h.onsuccess=w=>{const f=w.target.result;if(f){const b=T?f.primaryKey:f.key;if(c&&!c.includes(b)){f.continue();return}B(f.value,o,e)&&d.push(f.value),f.continue()}else I()}}catch(u){r(new Error(`Failed to start transaction: ${u.message}. Query Props: ${JSON.stringify({storeName:e,limit:n,offset:s,filter:o,order:i,keys:c})}`))}})),J=async(e,o)=>(await p(),new Promise((n,s)=>{if(!o)return n(null);const c=l.transaction(e,"readonly").objectStore(e),t=y[e];if(typeof o=="object"&&!Array.isArray(o)){const r=F(o,e);let u;if(r){let a=o[r];if(t[r]?.type==="boolean"&&(a=a?E.true:E.false),a!==void 0)try{u=c.index(r).openCursor(IDBKeyRange.only(a))}catch{u=c.openCursor()}else u=c.openCursor()}else u=c.openCursor();u.onerror=()=>s(new Error(`Failed to get: ${u.error}`)),u.onsuccess=a=>{const d=a.target.result;d?B(d.value,o,e)?n(S({model:e,row:d.value,reverse:!0})):d.continue():n(null)}}else{if(Array.isArray(o)){s(new Error("Filter for get must be an object or a primary key."));return}const r=c.get(o);r.onerror=()=>s(new Error(`Failed to get: ${r.error}`)),r.onsuccess=()=>n(r.result?S({model:e,row:r.result,reverse:!0}):null)}})),L=async(e,o)=>(await p(),new Promise((n,s)=>{const t=l.transaction(e,"readwrite").objectStore(e).delete(o);t.onerror=()=>s(new Error(`Failed to delete: ${t.error}`)),t.onsuccess=()=>n(!0)})),O=async(e,{filter:o={}}={})=>(await p(),new Promise((n,s)=>{const c=l.transaction(e,"readonly").objectStore(e);if(Object.keys(o).length===0){const t=c.count();t.onerror=()=>s(new Error(`Failed to count: ${t.error}`)),t.onsuccess=()=>n(t.result)}else{const t=c.openCursor();let r=0;t.onerror=()=>s(new Error(`Failed to count: ${t.error}`)),t.onsuccess=u=>{const a=u.target.result;a?(B(a.value,o,e)&&r++,a.continue()):n(r)}}}));return{init:R,transaction:async(e,o="readwrite")=>{await p();const n=l.transaction(e,o);return{transaction:n,put:(s,i,c={})=>new Promise((t,r)=>{const u=n.objectStore(s),a=S({model:s,row:i,currentRow:c.currentRow}),d=u.put(a);d.onsuccess=()=>t(d.result),d.onerror=()=>r(d.error)}),remove:(s,i)=>new Promise((c,t)=>{const u=n.objectStore(s).delete(i);u.onsuccess=()=>c(!0),u.onerror=()=>t(u.error)}),done:()=>new Promise((s,i)=>{n.oncomplete=()=>s(),n.onerror=()=>i(n.error),n.onabort=()=>i(n.error||new Error("Transaction aborted"))}),abort:()=>n.abort()}},getMany:_,prepareRow:S,put:k,get:J,remove:L,reload:M,count:O,isEmpty:async e=>await O(e)===0,clear:async e=>(await p(),new Promise((o,n)=>{const c=l.transaction(e,"readwrite").objectStore(e).clear();c.onerror=()=>n(new Error(`Failed to clear: ${c.error}`)),c.onsuccess=()=>o()})),get db(){return l},close:D,destroy:async()=>{const e=$;return D(),new Promise((o,n)=>{const s=indexedDB.deleteDatabase(e);s.onerror=()=>n(new Error(`Failed to delete database: ${s.error}`)),s.onsuccess=()=>o()})},export:async e=>(await p(),new Promise((o,n)=>{const c=l.transaction(e,"readonly").objectStore(e).getAll();c.onerror=()=>n(new Error(`Failed to export: ${c.error}`)),c.onsuccess=()=>{const t={};c.result&&c.result.forEach(r=>{["string","number"].includes(typeof r.id)&&(t[r.id]=r)}),o(t)}})),import:async(e,o)=>{if(await p(),!Array.isArray(o))throw new Error("No data provided or data is not an array");return o.length===0?Promise.resolve():new Promise((n,s)=>{const i=l.transaction(e,"readwrite"),c=i.objectStore(e);let t=0,r=null;o.forEach(u=>{if(r)return;const a=c.put(u);a.onerror=()=>{r||(r=a.error,i.abort(),s(new Error(`Failed to import: ${r}`)))},a.onsuccess=()=>{r||(t++,o.length)}}),i.oncomplete=()=>{r||n()},i.onerror=()=>{r||s(new Error(`Transaction error during import: ${i.error}`))}})},get isConnected(){return m},get version(){return C},name:$,models:y}}export default{open:G};\n',metaType:"application/javascript"},"/modules/mvc/backend.js":{content:`import o from"/bootstrap.js";import r from"/modules/mvc/model/backend.js";o.Model=r;export default o;
`,metaType:"application/javascript"},"/modules/apps/brazuka/backend.js":{content:`import a from"/bootstrap.js";import e from"/modules/types/index.js";const t={courses:[{id:"course-web-dev-basico",title:"Desenvolvimento Web B\\xE1sico",description:"Aprenda os fundamentos de HTML, CSS e JavaScript criando um jogo da mem\\xF3ria do zero, desde a estrutura at\\xE9 a interatividade.",lessons:["lesson-html-1","lesson-html-2","lesson-html-3","lesson-css-1","lesson-css-2","lesson-css-3","lesson-js-1","lesson-js-2","lesson-js-3"]}],lessons:[{id:"lesson-html-1",title:"O que \\xE9 HTML?",order:1,content:\`
# Li\\xE7\\xE3o 1: O que \\xE9 HTML?

**HTML (HyperText Markup Language)** n\\xE3o \\xE9 uma linguagem de programa\\xE7\\xE3o, mas sim uma **linguagem de marca\\xE7\\xE3o**. Pense nela como a planta de uma casa. Ela define a estrutura e os c\\xF4modos: "aqui fica a sala", "aqui fica a cozinha", "isto \\xE9 uma porta".

## Tags e Elementos

O HTML usa **tags** para "marcar" o conte\\xFAdo. A maioria das tags tem uma de abertura e uma de fechamento.

\\\`\\\`\\\`html
<p>Isso \\xE9 um par\\xE1grafo.</p>
\\\`\\\`\\\`

O conjunto \\\`<p>...</p>\\\` e o conte\\xFAdo dentro dele formam um **elemento**.

## A Estrutura B\\xE1sica

Toda p\\xE1gina HTML segue esta estrutura m\\xEDnima:

- \\\`<!DOCTYPE html>\\\`: Informa ao navegador que \\xE9 um documento HTML5.
- \\\`<html>\\\`: O elemento raiz que envolve toda a p\\xE1gina.
- \\\`<head>\\\`: Cont\\xE9m metadados (informa\\xE7\\xF5es para o navegador), como o t\\xEDtulo da aba. N\\xE3o \\xE9 vis\\xEDvel na p\\xE1gina.
- \\\`<body>\\\`: Cont\\xE9m todo o conte\\xFAdo vis\\xEDvel: textos, imagens, links, etc.
---
\`},{id:"lesson-html-2",title:"Tags Essenciais e Atributos",order:2,content:'\\n# Li\\xE7\\xE3o 2: Tags Essenciais e Atributos\\n\\nVamos conhecer as tags mais comuns que voc\\xEA usar\\xE1 o tempo todo.\\n\\n- \`<h1>\` a \`<h6>\`: T\\xEDtulos e subt\\xEDtulos. \`<h1>\` \\xE9 o mais importante.\\n- \`<p>\`: Par\\xE1grafos de texto.\\n- \`<a>\`: \\xC2ncora, usada para criar links.\\n- \`<img>\`: Imagem.\\n- \`<div>\`: Divis\\xE3o, um cont\\xEAiner gen\\xE9rico para agrupar elementos.\\n\\n## Atributos\\n\\nAtributos fornecem informa\\xE7\\xF5es adicionais aos elementos e s\\xE3o sempre colocados na tag de abertura.\\n\\n- \`id\`: Um identificador **\\xFAnico** para um elemento.\\n- \`class\`: Um nome de classe que pode ser aplicado a **v\\xE1rios** elementos.\\n- \`src\`: (Source) Usado na tag \`<img>\` para indicar o caminho da imagem.\\n- \`href\`: (Hyperlink Reference) Usado na tag \`<a>\` para indicar o destino do link.\\n\\n\`\`\`html\\n<a href="https://google.com">Ir para o Google</a>\\n<img src="/imagens/logo.png" alt="Logo da empresa">\\n\`\`\`\\n---\\n'},{id:"lesson-html-3",title:"Listas e Tabelas",order:3,content:\`
# Li\\xE7\\xE3o 3: Listas e Tabelas

## Listas

Para organizar informa\\xE7\\xF5es, usamos listas.
- \\\`<ul>\\\`: Lista n\\xE3o ordenada (com marcadores).
- \\\`<ol>\\\`: Lista ordenada (com n\\xFAmeros).
- \\\`<li>\\\`: Item da lista (usado dentro de \\\`<ul>\\\` ou \\\`<ol>\\\`).

## Tabelas para Layout

Tabelas s\\xE3o usadas para exibir dados tabulares (como uma planilha). No nosso exerc\\xEDcio, construiremos o tabuleiro do jogo com uma tabela, que \\xE9 uma \\xF3tima forma de entender como criar grades de conte\\xFAdo.

- \\\`<table>\\\`: Define a tabela.
- \\\`<tr>\\\`: (Table Row) Define uma linha na tabela.
- \\\`<td>\\\`: (Table Data) Define uma c\\xE9lula de dados dentro de uma linha.
---
\`},{id:"lesson-css-1",title:"Estilizando com CSS",order:4,content:\`
# Li\\xE7\\xE3o 4: Estilizando com CSS

**CSS (Cascading Style Sheets)** \\xE9 a linguagem que usamos para estilizar o HTML. Se o HTML \\xE9 a planta da casa, o CSS s\\xE3o as cores da parede, os m\\xF3veis e a decora\\xE7\\xE3o.

## Como adicionar CSS?

Vamos come\\xE7ar adicionando CSS dentro da tag \\\`<style>\\\`, que fica no \\\`<head>\\\` do seu HTML.

## Sintaxe B\\xE1sica

Uma regra de CSS tem um **seletor** e um bloco de **declara\\xE7\\xF5es**.
- **Seletor**: Aponta para o elemento HTML que voc\\xEA quer estilizar (ex: \\\`h1\\\`, \\\`table\\\`, \\\`.minha-classe\\\`).
- **Declara\\xE7\\xE3o**: A propriedade e o valor do estilo (ex: \\\`color: blue;\\\`).

\\\`\\\`\\\`css
/* Estiliza todas as tabelas */
table {
  border-collapse: collapse; /* Une as bordas das c\\xE9lulas */
}

/* Estiliza todas as c\\xE9lulas de dados */
td {
  width: 80px;
  height: 80px;
  border: 2px solid #333;
  text-align: center;
  font-size: 40px;
}
\\\`\\\`\\\`
---
\`},{id:"lesson-css-2",title:"Seletores e o Box Model",order:5,content:\`
# Li\\xE7\\xE3o 5: Seletores e o Box Model

## Seletores Espec\\xEDficos

Al\\xE9m de selecionar tags como \\\`td\\\`, podemos ser mais espec\\xEDficos com **classes** e **IDs**.

- **Classe (\\\`.\\\`)**: Para estilizar m\\xFAltiplos elementos. \\\`<td class="card">\\\` \\xE9 selecionado com \\\`.card\\\`.
- **ID (\\\`#\\\`)**: Para estilizar um \\xFAnico elemento. \\\`<table id="game-board">\\\` \\xE9 selecionado com \\\`#game-board\\\`.

## O Box Model

Todo elemento HTML \\xE9 uma caixa. O **Box Model** descreve como essa caixa \\xE9 formada:



- **Content**: O conte\\xFAdo do elemento (texto, imagem).
- **Padding**: Espa\\xE7amento *interno*, entre o conte\\xFAdo e a borda.
- **Border**: A borda que envolve o padding e o conte\\xFAdo.
- **Margin**: Espa\\xE7amento *externo*, entre a borda e outros elementos.

\\\`\\\`\\\`css
#game-board {
  margin: 20px auto; /* Centraliza a tabela na p\\xE1gina */
}

.card {
  padding: 5px; /* Adiciona um respiro em volta do emoji */
}
\\\`\\\`\\\`
---
\`},{id:"lesson-css-3",title:"Pseudo-classes e Transi\\xE7\\xF5es",order:6,content:\`
# Li\\xE7\\xE3o 6: Pseudo-classes e Transi\\xE7\\xF5es

## Pseudo-classes

**Pseudo-classes** permitem estilizar um elemento em um estado especial. A mais comum \\xE9 \\\`:hover\\\`, que se aplica quando o mouse est\\xE1 sobre o elemento.

\\\`\\\`\\\`css
td:hover {
  background-color: lightyellow;
  transform: scale(1.05); /* Aumenta levemente o tamanho */
}
\\\`\\\`\\\`

## Transi\\xE7\\xF5es

Para que as mudan\\xE7as de estilo n\\xE3o sejam instant\\xE2neas, usamos a propriedade \\\`transition\\\`. Ela suaviza a altera\\xE7\\xE3o de uma ou mais propriedades ao longo do tempo.

\\\`\\\`\\\`css
td {
  /* ...outros estilos... */
  transition: background-color 0.3s, transform 0.3s;
}
\\\`\\\`\\\`

Agora, quando voc\\xEA passar o mouse sobre uma c\\xE9lula, a cor e o tamanho mudar\\xE3o suavemente em 0.3 segundos.
---
\`},{id:"lesson-js-1",title:"Introdu\\xE7\\xE3o ao JavaScript",order:7,content:\`
# Li\\xE7\\xE3o 5: Introdu\\xE7\\xE3o ao JavaScript

**JavaScript (JS)** \\xE9 a linguagem de programa\\xE7\\xE3o que d\\xE1 vida \\xE0 web. Com ela, podemos criar interatividade, manipular o HTML e o CSS, e muito mais.

## Adicionando JS

Adicionamos nosso c\\xF3digo JS dentro de uma tag \\\`<script>\\\`, geralmente colocada logo antes do fechamento da tag \\\`</body>\\\`.

## Vari\\xE1veis e Tipos de Dados

Vari\\xE1veis s\\xE3o cont\\xEAineres para guardar valores. Usamos \\\`let\\\` para vari\\xE1veis que podem mudar e \\\`const\\\` para constantes.

- **String**: Texto, entre aspas. \\\`const nome = "J\\xFAlia";\\\`
- **Number**: N\\xFAmeros. \\\`let idade = 25;\\\`
- **Array**: Uma lista de valores. \\\`const animais = ['\\u{1F435}', '\\u{1F436}', '\\u{1F98A}'];\\\`
---
\`},{id:"lesson-js-2",title:"DOM, Fun\\xE7\\xF5es e Eventos",order:8,content:\`
# Li\\xE7\\xE3o 6: DOM, Fun\\xE7\\xF5es e Eventos

## Manipulando o DOM

O navegador cria uma representa\\xE7\\xE3o do HTML chamada **DOM (Document Object Model)**. O JS pode acessar e alterar essa representa\\xE7\\xE3o.

- \\\`document.getElementById('meu-id')\\\`: Seleciona um elemento pelo seu ID.
- \\\`document.querySelectorAll('td')\\\`: Seleciona todos os elementos \\\`<td>\\\`.
- \\\`elemento.innerHTML = 'Novo conte\\xFAdo'\\\`: Altera o HTML dentro de um elemento.
- \\\`elemento.style.backgroundColor = 'blue'\\\`: Altera o estilo de um elemento.

## Fun\\xE7\\xF5es e Eventos

**Fun\\xE7\\xF5es** s\\xE3o blocos de c\\xF3digo reutiliz\\xE1veis que executam uma tarefa. **Eventos** s\\xE3o a\\xE7\\xF5es do usu\\xE1rio (como um clique) que podemos "ouvir".

\\\`\\\`\\\`javascript
const celulas = document.querySelectorAll('td');

function onCardClick(evento) {
  console.log('C\\xE9lula clicada!');
  evento.target.style.backgroundColor = 'lightblue'; // 'evento.target' \\xE9 o elemento que foi clicado
}

// Adiciona a fun\\xE7\\xE3o 'onCardClick' para ser executada no clique de cada c\\xE9lula
celulas.forEach(celula => {
    celula.addEventListener('click', onCardClick);
});
\\\`\\\`\\\`
---
\`},{id:"lesson-js-3",title:"Estado do Jogo e Vit\\xF3ria",order:9,content:\`
# Li\\xE7\\xE3o 9: Estado do Jogo e Vit\\xF3ria

Um jogo precisa saber quando terminou. Para isso, controlamos seu **estado** com vari\\xE1veis.

## Travando o Tabuleiro

Quando duas cartas s\\xE3o viradas, n\\xE3o queremos que o jogador possa clicar em uma terceira. Podemos usar uma vari\\xE1vel, como \\\`let tabuleiroTravado = false;\\\`, para controlar isso. Quando o jogador clica na primeira carta, a travamos (\\\`true\\\`) e s\\xF3 a destravamos (\\\`false\\\`) depois que o par \\xE9 verificado.

## Contando Pares e Vencendo

Precisamos de um contador para os pares encontrados.

\\\`\\\`\\\`javascript
let paresEncontrados = 0;
const totalDePares = 8;

// Dentro da l\\xF3gica que verifica se as cartas s\\xE3o iguais...
if (primeiraCarta.dataset.animal === segundaCarta.dataset.animal) {
    // \\xC9 um par!
    paresEncontrados++;
    // Checa se venceu
    if (paresEncontrados === totalDePares) {
        alert('Parab\\xE9ns, voc\\xEA venceu!');
    }
}
\\\`\\\`\\\`
Para evitar que um par j\\xE1 encontrado seja clicado novamente, podemos remover seu ouvinte de evento com \\\`card.removeEventListener('click', suaFuncaoDeClique)\\\`.
---
\`}],exercises:[{id:"ex-html-1",lesson:"lesson-html-1",order:1,title:"Sua Primeira P\\xE1gina HTML",instructions:"Crie a estrutura b\\xE1sica de uma p\\xE1gina HTML com as tags \`<head>\` e \`<body>\`.\\nDentro do \`<head>\`, adicione uma tag \`<title>\` com o texto 'Jogo da Mem\\xF3ria'.",seed:\`<!DOCTYPE html>
<html>

</html>\`,tests:[{text:"Deve ter a declara\\xE7\\xE3o <!DOCTYPE html>.",regex:/<!DOCTYPE html>/i},{text:"Deve ter a tag <html> envolvendo o conte\\xFAdo.",regex:/<html.*>[\\s\\S]*<\\/html>/i},{text:"Deve ter a tag <title> com o texto correto dentro do <head>.",regex:/<head>[\\s\\S]*<title>Jogo da Mem\xF3ria<\\/title>[\\s\\S]*<\\/head>/i}]},{id:"ex-html-2",lesson:"lesson-html-2",order:2,title:"Adicionando T\\xEDtulo e Descri\\xE7\\xE3o",instructions:"Dentro do \`<body>\`, adicione:\\n1. Um t\\xEDtulo principal \`<h1>\` com o texto 'Jogo dos Bichos'.\\n2. Um par\\xE1grafo \`<p>\` logo abaixo com o texto 'Encontre todos os pares!'.\\n        ",seed:\`<!DOCTYPE html>
<html>
    <head>
        <title>Jogo da Mem\\xF3ria</title>
    </head>
    <body>
    </body>
</html>\`,tests:[{text:"Deve haver um h1 com o texto 'Jogo dos Bichos'.",regex:/<h1>Jogo dos Bichos<\\/h1>/i},{text:"Deve haver um p com o texto 'Encontre todos os pares!'.",regex:/<p>Encontre todos os pares!<\\/p>/i}]},{id:"ex-html-3",lesson:"lesson-html-3",order:3,title:"Construindo o Tabuleiro com Tabela",instructions:"Abaixo do par\\xE1grafo, crie uma \`<table>\` com um \`<tbody>\`.\\nDentro do \`<tbody>\`, crie 4 linhas (\`<tr>\`), e cada linha deve conter 4 c\\xE9lulas (\`<td>\`).\\nColoque um emoji de '\\u2753' em cada uma das 16 c\\xE9lulas. Este ser\\xE1 nosso tabuleiro inicial.\\n        ",seed:\`<!DOCTYPE html>
<html>
    <head>
        <title>Jogo da Mem\\xF3ria</title>
    </head>
    <body>
        <h1>Jogo dos Bichos</h1>
        <p>Encontre todos os pares!</p>
    </body>
</html>\`,tests:[{text:"Deve haver uma tag <table> com um <tbody>.",regex:/<table.*>[\\s\\S]*<tbody.*>[\\s\\S]*<\\/tbody>[\\s\\S]*<\\/table>/i},{text:"O tbody deve conter exatamente 4 elementos <tr>.",regex:/(<tr>[\\s\\S]*?<\\/tr>){4}/},{text:"A tabela deve conter exatamente 16 elementos <td>.",regex:/(<td>[\\s\\S]*?<\\/td>){16}/},{text:"Cada <td> deve conter o emoji '\\u2753'.",regex:/<td>\u2753<\\/td>/}]},{id:"ex-css-1",lesson:"lesson-css-1",order:4,title:"Estilizando o Tabuleiro",instructions:"Dentro de uma tag \`<style>\` no \`<head>\`, adicione regras de CSS para o tabuleiro.\\nPara o seletor \`td\`, defina:\\n- \`width\` e \`height\` como \`80px\`\\n- \`border\` como \`2px solid black\`\\n- \`font-size\` como \`50px\`\\n- \`text-align\` como \`center\`\\n- \`cursor\` como \`pointer\`\\n        ",seed:\`<!DOCTYPE html>
<html>
    <head>
        <title>Jogo da Mem\\xF3ria</title>
    </head>
    <body>
        <h1>Jogo dos Bichos</h1>
        <p>Encontre todos os pares!</p>
        <table>
            <tbody>
                <tr><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td></tr>
                <tr><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td></tr>
                <tr><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td></tr>
                <tr><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td></tr>
            </tbody>
        </table>
    </body>
</html>\`,tests:[{text:"Deve haver uma tag <style> no <head>.",regex:/<head>[\\s\\S]*<style>[\\s\\S]*<\\/style>[\\s\\S]*<\\/head>/i},{text:"A regra para 'td' deve definir width e height como 80px.",regex:/td\\s*\\{[^}]*width:\\s*80px;[^}]*height:\\s*80px;[^}]*\\}/i},{text:"A regra para 'td' deve definir uma borda s\\xF3lida de 2px.",regex:/td\\s*\\{[^}]*border:\\s*2px solid black;[^}]*\\}/i},{text:"A regra para 'td' deve definir o cursor como pointer.",regex:/td\\s*\\{[^}]*cursor:\\s*pointer;[^}]*\\}/i}]},{id:"ex-css-2",lesson:"lesson-css-2",order:5,title:"Aplicando o Box Model",instructions:'Vamos refinar nosso layout.\\n1. Adicione a \`id="game-board"\` \\xE0 sua tag \`<table>\`.\\n2. No seu CSS, crie uma regra para \`#game-board\` e defina a \`margin\` como \`20px auto\` para centraliz\\xE1-la.\\n3. Na regra para \`td\`, adicione um \`padding\` de \`5px\`.\\n        ',seed:\`<!DOCTYPE html>
<html>
    <head>
        <title>Jogo da Mem\\xF3ria</title>
        <style>
            td {
                width: 80px;
                height: 80px;
                border: 2px solid black;
                font-size: 50px;
                text-align: center;
                cursor: pointer;
            }
        </style>
    </head>
    <body>
        <h1>Jogo dos Bichos</h1>
        <p>Encontre todos os pares!</p>
        <table>
            <tbody>
                <tr><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td></tr>
                <tr><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td></tr>
                <tr><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td></tr>
                <tr><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td></tr>
            </tbody>
        </table>
    </body>
</html>\`,tests:[{text:"A tag <table> deve ter o id 'game-board'.",regex:/<table id="game-board"/i},{text:"A regra #game-board deve definir a margem para centraliza\\xE7\\xE3o.",regex:/#game-board\\s*\\{[^}]*margin:\\s*20px auto;[^}]*\\}/i},{text:"A regra td deve definir um padding de 5px.",regex:/td\\s*\\{[^}]*padding:\\s*5px;[^}]*\\}/i}]},{id:"ex-css-3",lesson:"lesson-css-3",order:6,title:"Adicionando Interatividade com Hover",instructions:"Vamos dar um feedback visual ao jogador!\\n1. Na sua tag \`<style>\`, adicione uma regra para o estado \`td:hover\` que muda o \`background-color\` para \`lightcyan\`.\\n2. Em seguida, na regra principal \`td\`, adicione a propriedade \`transition\` para suavizar a mudan\\xE7a de \`background-color\` em \`0.2s\`.\\n        ",seed:\`<!DOCTYPE html>
<html>
    <head>
        <title>Jogo da Mem\\xF3ria</title>
        <style>
            td {
                width: 80px;
                height: 80px;
                border: 2px solid black;
                font-size: 50px;
                text-align: center;
                cursor: pointer;
                padding: 5px;
            }
            #game-board {
                margin: 20px auto;
            }
        </style>
    </head>
    <body>
        <h1>Jogo dos Bichos</h1>
        <p>Encontre todos os pares!</p>
        <table id="game-board">
            <tbody>
                <tr><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td></tr>
                <tr><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td></tr>
                <tr><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td></tr>
                <tr><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td></tr>
            </tbody>
        </table>
    </body>
</html>\`,tests:[{text:"Deve existir uma regra para td:hover.",regex:/td:hover\\s*\\{[^}]*background-color:\\s*lightcyan;[^}]*\\}/i},{text:"A regra principal td deve ter uma propriedade de transi\\xE7\\xE3o.",regex:/td\\s*\\{[^}]*transition:\\s*background-color 0.2s;[^}]*\\}/i}]},{id:"ex-js-1",lesson:"lesson-js-1",order:7,title:"Gerando os Animais com JS",instructions:"Vamos preparar a l\\xF3gica do jogo! Em uma tag \`<script>\` antes de \`</body>\`:\\n1. Crie um array \`animais\` com 8 pares de emojis de animais (16 no total).\\n2. Embaralhe o array com \`animais.sort(() => 0.5 - Math.random())\`.\\n3. Selecione todas as c\\xE9lulas \`<td>\` com \`document.querySelectorAll('td')\`.\\n4. Use um loop (\`forEach\`) para percorrer as c\\xE9lulas e atribuir a cada uma um atributo \`data-animal\` com o emoji correspondente do array.\\n*O emoji na tela deve continuar sendo '\\u2753'.*\\n        ",seed:\`<!DOCTYPE html>
<html>
    <head>
        <title>Jogo da Mem\\xF3ria</title>
        <style>
            td {
                width: 80px;
                height: 80px;
                border: 2px solid black;
                font-size: 50px;
                text-align: center;
                cursor: pointer;
            }
        </style>
    </head>
    <body>
        <h1>Jogo dos Bichos</h1>
        <p>Encontre todos os pares!</p>
        <table>
            <tbody>
                <tr><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td></tr>
                <tr><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td></tr>
                <tr><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td></tr>
                <tr><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td></tr>
            </tbody>
        </table>
    </body>
</html>\`,tests:[{text:"O script deve conter um array 'animais' com 16 itens.",regex:/const animais\\s*=\\s*\\[(('[^']+'|"[^"]+"),\\s*){15}/i},{text:"O script deve usar o m\\xE9todo .sort() para embaralhar.",regex:/animais\\.sort/i},{text:"O script deve selecionar todas as c\\xE9lulas com querySelectorAll.",regex:/document\\.querySelectorAll\\('td'\\)/i},{text:"O script deve usar um loop .forEach() e definir o atributo 'data-animal'.",regex:/cell\\.dataset\\.animal\\s*=\\s*animais\\[index\\]/i}]},{id:"ex-js-2",lesson:"lesson-js-2",order:8,title:"Implementando a L\\xF3gica de Virar a Carta",instructions:"Vamos adicionar a l\\xF3gica do jogo!\\n1. Crie as vari\\xE1veis \`primeiraCarta\` e \`segundaCarta\` e inicialize-as como \`null\`.\\n2. Adicione um ouvinte de evento de 'click' a cada \`<td>\`.\\n3. Na fun\\xE7\\xE3o de clique, mostre o animal do atributo \`data-animal\` e mude a cor de fundo da c\\xE9lula.\\n4. Implemente a l\\xF3gica para verificar se \`primeiraCarta\` e \`segundaCarta\` t\\xEAm o mesmo \`data-animal\`.\\n5. Se n\\xE3o forem iguais, use \`setTimeout\` para escond\\xEA-los ('\\u2753') e resetar a cor de fundo ap\\xF3s 1 segundo.",seed:\`<!DOCTYPE html>
<html>
    <head>
        <title>Jogo da Mem\\xF3ria</title>
        <style>
            td {
                width: 80px;
                height: 80px;
                border: 2px solid black;
                font-size: 50px;
                text-align: center;
                cursor: pointer;
            }
        </style>
    </head>
    <body>
        <h1>Jogo dos Bichos</h1>
        <p>Encontre todos os pares!</p>
        <table>
            <tbody>
                <tr><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td></tr>
                <tr><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td></tr>
                <tr><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td></tr>
                <tr><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td></tr>
            </tbody>
        </table>
        <script>
            const animais = ['\\u{1F435}','\\u{1F435}','\\u{1F436}','\\u{1F436}','\\u{1F98A}','\\u{1F98A}','\\u{1F431}','\\u{1F431}','\\u{1F981}','\\u{1F981}','\\u{1F42F}','\\u{1F42F}','\\u{1F434}','\\u{1F434}','\\u{1F984}','\\u{1F984}'];
            animais.sort(() => 0.5 - Math.random());
            const cells = document.querySelectorAll('td');
            cells.forEach((cell, index) => {
                cell.dataset.animal = animais[index];
            });
        <\\/script>
    </body>
</html>\`,tests:[{text:"Deve declarar as vari\\xE1veis 'primeiraCarta' e 'segundaCarta'.",regex:/let primeiraCarta\\s*=\\s*null;\\s*let segundaCarta\\s*=\\s*null;/i},{text:"Deve adicionar um event listener de 'click' a cada c\\xE9lula.",regex:/cell\\.addEventListener\\('click'/i},{text:"Deve mostrar o animal do dataset no clique.",regex:/this\\.innerHTML\\s*=\\s*this\\.dataset\\.animal/i},{text:"Deve usar setTimeout para desvirar as cartas.",regex:/setTimeout\\(\\s*\\(\\)\\s*=>/i}]},{id:"ex-js-3",lesson:"lesson-js-3",order:9,title:"Finalizando o Jogo: Condi\\xE7\\xE3o de Vit\\xF3ria",instructions:"Vamos terminar o jogo!\\n1. Crie uma vari\\xE1vel \`paresEncontrados\` iniciada em \`0\`.\\n2. Quando um par for encontrado, incremente essa vari\\xE1vel.\\n3. Desabilite os cliques das duas cartas que formaram o par usando \`removeEventListener\`.\\n4. Adicione uma verifica\\xE7\\xE3o: se \`paresEncontrados\` for igual a 8, exiba uma mensagem de vit\\xF3ria.\\n        ",seed:\`<!DOCTYPE html>
<html>
    <head>
        <title>Jogo da Mem\\xF3ria</title>
        <style>
            td {
                width: 80px;
                height: 80px;
                border: 2px solid black;
                font-size: 50px;
                text-align: center;
                cursor: pointer;
                padding: 5px;
                transition: background-color 0.2s;
            }
            td:hover {
                background-color: lightcyan;
            }
            #game-board {
                margin: 20px auto;
            }
        </style>
    </head>
    <body>
        <h1 align="center">Jogo dos Bichos</h1>
        <p align="center">Encontre todos os pares!</p>
        <table id="game-board">
            <tbody>
                <tr><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td></tr>
                <tr><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td></tr>
                <tr><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td></tr>
                <tr><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td><td>\\u2753</td></tr>
            </tbody>
        </table>
        <script>
            const animais = ['\\u{1F435}','\\u{1F435}','\\u{1F436}','\\u{1F436}','\\u{1F98A}','\\u{1F98A}','\\u{1F431}','\\u{1F431}','\\u{1F981}','\\u{1F981}','\\u{1F42F}','\\u{1F42F}','\\u{1F434}','\\u{1F434}','\\u{1F414}','\\u{1F414}'];
            animais.sort(() => 0.5 - Math.random());
            const cells = document.querySelectorAll('td');
            cells.forEach((cell, index) => {
                cell.dataset.animal = animais[index];
                cell.addEventListener('click', handleCardClick);
            });

            let primeiraCarta = null;
            let segundaCarta = null;

            function handleCardClick() {
                this.innerHTML = this.dataset.animal;
                this.style.backgroundColor = 'lightblue';

                if (!primeiraCarta) {
                    primeiraCarta = this;
                } else {
                    segundaCarta = this;
                    // L\\xF3gica de verifica\\xE7\\xE3o e vit\\xF3ria vai aqui
                }
            }
        <\\/script>
    </body>
</html>\`,tests:[{text:"Deve declarar a vari\\xE1vel 'paresEncontrados'.",regex:/let paresEncontrados\\s*=\\s*0;/i},{text:"Deve usar removeEventListener para desabilitar as cartas.",regex:/primeiraCarta\\.removeEventListener\\('click', handleCardClick\\);/i},{text:"Deve verificar se o n\\xFAmero de pares encontrados \\xE9 8.",regex:/if\\s*\\(\\s*paresEncontrados\\s*===\\s*8\\s*\\)/i},{text:"Deve chamar alert('Voc\\xEA venceu!') ao final do jogo.",regex:/alert\\('Voc\xEA venceu!'\\)/i}]}]};a.data.set(t),a.models.set({courses:{title:e.string(),description:e.string(),lessons:e.belongs_many("lessons","course")},lessons:{title:e.string(),order:e.number({index:!0}),content:e.string(),course:e.one("courses","lessons"),exercises:e.many("exercises","lesson")},exercises:{lesson:e.belongs("lessons","exercises"),order:e.number({index:!0}),title:e.string(),instructions:e.string(),seed:e.string(),tests:e.array(),answers:e.many("answers","exercise")},answers:{exercise:e.belongs("exercises","answers"),code:e.string(),completed:e.boolean(!1)}});
`,metaType:"application/javascript"},"/modules/apps/drive/backend.js":{content:`import e from"/bootstrap.js";import t from"/modules/types/index.js";const r={files:[{name:"modules",directory:"",isDirectory:!0},{name:"app.js",directory:"",content:\`
import T from "/modules/types/index.js";
import html from "/modules/mvc/view/html/index.js";
export default ({tag: "app-index",

	properties: {
		name: T.string({ defaultValue: "Visitor" }),
	},

	render() {
		return html\\\`
			<div class="p-4">
				<uix-card class="p-6 shadow rounded-xl bg-white">
					<span class="text-lg font-bold text-center">\\\${this.name}, Welcome to Bootstrapp!</span>
					<uix-button class="mt-4" label="Click!"></uix-button>
				</uix-card>
			</div>
		\\\`;
	}
});\`}]};e.data.set(r),e.models.set({files:{name:t.string({index:!0}),directory:t.string({index:!0}),path:t.string({index:!0,virtual:"\${directory}/\${name}"}),isDirectory:t.boolean({index:!0}),mimeType:t.string({defaultValue:"plain/text"}),content:t.string()}});
`,metaType:"application/javascript"},"/modules/apps/project/backend.js":{content:`import s from"/bootstrap.js";import e from"/modules/types/index.js";s.data.set({boards:[{name:"Backlog",description:"Development Tasks"},{name:"Development",description:"Development Tasks"},{name:"Finished",description:"Development Tasks"},{name:"Cancelled",description:"Development Tasks"}],files:[{name:"projects",directory:"",isDirectory:!0},...s.project.newProjectTemplate("untitled-1")]}),s.models.set({users:{username:e.string({primary:!0}),email:e.string({unique:!0}),role:e.string({defaultValue:"user",enum:["admin","user"]})},boards:{name:e.string(),description:e.string(),tasks:e.many("tasks","boardId")},tasks:{title:e.string(),description:e.string({input:"textarea"}),completed:e.boolean({defaultValue:!1}),dueDate:e.date(),priority:e.string({defaultValue:"medium",enum:["low","medium","high"]}),boardId:e.belongs("boards","tasks"),createdBy:e.belongs("users","tasks"),assignedTo:e.belongs("users","assignedTasks"),comments:e.array()}});
`,metaType:"application/javascript"},"/modules/apps/ide/backend.js":{content:`import o from"/bootstrap.js";const a={LOAD_APP:async(e,p)=>{const t=p?.payload?.project;t&&(app&&(console.info("App Worker: Restarting existing application"),app.restart()),app=await bootstrap(t))}};o.events.set(a);
`,metaType:"application/javascript"},"/modules/apps/chat/backend.js":{content:`import n from"/bootstrap.js";import e from"/modules/types/index.js";const s={users:[{id:"user-1",name:"You",avatar:"https://i.pravatar.cc/40?u=user-1"},{id:"user-2",name:"Alex",avatar:"https://i.pravatar.cc/40?u=user-2"},{id:"user-3",name:"Jordan",avatar:"https://i.pravatar.cc/40?u=user-3"},{id:"bot-1",name:"Habit Coach",avatar:"https://i.pravatar.cc/40?u=bot-1",isBot:!0}],channels:[{id:"chan-1",name:"general",topic:"General chat about habits",participants:["user-1","user-2","user-3"]},{id:"chan-2",name:"random",topic:"Anything else!",participants:["user-1","user-3"]}],conversations:[{id:"conv-1",type:"channel",parent:"channels@chan-1"},{id:"conv-2",type:"channel",parent:"channels@chan-2"},{id:"conv-3",type:"dm",parent:"users@user-2"},{id:"conv-4",type:"dm",parent:"users@bot-1"}],messages:[{id:"msg-1",conversation:"conv-3",sender:"user-2",role:"user",content:"Hey! How's the new habit tracker working out?",timestamp:new Date(Date.now()-1e3*60*5).toISOString()},{id:"msg-2",conversation:"conv-3",sender:"user-1",role:"user",content:"It's great! The AI integration is super helpful.",timestamp:new Date(Date.now()-1e3*60*4).toISOString()},{id:"msg-3",conversation:"conv-4",sender:"bot-1",role:"assistant",content:"Hello! I'm here to help you build better habits. What's on your mind?",timestamp:new Date(Date.now()-1e3*60*10).toISOString()},{id:"msg-4",conversation:"conv-1",sender:"user-3",role:"user",content:"Welcome to the general channel!",timestamp:new Date(Date.now()-1e3*60*20).toISOString()}]};n.data.set(s),n.models.set({users:{name:e.string(),avatar:e.string(),isBot:e.boolean(!1),messages:e.many("messages","sender"),conversations:e.many("conversations","parent",{polymorphic:!0}),channels:e.many("channels","users")},channels:{name:e.string(),topic:e.string(),participants:e.belongs_many("users","channels"),conversation:e.one("conversations","parent",{polymorphic:!0})},conversations:{type:e.string({options:["channel","dm"]}),parent:e.belongs("*","conversations",{polymorphic:!0}),messages:e.many("messages","conversation")},messages:{content:e.string(),timestamp:e.string(),role:e.string({options:["user","assistant"]}),toolCalls:e.object(null),sender:e.belongs("users","messages"),conversation:e.belongs("conversations","messages")}});
`,metaType:"application/javascript"},"/modules/apps/bundler/backend.js":{content:`import n from"/bootstrap.js";import e from"/modules/types/index.js";n.data.set({credentials:[{id:"singleton",owner:"meiraleal",branch:"main",repo:"brazuka.dev",token:""}]}),n.models.set({credentials:{owner:e.string(),repo:e.string(),branch:e.string({defaultValue:"main"}),token:e.string()},releases:{version:e.string({index:!0}),notes:e.string(),status:e.string({enum:["pending","success","failed"],defaultValue:"pending"}),deployedAt:e.string(),files:e.array()}});
`,metaType:"application/javascript"},"/modules/app/container.js":{content:'import t from"/bootstrap.js";import e from"/modules/types/index.js";const{routes:o}=t;export default{tag:"app-container",class:"flex flex-grow",extends:"router-ui",properties:{routes:e.object({defaultValue:o}),full:e.boolean(!0)}};t.IS_MV3&&t.mv3Content.add(html`<admin-content></admin-content>`);\n',metaType:"application/javascript"},"/modules/router/ui.js":{content:'import e from"/modules/mvc/view/html/index.js";import r from"/modules/types/index.js";export default{tag:"router-ui",properties:{currentRoute:r.object({sync:"ram"})},renderRoute(t,n){const o=typeof t.component=="function"?t.component(n):t.component;return t.template?e.staticHTML`<${e.unsafeStatic(t.template)} .component=${o}>\n			</${e.unsafeStatic(t.template)}>`:o},render(){const{route:t,params:n}=this.currentRoute||{};return t?this.renderRoute(typeof t=="function"?{component:t}:t,n):e`404: Page not found`}};\n',metaType:"application/javascript"},"/modules/uix/layout/divider.js":{content:'import h from"/modules/mvc/view/html/index.js";import n from"/modules/types/index.js";let l=null,r=null;export default{tag:"uix-divider",style:!0,properties:{label:n.string(),vertical:n.boolean(),resizable:n.boolean({defaultValue:!1})},firstUpdated(){this.resizable&&window.addEventListener("pointerdown",this.pointerDown.bind(this))},pointerDown(t){t.target===this&&(t.preventDefault(),this.setPointerCapture(t.pointerId),this._startX=t.clientX,this._startY=t.clientY,this._prevElem=this.previousElementSibling,this._nextElem=this.nextElementSibling,this._prevElemStartWidth=this._prevElem?this._prevElem.offsetWidth:0,this._nextElemStartWidth=this._nextElem?this._nextElem.offsetWidth:0,this._prevElemStartHeight=this._prevElem?this._prevElem.offsetHeight:0,this._nextElemStartHeight=this._nextElem?this._nextElem.offsetHeight:0,window.addEventListener("pointermove",this.pointerMove.bind(this)),window.addEventListener("pointerup",this.pointerUp.bind(this)))},pointerMove(t){r=t,!l&&(l=setTimeout(()=>{l=null,this.handleMouseMove(r)},15))},handleMouseMove(t){if(!(!this._prevElem||!this._nextElem))if(this.vertical){let e=t.clientX-this._startX;e>0&&(e+=20);const i=this._prevElemStartWidth+e,s=this._nextElemStartWidth-e;i>0&&s>0&&(this._prevElem.style.flexBasis=`${i}px`,this._nextElem.style.flexBasis=`${s}px`)}else{const e=t.clientY-this._startY,i=this._prevElemStartHeight+e,s=this._nextElemStartHeight-e;i>0&&s>0&&(this._prevElem.style.flexBasis=`${i}px`,this._nextElem.style.flexBasis=`${s}px`)}},pointerUp(t){this.releasePointerCapture(t.pointerId),this._startX=null,this._startY=null,this._prevElem=null,this._nextElem=null,this._prevElemStartWidth=null,this._nextElemStartWidth=null,this._prevElemStartHeight=null,this._nextElemStartHeight=null,window.removeEventListener("pointermove",this.pointerMove.bind(this)),window.removeEventListener("pointerup",this.pointerUp.bind(this))},render(){return this.label?h`<span>${this.label}</span>`:null}};\n',metaType:"application/javascript"},"/modules/uix/display/button.js":{content:'import r from"/modules/types/index.js";export default{tag:"uix-button",properties:{variant:r.string("default")},extends:"uix-link",style:!0,setVariant(){const{variant:t}=this;this.style.setProperty("--_variant-color-50",`var(--colors-${t}-50)`),this.style.setProperty("--_variant-color-300",`var(--colors-${t}-300)`),this.style.setProperty("--_variant-color-400",`var(--colors-${t}-400)`),this.style.setProperty("--_variant-color-500",`var(--colors-${t}-500)`),this.style.setProperty("--_variant-color-600",`var(--colors-${t}-600)`),this.style.setProperty("--_variant-color-700",`var(--colors-${t}-700)`),this.style.setProperty("--_variant-color-800",`var(--colors-${t}-800)`)},connectedCallback(){this.setVariant()},willUpdate(t){Object.keys(t).includes("variant")&&this.setVariant()}};\n',metaType:"application/javascript"},"/modules/apps/editor/textarea.js":{content:'import a from"/modules/types/index.js";const t={core:()=>import("https://esm.sh/@codemirror/state"),view:()=>import("https://esm.sh/@codemirror/view"),commands:()=>import("https://esm.sh/@codemirror/commands"),theme:()=>import("https://esm.sh/@uiw/codemirror-theme-solarized"),lang:{javascript:()=>import("https://esm.sh/@codemirror/lang-javascript"),css:()=>import("https://esm.sh/@codemirror/lang-css"),html:()=>import("https://esm.sh/@codemirror/lang-html")}};export default{tag:"textarea",class:"flex flex-grow",style:!0,properties:{content:a.string(),language:a.string(),onUpdate:a.function()},view:null,isUpdatingFromOutside:!1,async connectedCallback(){const e=this;if(!e||this.view)return;const[{EditorState:i},{EditorView:s,keymap:c,lineNumbers:l,highlightSpecialChars:g,lineWrapping:w},{defaultKeymap:h,history:d,historyKeymap:u},{solarizedLight:p}]=await Promise.all([t.core(),t.view(),t.commands(),t.theme()]),r=[];if(this.language&&t.lang[this.language]){const n=(await t.lang[this.language]())[this.language];typeof n=="function"?r.push(n()):console.warn(`CodeMirror language function for "${this.language}" not found.`)}const m=s.updateListener.of(o=>{if(o.docChanged&&this.onUpdate){const n=o.state.doc.toString();this.isUpdatingFromOutside=!0,this.onUpdate(n),queueMicrotask(()=>{this.isUpdatingFromOutside=!1})}}),f=i.create({doc:this.content||"",extensions:[l(),g(),d(),c.of([...h,...u]),p,s.lineWrapping,...r,m]});this.view=new s({state:f,parent:e})},updated(e){if(this.view&&Object.hasOwn(e,"content")&&!this.isUpdatingFromOutside){const i=this.view.state.doc.toString();i!==this.content&&this.view.dispatch({changes:{from:0,to:i.length,insert:this.content||""}})}},disconnectedCallback(){this.view&&(this.view.destroy(),this.view=null)},render(){return null}};\n',metaType:"application/javascript"},"/modules/theme/darkmode.js":{content:`import e from"/modules/types/index.js";export default{tag:"theme-darkmode",extends:"uix-button",icons:["moon","sun"],properties:{width:e.string({defaultValue:"fit"}),darkmode:e.boolean({sync:"local",defaultValue:!0})},click(t){t.stopPropagation(),this.darkmode=!this.darkmode,this.icon=this.darkmode?"moon":"sun"},willUpdate(t){Object.hasOwn(t,"darkmode")&&document.documentElement.classList.toggle("dark")},connectedCallback(){this.icon=this.darkmode?"sun":"moon",this.darkmode&&document.documentElement.classList.add("dark"),this.addEventListener("click",this.click.bind(this))}};
`,metaType:"application/javascript"},"/modules/apps/ide/preview.js":{content:`import t from"/modules/mvc/view/html/index.js";import i from"/modules/types/index.js";const r="http://localhost:1313",a=\`\${r}/preview.html\`;export default{tag:"ide-preview",properties:{content:i.string(),url:i.string(),language:i.string(),load:i.function(),minimized:i.boolean(),detached:i.boolean(),iframeTitle:i.string("preview")},minimize(){this.minimized=!this.minimized},handleDetach(){this.detached=!this.detached},handleOpenInNewTab(){const e=this.url||\`\${r}/preview.html\`;window.open(e,"_blank")},handleIframeLoad(e){const s=e.target;try{const l=s.contentWindow.document.title;l?this.iframeTitle=l:this.iframeTitle=this.url?new URL(this.url).hostname:"preview"}catch{console.warn("Could not access iframe title due to cross-origin policy."),this.iframeTitle=this.url?new URL(this.url).hostname:"preview"}},render(){let e;return this.url?e=t\`<iframe class="w-full h-full border-0" src=\${this.url} @load=\${this.handleIframeLoad.bind(this)}></iframe>\`:this.content?e=t\`<iframe class="w-full h-full border-0" srcdoc=\${this.content} @load=\${this.handleIframeLoad.bind(this)}></iframe>\`:e=t\`<iframe class="w-full h-full border-0" src=\${a} @load=\${this.handleIframeLoad.bind(this)}></iframe>\`,t\`
            <div class="flex flex-col h-full bg-gray-100 p-4">
                <div class="flex flex-col flex-grow shadow-lg rounded-lg overflow-hidden border border-gray-200">
                    <!-- Browser Top Bar -->
                    <div class="flex items-center h-10 bg-gray-200 border-b border-gray-300 px-4 gap-2 flex-shrink-0">
                        <!-- Traffic Light Buttons -->
                        <div class="flex gap-2">
                            <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                            <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
                            <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                        </div>
                        
                        <!-- URL Bar now displays the iframe's title -->
                        <div class="flex-grow flex items-center justify-center">
                            <div class="bg-white rounded-full px-4 py-1 text-sm text-gray-600 w-full max-w-md text-center truncate">
                                \${this.iframeTitle}
                            </div>
                        </div>
                    </div>

                    <!-- Iframe container -->
                    <div class="flex-1 bg-white dark:bg-black \${this.minimized?"hidden":"flex"}">
                        \${e}
                    </div>
                </div>
            </div>
        \`}};
`,metaType:"application/javascript"},"/modules/uix/display/link.js":{content:'import o from"/modules/mvc/view/html/index.js";import a from"/modules/router/frontend.js";import t from"/modules/types/index.js";export default{tag:"uix-link",style:!0,properties:{content:t.object(),context:t.object(),external:t.boolean(),selectable:t.boolean(),skipRoute:t.boolean(),hideLabel:t.boolean(),accordion:t.boolean(),float:t.object(),tab:t.boolean(),tooltip:t.boolean(),dropdown:t.boolean(),direction:t.string(),name:t.string(),alt:t.string(),label:t.string(),type:t.string(),href:t.string(),related:t.string(),icon:t.string(),active:t.boolean(),reverse:t.boolean(),vertical:t.boolean(),selected:t.boolean(),floatOpen:t.boolean(),click:t.function(),confirmation:t.string()},connectedCallback(){this.boundHandleOutsideClick=this.handleOutsideClick.bind(this),this.boundHandleEscKey=this.handleEscKey.bind(this),this.context&&this.addEventListener("contextmenu",this.handleContextMenu)},disconnectedCallback(){this.removeEventListener("contextmenu",this.handleContextMenu),this._removeGlobalListeners()},_addGlobalListeners(){setTimeout(()=>{document.addEventListener("click",this.boundHandleOutsideClick),document.addEventListener("keydown",this.boundHandleEscKey)},0)},_removeGlobalListeners(){document.removeEventListener("click",this.boundHandleOutsideClick),document.removeEventListener("keydown",this.boundHandleEscKey)},closeAllPopups(){let e=!1;this.hasAttribute("selected")&&(this.removeAttribute("selected"),e=!0);const i=this.q("[context]");i?.hasAttribute("open")&&(i.removeAttribute("open"),e=!0),this.hasAttribute("floatOpen")&&(this.removeAttribute("floatOpen"),e=!0),e&&this._removeGlobalListeners()},defaultOnClick(e){const i=e.currentTarget,n=this.href&&i.origin===window.location.origin&&!this.external,s=this.dropdown||this.accordion||this.tab;if((!this.href||n||s||this.float)&&e.preventDefault(),this.float){this.toggleAttribute("floatOpen"),this.hasAttribute("floatOpen")?this._addGlobalListeners():this._removeGlobalListeners();return}if(n&&!this.skipRoute){const l=[i.pathname,i.search].filter(Boolean).join("");s?a.push(l):a.go(l);return}this.click&&this.type!=="submit"&&(this.confirmation?window.confirm(this.confirmation)&&this.click(e):this.click(e),e.stopImmediatePropagation()),this.dropdown&&(this.toggleAttribute("selected"),this.hasAttribute("selected")?this._addGlobalListeners():this._removeGlobalListeners())},handleContextMenu(e){e.preventDefault();const i=this.q("[context]");i&&(i.toggleAttribute("open"),i.hasAttribute("open")?this._addGlobalListeners():this._removeGlobalListeners())},handleOutsideClick(e){const i=this.q("[dropdown], [context], [float]")?.contains(e.target)&&e.target.closest("a");(!this.contains(e.target)||i)&&this.closeAllPopups()},handleEscKey(e){e.key==="Escape"&&(e.preventDefault(),this.closeAllPopups())},render(){return o`<a\n            class=${this.icon?"uix-text-icon__element":void 0}\n            content\n            href=${this.href}\n            @click=${this.defaultOnClick.bind(this)}\n            related=${this.related}\n            name=${this.name||this.label}\n            alt=${this.alt||this.label||this.name}\n        >\n            ${this.icon?o`<uix-icon\n                          name=${this.icon}\n                          alt=${this.alt||this.label||this.name}\n                          size=${this.iconSize||this.size}\n                      ></uix-icon>`:""}\n            ${this.hideLabel?null:this.label}\n        </a>\n        ${this.dropdown?o`<div dropdown>${this.dropdown}</div>`:null}\n        ${this.context?o`<div context>${this.context}</div>`:null}\n        ${this.accordion?o`<div accordion>${this.accordion}</div>`:null}\n        ${this.tooltip?o`<div tooltip>${this.tooltip===!0?this.label:this.tooltip}</div>`:null}\n        ${this.float?o`<div float>${this.float}</div>`:null}\n    `}};\n',metaType:"application/javascript"},"/modules/uix/layout/divider.css":{content:`.uix-divider{--uix-divider-color: rgba(0, 0, 0, .05);--uix-divider-size: 2px;display:flex;align-items:center;justify-content:center;position:relative;padding:0;width:100%;height:var(--uix-divider-size);span{padding:0 .75rem;font-weight:700;font-size:var(--uix-divider-font-size, 1.5rem)}&[resizable]{cursor:row-resize;&[vertical]{cursor:col-resize}}&:before,&:after{content:"";flex-grow:1;height:var(--uix-divider-size);background-color:var(--uix-divider-color)}&[label]{padding:var(--uix-divider-padding, 1rem) 0}&[label]:before,&[label]:after{flex-grow:1}&[vertical]{flex-direction:column;width:1px;height:100%;background-color:transparent;&:before,&:after{width:1px;height:auto}&[label]{padding:0 var(--uix-divider-padding, 1rem)}}}
`,metaType:"text/css"},"/modules/apps/editor/textarea.css":{content:`.cm-scroller{overflow:auto!important}.cm-editor{width:100%}
`,metaType:"text/css"},"/modules/uix/display/link.css":{content:`:where(.uix-link){font-weight:var(--uix-link-font-weight, 600);width:var(--uix-link-width, auto);color:var(--uix-link-text-color, var(--colors-default-900));&[vertical]{margin:0 auto}--uix-link-indent: 0;cursor:pointer;a,button{cursor:pointer;padding:var(--uix-link-padding);&:hover{color:var(--uix-link-hover-color, var(--colors-primary-700))}}.uix-text-icon__element{display:flex;align-items:center;gap:var(--uix-link-icon-gap, .5rem);width:auto;&[reverse][vertical]{flex-direction:column-reverse}&:not([reverse])[vertical]{flex-direction:column}&[reverse]:not([vertical]){flex-direction:row-reverse}&:not([reverse]):not([vertical]){flex-direction:row}}transition:all .3s ease-in-out;&[indent]{>a,>button{padding-left:var(--uix-link-indent)}}&[active]:hover{color:var(--uix-link-hover-text-color, var(--colors-primary-400))}&[selectable][selected]{background-color:var(--colors-primary-400)}&:hover{[tooltip]{display:flex}}&[tooltip]{display:inline-block;&:hover{[tooltip]{visibility:visible}}[tooltip]{visibility:hidden;width:120px;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 10px;margin-left:3px;position:absolute;z-index:1000000000;top:50%;left:100%;transform:translateY(-50%)}}&[position~=top] [tooltip]{bottom:100%;left:50%;transform:translate(-50%)}&[position~=bottom] [tooltip]{top:100%;left:50%;transform:translate(-50%)}&[position~=left] [tooltip]{top:50%;right:100%;transform:translateY(-50%)}&[tooltip],&[dropdown],&[context],&[float]{position:relative}&[dropdown],&[accordion]{flex-direction:column}[float],[dropdown],[accordion],[context]{display:none}&[floatopen]>a{display:none}&[floatopen] [float]{display:block;position:relative;bottom:0;right:0}&[context]{z-index:auto}[context][open]{display:flex;flex-direction:column}[dropdown],[context][open]{position:absolute;left:0;top:100%;width:100%;min-width:200px;z-index:1000;background-color:var(--colors-primary-100);box-shadow:0 8px 16px #0003;.uix-link:hover,input{background-color:var(--colors-primary-200)}>.uix-link{width:100%}}[context][open]{display:flex}&[selected]{[dropdown],[accordion]{display:flex;flex-direction:column}}}
`,metaType:"text/css"},"/modules/uix/display/button.css":{content:`:where(.uix-button){border:var(--uix-button-borderSize, 0) solid var(--uix-button-borderColor);border-radius:var(--uix-button-borderRadius, var(--radius-md));box-shadow:var(--uix-button-shadow);width:var(--uix-button-width, "fit-content");background-color:var(--uix-button-backgroundColor, black);color:var(--uix-button-textColor, var(--colors-default-100));>button,>a,>input{display:flex;flex-direction:var(--uix-button-direction, row);align-items:var(--uix-button-alignItem, center);font-weight:var(--uix-button-fontWeight, 700);overflow:hidden;border-radius:inherit;gap:var(--uix-button-gap, calc(var(--spacing) * 2));transition:var(--uix-button-transition, background-color .2s ease-in-out);cursor:var(--uix-button-cursor, pointer);height:calc(var(--spacing) * 10);line-height:calc(var(--spacing) * 10);padding:var( --uix-button-padding, calc(var(--spacing) * 2.5) calc(var(--spacing) * 4) );word-break:keep-all;flex-basis:100%;justify-content:var(--uix-text-align, center);&:hover{opacity:var(--uix-button-hover-opacity, 1);color:var(--uix-button-hoverTextColor, var(--uix-button-textColor));background-color:var( --uix-button-hoverBackgroundColor, var(--colors-default-400) )}&:hover:active{opacity:var(--uix-button-hover-opacity, .9)}}.uix-icon,button,input,a{cursor:pointer}&[bordered]{--uix-button-border-size: 1px;--uix-button-backgroundColor: transparent;--uix-button-hoverBackgroundColor: var(--_variant-color-300);--uix-button-borderColor: var(--_variant-color-400);--uix-button-textColor: var(--_variant-color-700)}&[ghost]{--uix-button-backgroundColor: transparent;--uix-button-hoverBackgroundColor: var(--_variant-color-300);--uix-button-borderSize: 0px;--uix-button-textColor: var(--_variant-color-700)}&[outline]{--uix-button-backgroundColor: transparent;--uix-button-hoverBackgroundColor: var(--_variant-color-300);--uix-button-textColor: var(--_variant-color-800);--uix-button-borderSize: 1px;--uix-button-borderColor: var(--_variant-color-400)}&[float]{background-color:#000;--uix-button-hoverBackgroundColor: var(--_variant-color-500);--uix-button-textColor: var(--_variant-color-50);--uix-button-borderSize: 0px;--uix-button-borderRadius: 9999px;--uix-button-width: var(--uix-button-height);box-shadow:var(--shadow-md, 0 4px 6px -1px rgb(0 0 0 / .1));--uix-button-padding: .5rem}&[float]:hover{box-shadow:var(--shadow-lg, 0 10px 15px -3px rgb(0 0 0 / .1))}}
`,metaType:"text/css"},"/modules/uix/display/icon.js":{content:'import r from"/bootstrap.js";import c from"/modules/mvc/view/html/index.js";import e from"/modules/types/index.js";const{Icons:s,theme:n}=r;export default{tag:"uix-icon",style:!0,properties:{name:e.string(),svg:e.string(),solid:e.boolean()},async getIcon(t){if(s[t])this.svg=s[t];else try{const o=await fetch(r.fs.getFilePath(`modules/icon-${n.font.icon.family}/${n.font.icon.family}/${t}.svg`));if(o.ok){const i=await o.text();s.set({[t]:i}),this.svg=i}else console.error(`Failed to fetch icon: ${t}`)}catch(o){console.error(`Error fetching icon: ${t}`,o)}},willUpdate(){this.name&&this.getIcon(this.name)},render(){return this.svg?c.unsafeHTML(this.svg):null}};\n',metaType:"application/javascript"},"/modules/uix/display/icon.css":{content:`.uix-icon{display:inline-block;vertical-align:middle}&[solid]{stroke:currentColor;fill:currentColor}
`,metaType:"text/css"},"/modules/icon-lucide/lucide/arrow-left.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m12 19l-7-7l7-7m7 7H5"/></svg>',metaType:"image/svg+xml"},"/modules/icon-lucide/lucide/play.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m6 3l14 9l-14 9z"/></svg>',metaType:"image/svg+xml"},"/modules/icon-lucide/lucide/arrow-right.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14m-7-7l7 7l-7 7"/></svg>',metaType:"image/svg+xml"},"/modules/icon-lucide/lucide/sun.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><circle cx="12" cy="12" r="4"/><path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></g></svg>',metaType:"image/svg+xml"},"/index.js":{content:`const ensureSWController=()=>{const o=new Promise((r,t)=>{setTimeout(()=>t(new Error("Service Worker timed out.")),100)}),e=new Promise(r=>{if(navigator.serviceWorker.controller)return r();navigator.serviceWorker.addEventListener("controllerchange",()=>r())});return Promise.race([e,o])},startApp=async()=>{if(!("serviceWorker"in navigator))throw console.warn("Service Worker not supported."),new Error("Platform not supported");await navigator.serviceWorker.register("/sw.js",{scope:"/"});try{console.log("Waiting for Service Worker to take control..."),await ensureSWController(),console.log("\\u2705 Service Worker is in control!"),await import("/bootstrap.js"),await import("/app.js")}catch{console.warn("Service Worker did not take control in time. Reloading..."),window.location.reload()}};startApp();
`,metaType:"application/javascript"},"/manifest.json":{content:`{
	"manifest_version": 3,
	"name": "meetuprio",
	"version": "1.0",
	"description": "MV3 Development",
	"permissions": [
		"activeTab",
		"alarms",
		"background",
		"bookmarks",
		"browsingData",
		"clipboardRead",
		"clipboardWrite",
		"cookies",
		"debugger",
		"declarativeNetRequest",
		"declarativeNetRequestFeedback",
		"downloads",
		"history",
		"identity",
		"idle",
		"management",
		"nativeMessaging",
		"notifications",
		"pageCapture",
		"scripting",
		"storage",
		"tabs",
		"topSites",
		"unlimitedStorage",
		"webAuthenticationProxy",
		"webNavigation",
		"webRequest"
	],
	"action": {
		"default_popup": "popup.html"
	},
	"background": {
		"service_worker": "modules/backend/sw.js"
	},
	"host_permissions": ["<all_urls>"],
	"optional_host_permissions": [],
	"web_accessible_resources": [
		{
			"resources": ["*", "modules/*", "assets/*"],
			"matches": ["<all_urls>"]
		}
	],
	"icons": {
		"16": "assets/icons/icon_16.png",
		"48": "assets/icons/icon_48.png",
		"128": "assets/icons/icon_128.png"
	},
	"chrome_url_overrides": {
		"newtab": "extension.html"
	}
}
`,metaType:"application/json"},"/modules/apps/admin/template.js":{content:`import t from"/bootstrap.js";import a from"/modules/mvc/view/html/index.js";import l from"/modules/types/index.js";export default{tag:"admin-template",properties:{component:l.object(),horizontal:l.boolean(!0),full:l.boolean(!0),currentRoute:l.object({sync:"ram"}),class:l.string("flex")},render(){const{modules:o}=t,i=o?Object.keys(t.settings).filter(e=>t.settings[e]?.appbar).map(e=>({...t.settings[e].appbar,label:e,href:\`/admin/\${e}\`})).map(e=>a\`
              <uix-button
                label=\${e.label}
                href=\${e.href}
                icon=\${e.icon}
                hideLabel
                tooltip
                vertical
                selectable
                ghost
                iconSize="lg"
                class="w-full"
              ></uix-button>
            \`):[];return a\`
      <div class="flex flex-col flex-shrink-0 justify-between bg-primary-200">
        <uix-navbar class="w-full flex flex-col">\${i}</uix-navbar>
        <uix-navbar class="w-full flex flex-col">
          <theme-darkmode
              hideLabel               
              tooltip
              vertical
              ghost
              iconSize="lg"
              label="Dark Mode"
              class="w-full"></theme-darkmode>            
          <uix-button
          icon="settings"
          hideLabel
          tooltip
          vertical
          ghost
          iconSize="lg"
          label="Settings"
          class="w-full"></uix-button>
          </uix-navbar>
      </div>
      <div class="flex flex-1 h-full">
        \${this.component}
      </div>
    \`}};
`,metaType:"application/javascript"},"/modules/uix/navigation/navbar.js":{content:`import e from"/modules/types/index.js";export default{tag:"uix-navbar",style:!0,extends:"uix-list",properties:{join:e.boolean({defaultValue:!0}),docked:e.string()}};
`,metaType:"application/javascript"},"/modules/apps/bundler/ui.js":{content:`import r from"/modules/apps/bundler/frontend.js";import t from"/modules/mvc/view/html/index.js";import i from"/modules/types/index.js";$APP.define("credentials-manager",{class:"flex flex-col gap-4 p-4 border rounded-lg shadow-md bg-white",properties:{_row:i.object()},render(){return this._row?t\`
      <h2 class="text-2xl font-bold text-gray-800 border-b pb-2">
        Deployment Credentials
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <uix-input
          label="Owner"
          .value=\${this._row.owner}
          @change=\${e=>this._row.owner=e.target.value}
        ></uix-input>
        <uix-input
          label="Repository"
          .value=\${this._row.repo}
          @change=\${e=>this._row.repo=e.target.value}
        ></uix-input>
        <uix-input
          label="Branch"
          .value=\${this._row.branch}
          @change=\${e=>this._row.branch=e.target.value}
        ></uix-input>
        <uix-input
          label="GitHub Token"
          type="password"
          .value=\${this._row.token}
          @change=\${e=>this._row.token=e.target.value}
        ></uix-input>
      </div>
      <div class="flex justify-end">
        <uix-button
          @click=\${()=>!console.log(this._row)&&$APP.Model.credentials.edit({...this._row})}
          label="Save Credentials"
        ></uix-button>
      </div>
    \`:t\`<div class="text-center p-4">Loading credentials...</div>\`}}),$APP.define("release-creator",{class:"flex flex-col gap-4 p-4 border rounded-lg shadow-md bg-white",properties:{version:i.string(\`v\${new Date().toISOString().slice(0,10)}\`),notes:i.string(""),isDeploying:i.boolean(!1)},async handleDeploy(){this.isDeploying=!0;const e=await $APP.Model.credentials.get("singleton");if(!e.token){alert("Please provide a GitHub token before deploying."),this.isDeploying=!1;return}try{const s=await $APP.Model.releases.add({version:this.version,notes:this.notes,status:"pending",deployedAt:new Date}),l=await r.bundleSPA(e);await $APP.Model.releases.edit({...s,status:"success",files:l}),alert("Deployment successful!")}catch(s){console.error("Deployment failed:",s),alert(\`Deployment failed: \${s.message}\`);const l=await $APP.Model.releases.get({version:this.version});l&&await $APP.Model.releases.edit({...l,status:"failed"})}finally{this.isDeploying=!1}},render(){return t\`
      <h2 class="text-2xl font-bold text-gray-800 border-b pb-2">
        New Release
      </h2>
      <uix-input
        label="Version"
        .value=\${this.version}
        @change=\${e=>this.version=e.target.value}
      ></uix-input>
      <uix-input
				type="textarea"
        label="Release Notes"
        .value=\${this.notes}
        @change=\${e=>this.notes=e.target.value}
      ></uix-input>
      <div class="flex justify-end">
        <uix-button
          @click=\${this.handleDeploy.bind(this)}
          label=\${this.isDeploying?"Deploying...":"Deploy SPA"}
          ?disabled=\${this.isDeploying}
        ></uix-button>
      </div>
    \`}}),$APP.define("release-history",{class:"flex flex-col gap-4 p-4 border rounded-lg shadow-md bg-white",properties:{_rows:i.array()},getStatusClass(e){switch(e){case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},render(){return t\`
      <h2 class="text-2xl font-bold text-gray-800 border-b pb-2">
        Release History
      </h2>
      <div class="flex flex-col gap-2">
        \${this._rows&&this._rows.length>0?this._rows.sort((e,s)=>new Date(s.deployedAt)-new Date(e.deployedAt)).map(e=>t\`
                <div
                  class="grid grid-cols-3 items-center p-2 rounded-md \${this.getStatusClass(e.status)}"
                >
                  <div class="font-semibold">\${e.version}</div>
                  <div>\${e.status}</div>
                  <div class="text-sm text-right">
                    \${new Date(e.deployedAt).toLocaleString()}
                  </div>
                </div>
                <p class="text-sm text-gray-600 px-2 pb-2">
                  \${e.notes}
                </p>
              \`):t\`<p class="text-center text-gray-500">
                No releases yet.
              </p>\`}
      </div>
    \`}});export default{tag:"bundler-ui",class:"flex flex-col gap-6 p-6 bg-gray-50 min-h-screen",render(){return t\`
      <h1 class="text-4xl font-extrabold text-gray-900">Release Manager</h1>
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <div class="flex flex-col gap-6">
          <credentials-manager
            ._data=\${{model:"credentials",id:"singleton"}}
          ></credentials-manager>
          <release-creator></release-creator>
        </div>
        <release-history
          ._data=\${{model:"releases",order:"-deployedAt"}}
        ></release-history>
      </div>
    \`}};
`,metaType:"application/javascript"},"/modules/uix/layout/list.js":{content:`import s from"/modules/types/index.js";export default{tag:"uix-list",style:!0,properties:{multiple:s.boolean(),multipleWithCtrl:s.boolean(),multipleWithShift:s.boolean(),lastSelectedIndex:s.number(),selectedIds:s.array(),onSelectedChanged:s.function(),gap:s.string({defaultValue:"md"}),itemId:s.string(".uix-link"),selectable:s.boolean()},connectedCallback(){this.selectable&&this.addEventListener("click",this.handleClick.bind(this))},disconnectedCallback(){this.selectable&&this.removeEventListener("click",this.handleClick.bind(this))},handleClick:function(d){const e=d.target.closest(".uix-link");if(!e||!this.contains(e))return;d.preventDefault();const l=Array.from(this.qa(".uix-link")),t=l.indexOf(e);if(t!==-1){if(this.multipleWithShift&&d.shiftKey&&this.lastSelectedIndex!==null){const i=Math.min(this.lastSelectedIndex,t),c=Math.max(this.lastSelectedIndex,t);l.slice(i,c+1).forEach(n=>n.setAttribute("selected","")),this.lastSelectedIndex=t,this.updateSelectedIds();return}if(this.multipleWithCtrl){if(d.ctrlKey){e.hasAttribute("selected")?e.removeAttribute("selected"):e.setAttribute("selected",""),this.lastSelectedIndex=t,this.updateSelectedIds();return}l.forEach(i=>i.removeAttribute("selected")),e.hasAttribute("selected")?(e.removeAttribute("selected"),this.lastSelectedIndex=null):(e.setAttribute("selected",""),this.lastSelectedIndex=t),this.updateSelectedIds();return}if(this.multiple){e.hasAttribute("selected")?e.removeAttribute("selected"):e.setAttribute("selected",""),this.lastSelectedIndex=t,this.updateSelectedIds();return}e.hasAttribute("selected")?(l.forEach(i=>i.removeAttribute("selected")),this.lastSelectedIndex=null):(l.forEach(i=>i.removeAttribute("selected")),e.setAttribute("selected",""),this.lastSelectedIndex=t),this.updateSelectedIds()}},updateSelectedIds(){const d=Array.from(this.qa(this.itemId));this.selectedIds=d.reduce((e,l,t)=>(l.hasAttribute("selected")&&e.push(t),e),[]),this.onSelectedChanged&&this.onSelectedChanged(this.selectedIds)}};
`,metaType:"application/javascript"},"/modules/uix/form/input.js":{content:'import{ifDefined as s}from"/modules/mvc/view/html/directive.js";import a from"/modules/mvc/view/html/index.js";import"/modules/mvc/view/html/spread.js";import t from"/modules/types/index.js";let m=0;export default{tag:"uix-input",style:!0,properties:{bind:t.object({attribute:!1}),autofocus:t.boolean(),value:t.string(),placeholder:t.string(),name:t.string(),label:t.string(),disabled:t.boolean(),required:t.boolean(),type:t.string({defaultValue:"text",enum:["text","textarea","password","email","number","decimal","search","tel","url","checkbox","radio"]}),checked:t.boolean(),selected:t.boolean(),regex:t.string(),maxLength:t.string(),rows:t.number({defaultValue:4}),keydown:t.function(),input:t.function()},connectedCallback(){this.fieldId=`uix-input-${++m}`,this.isCheckable=this.type==="checkbox"||this.type==="radio",this.name||(this.name=this.label?`uix-input-${this.label.toLowerCase().replace(/\\s+/g,"-")}`:this.fieldId),this.placeholder=this.placeholder||" ",this.bind&&(this.value=this.bind.value,this.bind.instance&&this.bind.instance.on("onChanged",({key:e,value:i})=>{e===this.bind.prop&&this.setValue(i)}))},_onInput(e){const{target:i}=e;this.value=this.isCheckable?i.checked:i.value,this.bind&&this.bind.setValue(this.value),this.input&&this.input(e)},_getField(){return this.querySelector("input, textarea")},inputValue(){const e=this._getField();return e?this.isCheckable?e.checked:e.value:void 0},setValue(e){const i=this._getField();i&&(this.isCheckable?i.checked=!!e:i.value=e),this.bind&&(this.bind.value=e),this.value=e,this.requestUpdate()},resetValue(){const e=this._getField();e&&(this.isCheckable?e.checked=!1:e.value=""),this.value=this.isCheckable?!1:"",this.bind&&(this.bind.value=this.value),this.requestUpdate()},render(){const{fieldId:e,name:i,type:n,label:h,value:d,placeholder:r,rows:p,regex:f,autofocus:u,required:l,disabled:o,maxLength:c,keydown:b}=this,$=n==="textarea"?a`\n                <textarea\n										id=${e}\n                    name=${i}\n                    placeholder=${s(r)}\n                    ?autofocus=${u}\n                    ?disabled=${o}\n                    ?required=${l}\n                    maxLength=${s(c)}\n-                    @input=${this._onInput.bind(this)}\n-                    @keydown=${s(b)}\n                    rows=${p}\n                >${d}</textarea>\n            `:a`\n                <input\n										id=${e}\n                    name=${i}\n                    type=${n}\n                    value=${d}\n                    placeholder=${s(r)}\n                    ?autofocus=${u}\n										maxLength=${s(c)}\n-                    @input=${this._onInput.bind(this)}\n-                    @keydown=${s(b)}\n                    ?disabled=${o}\n                    ?required=${l}\n                    pattern=${s(f)}\n                    ?checked=${this.isCheckable&&!!this.value}\n                />\n            `;return a`\n            ${$}\n            ${h?a`<label for=${e} ?required=${l}>${h}</label>`:""}\n        `}};\n',metaType:"application/javascript"},"/modules/uix/layout/list.css":{content:`.uix-list{display:flex;&[vertical]{flex-direction:column}}
`,metaType:"text/css"},"/modules/uix/navigation/navbar.css":{content:`.uix-navbar{--uix-navbar-text-color: var(--color-default-90);--uix-navbar-hover-text-color: var(--color-surface-80);--uix-navbar-border-radius: 0px;--uix-navbar-border-color: var(--color-default-60);--uix-navbar-border-size: 1px;--uix-navbar-border-style: solid;--uix-navbar-hover-background-color: var(--color-default-40);--uix-container-position: var(--uix-navbar-position);display:flex;flex-direction:column;&[docked]{--uix-list-button-radius: 0;border-bottom:0;position:fixed;bottom:0;background-color:var(--uix-navbar-background-color, var(--color-default-5));>*{border-right:0;border-bottom:0;&:first-child{border-left:0}}}}
`,metaType:"text/css"},"/modules/mvc/view/html/spread.js":{content:'import{Directive as l,directive as p}from"/modules/mvc/view/html/directive.js";const o=(u,s)=>{const t={};for(const e in u)t[s+e]=u[e];return t},b=({properties:u,events:s,attributes:t,booleanAttributes:e})=>(u??={},{...t,...o(u??{},"."),...o(s??{},"@"),...o(e??{},"?")});class f extends l{element;host;previousValue;render(s,t){}isEqual(s,t){return Object.is(s,t)}update(s,[t]){this.element??=s.element,this.element===void 0&&(this.element=s.parentNode),this.host??=s.options?.host,Array.isArray(t)&&(t=t.reduce((i,r,h)=>(Object.entries(r).forEach(([n,d])=>{h===1?n=`@${n}`:h===2&&(n=`?${n}`),i[n]=d}),i),{}));const{previousValue:e}=this;this.isEqual(t,e)||(this.previousValue=t,Object.entries(t).forEach(([i,r])=>{if(!this.isEqual(e?.[i],r)){const[,h,n]=i.match(/([.?@])?(.*)/);this.updateItem(h,n,r)}}),e!=null&&Object.entries(e).forEach(([i])=>{if(!(i in t)){const[,r,h]=i.match(/([.?@])?(.*)/);this.updateItem(r,h,void 0,!0)}}))}updateItem(s,t,e,i=!1){switch(s){case".":return!i&&this.updateProperty(t,e);case"@":return this.updateEvent(t,e);case"?":return this.updateAttribute(t,e,!0);default:return typeof e=="object"&&e!==null?t==="class"?this.updateClass(e):t==="style"?this.updateStyle(e):this.updateAttribute(t,JSON.stringify(e)):t in this.element?this.updateProperty(t,e):this.updateAttribute(t,e)}}listeners=new Map;updateEvent(s,t){const e=typeof t=="function"?r=>t.call(this.host??this.element,r):null;let i=this.listeners.get(s);if(e===null){i&&(this.listeners.delete(s),this.element.removeEventListener(s,i));return}i===void 0?(this.listeners.set(s,i={handleEvent:e}),this.element.addEventListener(s,i)):i.handleEvent=e}updateClass(s){this.updateAttribute("class",Object.entries(s).filter(([t,e])=>e).map(([t])=>t).join(" "))}updateStyle(s){this.updateAttribute("style",Object.entries(s).map(([t,e])=>`${t}: ${e}`).join("; "))}updateAttribute(s,t,e=!1){typeof t=="boolean"&&(t=t?"":null),t==null||e&&!t?this.element.removeAttribute(s):this.element.setAttribute(s,e?"":t)}updateProperty(s,t){this.element[s]=t}}const c=p(f);export default c;\n',metaType:"application/javascript"},"/modules/mvc/view/html/directive.js":{content:'export const directive=r=>(...e)=>({_$litDirective$:r,values:e});export class Directive{__part;__attributeIndex;__directive;_$parent;_$disconnectableChildren;_$notifyDirectiveConnectionChanged;constructor(e){}get _$isConnected(){return this._$parent._$isConnected}_$initialize(e,t,n){this.__part=e,this._$parent=t,this.__attributeIndex=n}_$resolve(e,t){return this.update(e,t)}render(...e){throw new Error("The `render()` method must be implemented.")}update(e,t){return this.render(...t)}}const o={},s=(r,e=o)=>r._$committedValue=e,i=Symbol.for("lit-nothing");class d extends Directive{key=i;render(e,t){return this.key=e,t}update(e,[t,n]){return t!==this.key&&(s(e),this.key=t),n}}export const keyed=directive(d),ifDefined=r=>r??i;\n',metaType:"application/javascript"},"/modules/uix/form/input.css":{content:`.uix-input{--uix-input-background-color: var(--colors-surface-100);--uix-input-border-color: var(--colors-default-400);--uix-input-text-color: var(--colors-default-900);--uix-input-placeholder-color: var(--colors-default-500);--uix-input-border-radius: var(--border-radius-md);--uix-input-border-width: 2px;--uix-input-padding-x: calc(var(--spacing) * 4);--uix-input-padding-y: calc(var(--spacing) * 2.5);--uix-input-font-size: var(--font-size-base);--uix-input-height: 2.5rem;--uix-input-focus-ring-width: 2px;--uix-input-focus-ring-color: var(--colors-primary-500);--uix-input-disabled-opacity: .6;--uix-input-label-font-size: var(--font-size-sm);--uix-input-label-font-weight: var(--font-weight-bold);--uix-input-label-color: var(--colors-default-700);--uix-input-checkbox-size: 1.5rem;--uix-input-checkbox-border-radius: var(--border-radius-sm);--uix-input-checkbox-checked-bg: var(--colors-primary-600);--uix-input-checkbox-check-color: var(--colors-surface-100);position:relative;display:flex;height:var(--uix-input-height);border-radius:var(--uix-input-border-radius);border:var(--uix-input-border-width) solid var(--uix-input-border-color);font-size:var(--uix-input-font-size);background-color:var(--uix-input-background-color);color:var(--uix-input-text-color);transition:var(--uix-transition);textarea{width:100%;padding:5px}&:has(textarea){height:auto}input[type=text],input[type=password],input[type=email],input[type=number],input[type=decimal],input[type=search],input[type=tel],input[type=url]{width:100%;height:100%;outline:none;color:var(--uix-input-text-color);background-color:transparent;padding:var(--uix-input-padding-y) var(--uix-input-padding-x);border:0;&::placeholder{color:transparent}&:focus::placeholder{color:var(--uix-input-placeholder-color)}}label{position:absolute;left:var(--uix-input-padding-x);top:50%;transform:translateY(-50%);font-weight:var(--uix-input-label-font-weight);color:var(--uix-input-label-color);background-color:var(--uix-input-background-color);padding:0 4px;transition:all .2s ease-in-out;pointer-events:none;&[required]:after{content:"*";color:var(--colors-danger-500);margin-left:2px}}input:focus+label,input:not(:placeholder-shown)+label,textarea+label{top:-2px;font-size:var(--uix-input-label-font-size)}&:focus-within{border-color:var(--uix-input-focus-ring-color);box-shadow:0 0 0 var(--uix-input-focus-ring-width) var(--uix-input-focus-ring-color)}&[disabled]{cursor:not-allowed;opacity:var(--uix-input-disabled-opacity);input+label{cursor:not-allowed}}input:focus,input:focus-visible{outline:none}&[type=checkbox],&[type=radio]{border:0;height:auto;width:auto;background-color:transparent;box-shadow:none;align-items:center;gap:.75rem;cursor:pointer;label{position:static;transform:none;background-color:transparent;padding:0;cursor:pointer;font-weight:var(--font-weight-normal);order:2;pointer-events:auto}input{appearance:none;-webkit-appearance:none;width:var(--uix-input-checkbox-size);height:var(--uix-input-checkbox-size);margin:0;border:var(--uix-input-border-width) solid var(--uix-input-border-color);border-radius:var(--uix-input-checkbox-border-radius);background-color:var(--uix-input-background-color);cursor:pointer;position:relative;transition:var(--uix-transition);&:after{content:"";position:absolute;display:none;left:50%;top:50%}&:checked{background-color:var(--uix-input-checkbox-checked-bg);border-color:var(--uix-input-checkbox-checked-bg);&:after{display:block}}&:focus-visible{box-shadow:0 0 0 var(--uix-input-focus-ring-width) var(--uix-input-focus-ring-color);border-color:var(--uix-input-focus-ring-color)}}}&[type=checkbox] input:after{width:.375rem;height:.75rem;border:solid var(--uix-input-checkbox-check-color);border-width:0 2px 2px 0;transform:translate(-50%,-60%) rotate(45deg)}&[type=radio] input{border-radius:var(--border-radius-full);&:after{width:calc(var(--uix-input-checkbox-size) / 2);height:calc(var(--uix-input-checkbox-size) / 2);border-radius:var(--border-radius-full);background-color:var(--uix-input-checkbox-check-color);transform:translate(-50%,-50%)}}}
`,metaType:"text/css"},"/modules/icon-lucide/lucide/database.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M3 5v14a9 3 0 0 0 18 0V5"/><path d="M3 12a9 3 0 0 0 18 0"/></g></svg>',metaType:"image/svg+xml"},"/modules/icon-lucide/lucide/folder.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"/></svg>',metaType:"image/svg+xml"},"/modules/icon-lucide/lucide/code.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m16 18l6-6l-6-6M8 6l-6 6l6 6"/></svg>',metaType:"image/svg+xml"},"/modules/icon-lucide/lucide/cog.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M12 20a8 8 0 1 0 0-16a8 8 0 0 0 0 16"/><path d="M12 14a2 2 0 1 0 0-4a2 2 0 0 0 0 4m0-12v2m0 18v-2m5 .66l-1-1.73m-5-8.66L7 3.34M20.66 17l-1.73-1M3.34 7l1.73 1M14 12h8M2 12h2m16.66-5l-1.73 1M3.34 17l1.73-1M17 3.34l-1 1.73m-5 8.66l-4 6.93"/></g></svg>',metaType:"image/svg+xml"},"/modules/icon-lucide/lucide/message-circle.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/></svg>',metaType:"image/svg+xml"},"/modules/icon-lucide/lucide/square-mouse-pointer.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M12.034 12.681a.498.498 0 0 1 .647-.647l9 3.5a.5.5 0 0 1-.033.943l-3.444 1.068a1 1 0 0 0-.66.66l-1.067 3.443a.5.5 0 0 1-.943.033z"/><path d="M21 11V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6"/></g></svg>',metaType:"image/svg+xml"},"/modules/icon-lucide/lucide/settings.svg":{content:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2"/><circle cx="12" cy="12" r="3"/></g></svg>',metaType:"image/svg+xml"},"/style.css":{content:`@supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--un-bg-opacity:100%;--un-text-opacity:100%}}@property --un-text-opacity{syntax:"<percentage>";inherits:false;initial-value:100%;}@property --un-bg-opacity{syntax:"<percentage>";inherits:false;initial-value:100%;}@property --un-inset-ring-color{syntax:"*";inherits:false;}@property --un-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000;}@property --un-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000;}@property --un-inset-shadow-color{syntax:"*";inherits:false;}@property --un-ring-color{syntax:"*";inherits:false;}@property --un-ring-inset{syntax:"*";inherits:false;}@property --un-ring-offset-color{syntax:"*";inherits:false;}@property --un-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000;}@property --un-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0px;}@property --un-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000;}@property --un-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000;}@property --un-shadow-color{syntax:"*";inherits:false;}:root,:host{--spacing: .25rem;--font-sans: ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-serif: ui-serif,Georgia,Cambria,"Times New Roman",Times,serif;--font-mono: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", "Helvetica Neue", Arial, sans-serif;--font-icon-family: lucide;--colors-black: #000;--colors-white: #fff;--colors-slate-50: oklch(98.4% .003 247.858);--colors-slate-100: oklch(96.8% .007 247.896);--colors-slate-200: oklch(92.9% .013 255.508);--colors-slate-300: oklch(86.9% .022 252.894);--colors-slate-400: oklch(70.4% .04 256.788);--colors-slate-500: oklch(55.4% .046 257.417);--colors-slate-600: oklch(44.6% .043 257.281);--colors-slate-700: oklch(37.2% .044 257.287);--colors-slate-800: oklch(27.9% .041 260.031);--colors-slate-900: oklch(20.8% .042 265.755);--colors-slate-950: oklch(12.9% .042 264.695);--colors-slate-DEFAULT: oklch(70.4% .04 256.788);--colors-gray-50: oklch(98.5% .002 247.839);--colors-gray-100: oklch(96.7% .003 264.542);--colors-gray-200: oklch(92.8% .006 264.531);--colors-gray-300: oklch(87.2% .01 258.338);--colors-gray-400: oklch(70.7% .022 261.325);--colors-gray-500: oklch(55.1% .027 264.364);--colors-gray-600: oklch(44.6% .03 256.802);--colors-gray-700: oklch(37.3% .034 259.733);--colors-gray-800: oklch(27.8% .033 256.848);--colors-gray-900: oklch(21% .034 264.665);--colors-gray-950: oklch(13% .028 261.692);--colors-gray-DEFAULT: oklch(70.7% .022 261.325);--colors-zinc-50: oklch(98.5% 0 0);--colors-zinc-100: oklch(96.7% .001 286.375);--colors-zinc-200: oklch(92% .004 286.32);--colors-zinc-300: oklch(87.1% .006 286.286);--colors-zinc-400: oklch(70.5% .015 286.067);--colors-zinc-500: oklch(55.2% .016 285.938);--colors-zinc-600: oklch(44.2% .017 285.786);--colors-zinc-700: oklch(37% .013 285.805);--colors-zinc-800: oklch(27.4% .006 286.033);--colors-zinc-900: oklch(21% .006 285.885);--colors-zinc-950: oklch(14.1% .005 285.823);--colors-zinc-DEFAULT: oklch(70.5% .015 286.067);--colors-neutral-50: oklch(98.5% 0 0);--colors-neutral-100: oklch(97% 0 0);--colors-neutral-200: oklch(92.2% 0 0);--colors-neutral-300: oklch(87% 0 0);--colors-neutral-400: oklch(70.8% 0 0);--colors-neutral-500: oklch(55.6% 0 0);--colors-neutral-600: oklch(43.9% 0 0);--colors-neutral-700: oklch(37.1% 0 0);--colors-neutral-800: oklch(26.9% 0 0);--colors-neutral-900: oklch(20.5% 0 0);--colors-neutral-950: oklch(14.5% 0 0);--colors-neutral-DEFAULT: oklch(70.8% 0 0);--colors-stone-50: oklch(98.5% .001 106.423);--colors-stone-100: oklch(97% .001 106.424);--colors-stone-200: oklch(92.3% .003 48.717);--colors-stone-300: oklch(86.9% .005 56.366);--colors-stone-400: oklch(70.9% .01 56.259);--colors-stone-500: oklch(55.3% .013 58.071);--colors-stone-600: oklch(44.4% .011 73.639);--colors-stone-700: oklch(37.4% .01 67.558);--colors-stone-800: oklch(26.8% .007 34.298);--colors-stone-900: oklch(21.6% .006 56.043);--colors-stone-950: oklch(14.7% .004 49.25);--colors-stone-DEFAULT: oklch(70.9% .01 56.259);--colors-red-50: oklch(97.1% .013 17.38);--colors-red-100: oklch(93.6% .032 17.717);--colors-red-200: oklch(88.5% .062 18.334);--colors-red-300: oklch(80.8% .114 19.571);--colors-red-400: oklch(70.4% .191 22.216);--colors-red-500: oklch(63.7% .237 25.331);--colors-red-600: oklch(57.7% .245 27.325);--colors-red-700: oklch(50.5% .213 27.518);--colors-red-800: oklch(44.4% .177 26.899);--colors-red-900: oklch(39.6% .141 25.723);--colors-red-950: oklch(25.8% .092 26.042);--colors-red-DEFAULT: oklch(70.4% .191 22.216);--colors-orange-50: oklch(98% .016 73.684);--colors-orange-100: oklch(95.4% .038 75.164);--colors-orange-200: oklch(90.1% .076 70.697);--colors-orange-300: oklch(83.7% .128 66.29);--colors-orange-400: oklch(75% .183 55.934);--colors-orange-500: oklch(70.5% .213 47.604);--colors-orange-600: oklch(64.6% .222 41.116);--colors-orange-700: oklch(55.3% .195 38.402);--colors-orange-800: oklch(47% .157 37.304);--colors-orange-900: oklch(40.8% .123 38.172);--colors-orange-950: oklch(26.6% .079 36.259);--colors-orange-DEFAULT: oklch(75% .183 55.934);--colors-amber-50: oklch(98.7% .022 95.277);--colors-amber-100: oklch(96.2% .059 95.617);--colors-amber-200: oklch(92.4% .12 95.746);--colors-amber-300: oklch(87.9% .169 91.605);--colors-amber-400: oklch(82.8% .189 84.429);--colors-amber-500: oklch(76.9% .188 70.08);--colors-amber-600: oklch(66.6% .179 58.318);--colors-amber-700: oklch(55.5% .163 48.998);--colors-amber-800: oklch(47.3% .137 46.201);--colors-amber-900: oklch(41.4% .112 45.904);--colors-amber-950: oklch(27.9% .077 45.635);--colors-amber-DEFAULT: oklch(82.8% .189 84.429);--colors-yellow-50: oklch(98.7% .026 102.212);--colors-yellow-100: oklch(97.3% .071 103.193);--colors-yellow-200: oklch(94.5% .129 101.54);--colors-yellow-300: oklch(90.5% .182 98.111);--colors-yellow-400: oklch(85.2% .199 91.936);--colors-yellow-500: oklch(79.5% .184 86.047);--colors-yellow-600: oklch(68.1% .162 75.834);--colors-yellow-700: oklch(55.4% .135 66.442);--colors-yellow-800: oklch(47.6% .114 61.907);--colors-yellow-900: oklch(42.1% .095 57.708);--colors-yellow-950: oklch(28.6% .066 53.813);--colors-yellow-DEFAULT: oklch(85.2% .199 91.936);--colors-lime-50: oklch(98.6% .031 120.757);--colors-lime-100: oklch(96.7% .067 122.328);--colors-lime-200: oklch(93.8% .127 124.321);--colors-lime-300: oklch(89.7% .196 126.665);--colors-lime-400: oklch(84.1% .238 128.85);--colors-lime-500: oklch(76.8% .233 130.85);--colors-lime-600: oklch(64.8% .2 131.684);--colors-lime-700: oklch(53.2% .157 131.589);--colors-lime-800: oklch(45.3% .124 130.933);--colors-lime-900: oklch(40.5% .101 131.063);--colors-lime-950: oklch(27.4% .072 132.109);--colors-lime-DEFAULT: oklch(84.1% .238 128.85);--colors-green-50: oklch(98.2% .018 155.826);--colors-green-100: oklch(96.2% .044 156.743);--colors-green-200: oklch(92.5% .084 155.995);--colors-green-300: oklch(87.1% .15 154.449);--colors-green-400: oklch(79.2% .209 151.711);--colors-green-500: oklch(72.3% .219 149.579);--colors-green-600: oklch(62.7% .194 149.214);--colors-green-700: oklch(52.7% .154 150.069);--colors-green-800: oklch(44.8% .119 151.328);--colors-green-900: oklch(39.3% .095 152.535);--colors-green-950: oklch(26.6% .065 152.934);--colors-green-DEFAULT: oklch(79.2% .209 151.711);--colors-emerald-50: oklch(97.9% .021 166.113);--colors-emerald-100: oklch(95% .052 163.051);--colors-emerald-200: oklch(90.5% .093 164.15);--colors-emerald-300: oklch(84.5% .143 164.978);--colors-emerald-400: oklch(76.5% .177 163.223);--colors-emerald-500: oklch(69.6% .17 162.48);--colors-emerald-600: oklch(59.6% .145 163.225);--colors-emerald-700: oklch(50.8% .118 165.612);--colors-emerald-800: oklch(43.2% .095 166.913);--colors-emerald-900: oklch(37.8% .077 168.94);--colors-emerald-950: oklch(26.2% .051 172.552);--colors-emerald-DEFAULT: oklch(76.5% .177 163.223);--colors-teal-50: oklch(98.4% .014 180.72);--colors-teal-100: oklch(95.3% .051 180.801);--colors-teal-200: oklch(91% .096 180.426);--colors-teal-300: oklch(85.5% .138 181.071);--colors-teal-400: oklch(77.7% .152 181.912);--colors-teal-500: oklch(70.4% .14 182.503);--colors-teal-600: oklch(60% .118 184.704);--colors-teal-700: oklch(51.1% .096 186.391);--colors-teal-800: oklch(43.7% .078 188.216);--colors-teal-900: oklch(38.6% .063 188.416);--colors-teal-950: oklch(27.7% .046 192.524);--colors-teal-DEFAULT: oklch(77.7% .152 181.912);--colors-cyan-50: oklch(98.4% .019 200.873);--colors-cyan-100: oklch(95.6% .045 203.388);--colors-cyan-200: oklch(91.7% .08 205.041);--colors-cyan-300: oklch(86.5% .127 207.078);--colors-cyan-400: oklch(78.9% .154 211.53);--colors-cyan-500: oklch(71.5% .143 215.221);--colors-cyan-600: oklch(60.9% .126 221.723);--colors-cyan-700: oklch(52% .105 223.128);--colors-cyan-800: oklch(45% .085 224.283);--colors-cyan-900: oklch(39.8% .07 227.392);--colors-cyan-950: oklch(30.2% .056 229.695);--colors-cyan-DEFAULT: oklch(78.9% .154 211.53);--colors-sky-50: oklch(97.7% .013 236.62);--colors-sky-100: oklch(95.1% .026 236.824);--colors-sky-200: oklch(90.1% .058 230.902);--colors-sky-300: oklch(82.8% .111 230.318);--colors-sky-400: oklch(74.6% .16 232.661);--colors-sky-500: oklch(68.5% .169 237.323);--colors-sky-600: oklch(58.8% .158 241.966);--colors-sky-700: oklch(50% .134 242.749);--colors-sky-800: oklch(44.3% .11 240.79);--colors-sky-900: oklch(39.1% .09 240.876);--colors-sky-950: oklch(29.3% .066 243.157);--colors-sky-DEFAULT: oklch(74.6% .16 232.661);--colors-blue-50: oklch(97% .014 254.604);--colors-blue-100: oklch(93.2% .032 255.585);--colors-blue-200: oklch(88.2% .059 254.128);--colors-blue-300: oklch(80.9% .105 251.813);--colors-blue-400: oklch(70.7% .165 254.624);--colors-blue-500: oklch(62.3% .214 259.815);--colors-blue-600: oklch(54.6% .245 262.881);--colors-blue-700: oklch(48.8% .243 264.376);--colors-blue-800: oklch(42.4% .199 265.638);--colors-blue-900: oklch(37.9% .146 265.522);--colors-blue-950: oklch(28.2% .091 267.935);--colors-blue-DEFAULT: oklch(70.7% .165 254.624);--colors-indigo-50: oklch(96.2% .018 272.314);--colors-indigo-100: oklch(93% .034 272.788);--colors-indigo-200: oklch(87% .065 274.039);--colors-indigo-300: oklch(78.5% .115 274.713);--colors-indigo-400: oklch(67.3% .182 276.935);--colors-indigo-500: oklch(58.5% .233 277.117);--colors-indigo-600: oklch(51.1% .262 276.966);--colors-indigo-700: oklch(45.7% .24 277.023);--colors-indigo-800: oklch(39.8% .195 277.366);--colors-indigo-900: oklch(35.9% .144 278.697);--colors-indigo-950: oklch(25.7% .09 281.288);--colors-indigo-DEFAULT: oklch(67.3% .182 276.935);--colors-violet-50: oklch(96.9% .016 293.756);--colors-violet-100: oklch(94.3% .029 294.588);--colors-violet-200: oklch(89.4% .057 293.283);--colors-violet-300: oklch(81.1% .111 293.571);--colors-violet-400: oklch(70.2% .183 293.541);--colors-violet-500: oklch(60.6% .25 292.717);--colors-violet-600: oklch(54.1% .281 293.009);--colors-violet-700: oklch(49.1% .27 292.581);--colors-violet-800: oklch(43.2% .232 292.759);--colors-violet-900: oklch(38% .189 293.745);--colors-violet-950: oklch(28.3% .141 291.089);--colors-violet-DEFAULT: oklch(70.2% .183 293.541);--colors-purple-50: oklch(97.7% .014 308.299);--colors-purple-100: oklch(94.6% .033 307.174);--colors-purple-200: oklch(90.2% .063 306.703);--colors-purple-300: oklch(82.7% .119 306.383);--colors-purple-400: oklch(71.4% .203 305.504);--colors-purple-500: oklch(62.7% .265 303.9);--colors-purple-600: oklch(55.8% .288 302.321);--colors-purple-700: oklch(49.6% .265 301.924);--colors-purple-800: oklch(43.8% .218 303.724);--colors-purple-900: oklch(38.1% .176 304.987);--colors-purple-950: oklch(29.1% .149 302.717);--colors-purple-DEFAULT: oklch(71.4% .203 305.504);--colors-fuchsia-50: oklch(97.7% .017 320.058);--colors-fuchsia-100: oklch(95.2% .037 318.852);--colors-fuchsia-200: oklch(90.3% .076 319.62);--colors-fuchsia-300: oklch(83.3% .145 321.434);--colors-fuchsia-400: oklch(74% .238 322.16);--colors-fuchsia-500: oklch(66.7% .295 322.15);--colors-fuchsia-600: oklch(59.1% .293 322.896);--colors-fuchsia-700: oklch(51.8% .253 323.949);--colors-fuchsia-800: oklch(45.2% .211 324.591);--colors-fuchsia-900: oklch(40.1% .17 325.612);--colors-fuchsia-950: oklch(29.3% .136 325.661);--colors-fuchsia-DEFAULT: oklch(74% .238 322.16);--colors-pink-50: oklch(97.1% .014 343.198);--colors-pink-100: oklch(94.8% .028 342.258);--colors-pink-200: oklch(89.9% .061 343.231);--colors-pink-300: oklch(82.3% .12 346.018);--colors-pink-400: oklch(71.8% .202 349.761);--colors-pink-500: oklch(65.6% .241 354.308);--colors-pink-600: oklch(59.2% .249 .584);--colors-pink-700: oklch(52.5% .223 3.958);--colors-pink-800: oklch(45.9% .187 3.815);--colors-pink-900: oklch(40.8% .153 2.432);--colors-pink-950: oklch(28.4% .109 3.907);--colors-pink-DEFAULT: oklch(71.8% .202 349.761);--colors-rose-50: oklch(96.9% .015 12.422);--colors-rose-100: oklch(94.1% .03 12.58);--colors-rose-200: oklch(89.2% .058 10.001);--colors-rose-300: oklch(81% .117 11.638);--colors-rose-400: oklch(71.2% .194 13.428);--colors-rose-500: oklch(64.5% .246 16.439);--colors-rose-600: oklch(58.6% .253 17.585);--colors-rose-700: oklch(51.4% .222 16.935);--colors-rose-800: oklch(45.5% .188 13.697);--colors-rose-900: oklch(41% .159 10.272);--colors-rose-950: oklch(27.1% .105 12.094);--colors-rose-DEFAULT: oklch(71.2% .194 13.428);--colors-light-50: oklch(99.4% 0 0);--colors-light-100: oklch(99.11% 0 0);--colors-light-200: oklch(98.51% 0 0);--colors-light-300: oklch(98.16% .0017 247.84);--colors-light-400: oklch(97.31% 0 0);--colors-light-500: oklch(96.12% 0 0);--colors-light-600: oklch(96.32% .0034 247.86);--colors-light-700: oklch(94.17% .0052 247.88);--colors-light-800: oklch(91.09% .007 247.9);--colors-light-900: oklch(90.72% .0051 228.82);--colors-light-950: oklch(89.23% .006 239.83);--colors-light-DEFAULT: oklch(97.31% 0 0);--colors-dark-50: oklch(40.91% 0 0);--colors-dark-100: oklch(35.62% 0 0);--colors-dark-200: oklch(31.71% 0 0);--colors-dark-300: oklch(29.72% 0 0);--colors-dark-400: oklch(25.2% 0 0);--colors-dark-500: oklch(23.93% 0 0);--colors-dark-600: oklch(22.73% .0038 286.09);--colors-dark-700: oklch(22.21% 0 0);--colors-dark-800: oklch(20.9% 0 0);--colors-dark-900: oklch(16.84% 0 0);--colors-dark-950: oklch(13.44% 0 0);--colors-dark-DEFAULT: oklch(25.2% 0 0);--colors-primary-50: hsl(198, 100%, 97%);--colors-primary-100: hsl(198, 100%, 92%);--colors-primary-200: hsl(198, 100%, 84%);--colors-primary-300: hsl(198, 100%, 75%);--colors-primary-400: hsl(198, 100%, 66%);--colors-primary-500: hsl(198, 100%, 55%);--colors-primary-600: hsl(198, 100%, 45%);--colors-primary-700: hsl(198, 100%, 35%);--colors-primary-800: hsl(198, 100%, 24%);--colors-primary-900: hsl(198, 100%, 15%);--colors-primary-DEFAULT: hsl(198, 100%, 55%);--colors-secondary-50: hsl(120, 100%, 97%);--colors-secondary-100: hsl(120, 100%, 92%);--colors-secondary-200: hsl(120, 100%, 84%);--colors-secondary-300: hsl(120, 100%, 75%);--colors-secondary-400: hsl(120, 100%, 66%);--colors-secondary-500: hsl(120, 100%, 55%);--colors-secondary-600: hsl(120, 100%, 45%);--colors-secondary-700: hsl(120, 100%, 35%);--colors-secondary-800: hsl(120, 100%, 24%);--colors-secondary-900: hsl(120, 100%, 15%);--colors-secondary-DEFAULT: hsl(120, 100%, 55%);--colors-tertiary-50: hsl(175, 100%, 97%);--colors-tertiary-100: hsl(175, 100%, 92%);--colors-tertiary-200: hsl(175, 100%, 84%);--colors-tertiary-300: hsl(175, 100%, 75%);--colors-tertiary-400: hsl(175, 100%, 66%);--colors-tertiary-500: hsl(175, 100%, 55%);--colors-tertiary-600: hsl(175, 100%, 45%);--colors-tertiary-700: hsl(175, 100%, 35%);--colors-tertiary-800: hsl(175, 100%, 24%);--colors-tertiary-900: hsl(175, 100%, 15%);--colors-tertiary-DEFAULT: hsl(175, 100%, 55%);--colors-success-50: hsl(149, 87%, 97%);--colors-success-100: hsl(149, 87%, 92%);--colors-success-200: hsl(149, 87%, 84%);--colors-success-300: hsl(149, 87%, 75%);--colors-success-400: hsl(149, 87%, 66%);--colors-success-500: hsl(149, 87%, 55%);--colors-success-600: hsl(149, 87%, 45%);--colors-success-700: hsl(149, 87%, 35%);--colors-success-800: hsl(149, 87%, 24%);--colors-success-900: hsl(149, 87%, 15%);--colors-success-DEFAULT: hsl(149, 87%, 55%);--colors-warning-50: hsl(32, 100%, 97%);--colors-warning-100: hsl(32, 100%, 92%);--colors-warning-200: hsl(32, 100%, 84%);--colors-warning-300: hsl(32, 100%, 75%);--colors-warning-400: hsl(32, 100%, 66%);--colors-warning-500: hsl(32, 100%, 55%);--colors-warning-600: hsl(32, 100%, 45%);--colors-warning-700: hsl(32, 100%, 35%);--colors-warning-800: hsl(32, 100%, 24%);--colors-warning-900: hsl(32, 100%, 15%);--colors-warning-DEFAULT: hsl(32, 100%, 55%);--colors-danger-50: hsl(345, 100%, 97%);--colors-danger-100: hsl(345, 100%, 92%);--colors-danger-200: hsl(345, 100%, 84%);--colors-danger-300: hsl(345, 100%, 75%);--colors-danger-400: hsl(345, 100%, 66%);--colors-danger-500: hsl(345, 100%, 55%);--colors-danger-600: hsl(345, 100%, 45%);--colors-danger-700: hsl(345, 100%, 35%);--colors-danger-800: hsl(345, 100%, 24%);--colors-danger-900: hsl(345, 100%, 15%);--colors-danger-DEFAULT: hsl(345, 100%, 55%);--colors-default-50: hsl(0, 0%, 97%);--colors-default-100: hsl(0, 0%, 92%);--colors-default-200: hsl(0, 0%, 84%);--colors-default-300: hsl(0, 0%, 75%);--colors-default-400: hsl(0, 0%, 66%);--colors-default-500: hsl(0, 0%, 55%);--colors-default-600: hsl(0, 0%, 45%);--colors-default-700: hsl(0, 0%, 35%);--colors-default-800: hsl(0, 0%, 24%);--colors-default-900: hsl(0, 0%, 15%);--colors-default-DEFAULT: hsl(0, 0%, 35%);--colors-surface-50: hsl(0, 0%, 97%);--colors-surface-100: hsl(0, 0%, 92%);--colors-surface-200: hsl(0, 0%, 84%);--colors-surface-300: hsl(0, 0%, 75%);--colors-surface-400: hsl(0, 0%, 66%);--colors-surface-500: hsl(0, 0%, 55%);--colors-surface-600: hsl(0, 0%, 45%);--colors-surface-700: hsl(0, 0%, 35%);--colors-surface-800: hsl(0, 0%, 24%);--colors-surface-900: hsl(0, 0%, 15%);--colors-surface-DEFAULT: hsl(0, 0%, 35%);--text-xs-fontSize: .75rem;--text-xs-lineHeight: 1rem;--text-sm-fontSize: .875rem;--text-sm-lineHeight: 1.25rem;--text-base-fontSize: 1rem;--text-base-lineHeight: 1.5rem;--text-lg-fontSize: 1.125rem;--text-lg-lineHeight: 1.75rem;--text-xl-fontSize: 1.25rem;--text-xl-lineHeight: 1.75rem;--text-2xl-fontSize: 1.5rem;--text-2xl-lineHeight: 2rem;--text-3xl-fontSize: 1.875rem;--text-3xl-lineHeight: 2.25rem;--text-4xl-fontSize: 2.25rem;--text-4xl-lineHeight: 2.5rem;--text-5xl-fontSize: 3rem;--text-5xl-lineHeight: 1;--text-6xl-fontSize: 3.75rem;--text-6xl-lineHeight: 1;--text-7xl-fontSize: 4.5rem;--text-7xl-lineHeight: 1;--text-8xl-fontSize: 6rem;--text-8xl-lineHeight: 1;--text-9xl-fontSize: 8rem;--text-9xl-lineHeight: 1;--text-color: var(--color-surface-100);--fontWeight-thin: 100;--fontWeight-extralight: 200;--fontWeight-light: 300;--fontWeight-normal: 400;--fontWeight-medium: 500;--fontWeight-semibold: 600;--fontWeight-bold: 700;--fontWeight-extrabold: 800;--fontWeight-black: 900;--tracking-tighter: -.05em;--tracking-tight: -.025em;--tracking-normal: 0em;--tracking-wide: .025em;--tracking-wider: .05em;--tracking-widest: .1em;--leading-none: 1;--leading-tight: 1.25;--leading-snug: 1.375;--leading-normal: 1.5;--leading-relaxed: 1.625;--leading-loose: 2;--textStrokeWidth-DEFAULT: 1.5rem;--textStrokeWidth-none: 0;--textStrokeWidth-sm: thin;--textStrokeWidth-md: medium;--textStrokeWidth-lg: thick;--radius-DEFAULT: .25rem;--radius-none: 0;--radius-xs: .125rem;--radius-sm: .25rem;--radius-md: .375rem;--radius-lg: .5rem;--radius-xl: .75rem;--radius-2xl: 1rem;--radius-3xl: 1.5rem;--radius-4xl: 2rem;--ease-linear: linear;--ease-in: cubic-bezier(.4, 0, 1, 1);--ease-out: cubic-bezier(0, 0, .2, 1);--ease-in-out: cubic-bezier(.4, 0, .2, 1);--ease-DEFAULT: cubic-bezier(.4, 0, .2, 1);--blur-DEFAULT: 8px;--blur-xs: 4px;--blur-sm: 8px;--blur-md: 12px;--blur-lg: 16px;--blur-xl: 24px;--blur-2xl: 40px;--blur-3xl: 64px;--perspective-dramatic: 100px;--perspective-near: 300px;--perspective-normal: 500px;--perspective-midrange: 800px;--perspective-distant: 1200px;--default-transition-duration: .15s;--default-transition-timingFunction: cubic-bezier(.4, 0, .2, 1);--default-font-family: var(--font-sans);--default-font-featureSettings: var(--font-sans--font-feature-settings);--default-font-variationSettings: var(--font-sans--font-variation-settings);--default-monoFont-family: var(--font-mono);--default-monoFont-featureSettings: var(--font-mono--font-feature-settings);--default-monoFont-variationSettings: var(--font-mono--font-variation-settings);--container-3xs: 16rem;--container-2xs: 18rem;--container-xs: 20rem;--container-sm: 24rem;--container-md: 28rem;--container-lg: 32rem;--container-xl: 36rem;--container-2xl: 42rem;--container-3xl: 48rem;--container-4xl: 56rem;--container-5xl: 64rem;--container-6xl: 72rem;--container-7xl: 80rem;--container-prose: 65ch;--background-color: var(--colors-primary-100);--boxShadow-md: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--boxShadow-lg: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--theme-font-family: "Manrope"}*,:after,:before,::backdrop,::file-selector-button{box-sizing:border-box;margin:0;padding:0;border:0 solid}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;tab-size:4;font-family:var( --default-font-family, ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji" );font-feature-settings:var(--default-font-featureSettings, normal);font-variation-settings:var(--default-font-variationSettings, normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var( --default-monoFont-family, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace );font-feature-settings:var(--default-monoFont-featureSettings, normal);font-variation-settings:var(--default-monoFont-variationSettings, normal);font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea,::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;border-radius:0;background-color:transparent;opacity:1}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not (-webkit-appearance: -apple-pay-button)) or (contain-intrinsic-size: 1px){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit,::-webkit-datetime-edit-year-field,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute-field,::-webkit-datetime-edit-second-field,::-webkit-datetime-edit-millisecond-field,::-webkit-datetime-edit-meridiem-field{padding-block:0}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]),::file-selector-button{appearance:button}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}.text-2xl{font-size:var(--text-2xl-fontSize);line-height:var(--un-leading, var(--text-2xl-lineHeight))}.text-4xl{font-size:var(--text-4xl-fontSize);line-height:var(--un-leading, var(--text-4xl-lineHeight))}.text-gray-500{color:color-mix(in srgb,var(--colors-gray-500) var(--un-text-opacity),transparent)}.text-gray-800{color:color-mix(in srgb,var(--colors-gray-800) var(--un-text-opacity),transparent)}.text-gray-900{color:color-mix(in srgb,var(--colors-gray-900) var(--un-text-opacity),transparent)}.font-bold{--un-font-weight:var(--fontWeight-bold);font-weight:var(--fontWeight-bold)}.font-extrabold{--un-font-weight:var(--fontWeight-extrabold);font-weight:var(--fontWeight-extrabold)}.m16{margin:calc(var(--spacing) * 16)}.p-4{padding:calc(var(--spacing) * 4)}.p-6{padding:calc(var(--spacing) * 6)}.pb-2{padding-bottom:calc(var(--spacing) * 2)}.text-center{text-align:center}.border{border-width:1px}.border-b{border-bottom-width:1px}.rounded-lg{border-radius:var(--radius-lg)}.bg-gray-50{background-color:color-mix(in srgb,var(--colors-gray-50) var(--un-bg-opacity),transparent)}.bg-primary-200{background-color:color-mix(in srgb,var(--colors-primary-200) var(--un-bg-opacity),transparent)}.bg-white{background-color:color-mix(in srgb,var(--colors-white) var(--un-bg-opacity),transparent)}.flex{display:flex}.flex-1{flex:1 1 0%}.flex-shrink-0{flex-shrink:0}.flex-grow{flex-grow:1}.flex-col{flex-direction:column}.gap-2{gap:calc(var(--spacing) * 2)}.gap-4{gap:calc(var(--spacing) * 4)}.gap-6{gap:calc(var(--spacing) * 6)}.grid{display:grid}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.h-full{height:100%}.min-h-screen{min-height:100vh}.w-full{width:100%}.shadow-md{--un-shadow:0 4px 6px -1px var(--un-shadow-color, rgb(0 0 0 / .1)),0 2px 4px -2px var(--un-shadow-color, rgb(0 0 0 / .1));box-shadow:var(--un-inset-shadow),var(--un-inset-ring-shadow),var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}.justify-end{justify-content:flex-end}.justify-between{justify-content:space-between}@supports (color: color-mix(in lab,red,red)){.text-gray-500{color:color-mix(in oklab,var(--colors-gray-500) var(--un-text-opacity),transparent)}.text-gray-800{color:color-mix(in oklab,var(--colors-gray-800) var(--un-text-opacity),transparent)}.text-gray-900{color:color-mix(in oklab,var(--colors-gray-900) var(--un-text-opacity),transparent)}.bg-gray-50{background-color:color-mix(in oklab,var(--colors-gray-50) var(--un-bg-opacity),transparent)}.bg-primary-200{background-color:color-mix(in oklab,var(--colors-primary-200) var(--un-bg-opacity),transparent)}.bg-white{background-color:color-mix(in oklab,var(--colors-white) var(--un-bg-opacity),transparent)}}@media (min-width: 48rem){.md\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (min-width: 64rem){.lg\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}}@font-face{font-family:Manrope;font-weight:200;src:url(/modules/font/manrope/extralight.woff2) format("woff2")}@font-face{font-family:Manrope;font-weight:300;src:url(/modules/font/manrope/light.woff2) format("woff2")}@font-face{font-family:Manrope;font-weight:500;src:url(/modules/font/manrope/medium.woff2) format("woff2")}@font-face{font-family:Manrope;font-weight:400;src:url(/modules/font/manrope/regular.woff2) format("woff2")}@font-face{font-family:Manrope;font-weight:600;src:url(/modules/font/manrope/semibold.woff2) format("woff2")}@font-face{font-family:Manrope;font-weight:700;src:url(/modules/font/manrope/bold.woff2) format("woff2")}@font-face{font-family:Manrope;font-weight:800;src:url(/modules/font/manrope/extrabold.woff2) format("woff2")}body{font-family:var(--font-family)}html,body{font-family:var(--font-family);background-color:var(--background-color)!important;color:var(--text-color)!important;width:100%;min-height:100%;height:100%;padding:0;margin:0}body:not(.production) *:not(:defined){border:1px solid red}.dark{filter:invert(1) hue-rotate(180deg)}.dark img,.dark dialog,.dark video,.dark iframe{filter:invert(1) hue-rotate(180deg)}html{font-size:14px}@media (max-width: 768px){html{font-size:18px}}@media (max-width: 480px){html{font-size:20px}}textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}:root{box-sizing:border-box;-moz-text-size-adjust:none;-webkit-text-size-adjust:none;text-size-adjust:none;line-height:1.2;-webkit-font-smoothing:antialiased}*,*:before,*:after{box-sizing:border-box}*{margin:0}body{-webkit-font-smoothing:antialiased;font-family:var(--font-family)}button,textarea,select{background-color:inherit;border-width:0;color:inherit}img,picture,video,canvas,svg{display:block;max-width:100%}input,button,textarea,select{font:inherit}p,h1,h2,h3,h4,h5,h6{font-family:var(--font-family);overflow-wrap:break-word}dialog::backdrop{background-color:#000c}*::-webkit-scrollbar{width:8px;margin-right:10px}*::-webkit-scrollbar-track{background:transparent}*::-webkit-scrollbar-thumb{&:hover{scrollbar-color:rgba(154,153,150,.8) transparent}border-radius:10px;border:none}*::-webkit-scrollbar-button{background:transparent;color:transparent}*{scrollbar-width:thin;scrollbar-color:transparent transparent;&:hover{scrollbar-color:rgba(154,153,150,.8) transparent}}[full]{width:100%;height:100vh}[w-full]{width:100%}[grow]{flex-grow:1}[hide],.hide{display:none!important}[noscroll]{overflow:hidden}div [container]{display:flex}div [container][horizontal]{display:flex;flex-direction:col}.uix-list{display:flex;&[vertical]{flex-direction:column}}.uix-navbar{--uix-navbar-text-color: var(--color-default-90);--uix-navbar-hover-text-color: var(--color-surface-80);--uix-navbar-border-radius: 0px;--uix-navbar-border-color: var(--color-default-60);--uix-navbar-border-size: 1px;--uix-navbar-border-style: solid;--uix-navbar-hover-background-color: var(--color-default-40);--uix-container-position: var(--uix-navbar-position);display:flex;flex-direction:column;&[docked]{--uix-list-button-radius: 0;border-bottom:0;position:fixed;bottom:0;background-color:var(--uix-navbar-background-color, var(--color-default-5));>*{border-right:0;border-bottom:0;&:first-child{border-left:0}}}}:where(.uix-link){font-weight:var(--uix-link-font-weight, 600);width:var(--uix-link-width, auto);color:var(--uix-link-text-color, var(--colors-default-900));&[vertical]{margin:0 auto}--uix-link-indent: 0;cursor:pointer;a,button{cursor:pointer;padding:var(--uix-link-padding);&:hover{color:var(--uix-link-hover-color, var(--colors-primary-700))}}.uix-text-icon__element{display:flex;align-items:center;gap:var(--uix-link-icon-gap, .5rem);width:auto;&[reverse][vertical]{flex-direction:column-reverse}&:not([reverse])[vertical]{flex-direction:column}&[reverse]:not([vertical]){flex-direction:row-reverse}&:not([reverse]):not([vertical]){flex-direction:row}}transition:all .3s ease-in-out;&[indent]{>a,>button{padding-left:var(--uix-link-indent)}}&[active]:hover{color:var(--uix-link-hover-text-color, var(--colors-primary-400))}&[selectable][selected]{background-color:var(--colors-primary-400)}&:hover{[tooltip]{display:flex}}&[tooltip]{display:inline-block;&:hover{[tooltip]{visibility:visible}}[tooltip]{visibility:hidden;width:120px;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 10px;margin-left:3px;position:absolute;z-index:1000000000;top:50%;left:100%;transform:translateY(-50%)}}&[position~=top] [tooltip]{bottom:100%;left:50%;transform:translate(-50%)}&[position~=bottom] [tooltip]{top:100%;left:50%;transform:translate(-50%)}&[position~=left] [tooltip]{top:50%;right:100%;transform:translateY(-50%)}&[tooltip],&[dropdown],&[context],&[float]{position:relative}&[dropdown],&[accordion]{flex-direction:column}[float],[dropdown],[accordion],[context]{display:none}&[floatopen]>a{display:none}&[floatopen] [float]{display:block;position:relative;bottom:0;right:0}&[context]{z-index:auto}[context][open]{display:flex;flex-direction:column}[dropdown],[context][open]{position:absolute;left:0;top:100%;width:100%;min-width:200px;z-index:1000;background-color:var(--colors-primary-100);box-shadow:0 8px 16px #0003;.uix-link:hover,input{background-color:var(--colors-primary-200)}>.uix-link{width:100%}}[context][open]{display:flex}&[selected]{[dropdown],[accordion]{display:flex;flex-direction:column}}}:where(.uix-button){border:var(--uix-button-borderSize, 0) solid var(--uix-button-borderColor);border-radius:var(--uix-button-borderRadius, var(--radius-md));box-shadow:var(--uix-button-shadow);width:var(--uix-button-width, "fit-content");background-color:var(--uix-button-backgroundColor, black);color:var(--uix-button-textColor, var(--colors-default-100));>button,>a,>input{display:flex;flex-direction:var(--uix-button-direction, row);align-items:var(--uix-button-alignItem, center);font-weight:var(--uix-button-fontWeight, 700);overflow:hidden;border-radius:inherit;gap:var(--uix-button-gap, calc(var(--spacing) * 2));transition:var(--uix-button-transition, background-color .2s ease-in-out);cursor:var(--uix-button-cursor, pointer);height:calc(var(--spacing) * 10);line-height:calc(var(--spacing) * 10);padding:var( --uix-button-padding, calc(var(--spacing) * 2.5) calc(var(--spacing) * 4) );word-break:keep-all;flex-basis:100%;justify-content:var(--uix-text-align, center);&:hover{opacity:var(--uix-button-hover-opacity, 1);color:var(--uix-button-hoverTextColor, var(--uix-button-textColor));background-color:var( --uix-button-hoverBackgroundColor, var(--colors-default-400) )}&:hover:active{opacity:var(--uix-button-hover-opacity, .9)}}.uix-icon,button,input,a{cursor:pointer}&[bordered]{--uix-button-border-size: 1px;--uix-button-backgroundColor: transparent;--uix-button-hoverBackgroundColor: var(--_variant-color-300);--uix-button-borderColor: var(--_variant-color-400);--uix-button-textColor: var(--_variant-color-700)}&[ghost]{--uix-button-backgroundColor: transparent;--uix-button-hoverBackgroundColor: var(--_variant-color-300);--uix-button-borderSize: 0px;--uix-button-textColor: var(--_variant-color-700)}&[outline]{--uix-button-backgroundColor: transparent;--uix-button-hoverBackgroundColor: var(--_variant-color-300);--uix-button-textColor: var(--_variant-color-800);--uix-button-borderSize: 1px;--uix-button-borderColor: var(--_variant-color-400)}&[float]{background-color:#000;--uix-button-hoverBackgroundColor: var(--_variant-color-500);--uix-button-textColor: var(--_variant-color-50);--uix-button-borderSize: 0px;--uix-button-borderRadius: 9999px;--uix-button-width: var(--uix-button-height);box-shadow:var(--shadow-md, 0 4px 6px -1px rgb(0 0 0 / .1));--uix-button-padding: .5rem}&[float]:hover{box-shadow:var(--shadow-lg, 0 10px 15px -3px rgb(0 0 0 / .1))}}.uix-input{--uix-input-background-color: var(--colors-surface-100);--uix-input-border-color: var(--colors-default-400);--uix-input-text-color: var(--colors-default-900);--uix-input-placeholder-color: var(--colors-default-500);--uix-input-border-radius: var(--border-radius-md);--uix-input-border-width: 2px;--uix-input-padding-x: calc(var(--spacing) * 4);--uix-input-padding-y: calc(var(--spacing) * 2.5);--uix-input-font-size: var(--font-size-base);--uix-input-height: 2.5rem;--uix-input-focus-ring-width: 2px;--uix-input-focus-ring-color: var(--colors-primary-500);--uix-input-disabled-opacity: .6;--uix-input-label-font-size: var(--font-size-sm);--uix-input-label-font-weight: var(--font-weight-bold);--uix-input-label-color: var(--colors-default-700);--uix-input-checkbox-size: 1.5rem;--uix-input-checkbox-border-radius: var(--border-radius-sm);--uix-input-checkbox-checked-bg: var(--colors-primary-600);--uix-input-checkbox-check-color: var(--colors-surface-100);position:relative;display:flex;height:var(--uix-input-height);border-radius:var(--uix-input-border-radius);border:var(--uix-input-border-width) solid var(--uix-input-border-color);font-size:var(--uix-input-font-size);background-color:var(--uix-input-background-color);color:var(--uix-input-text-color);transition:var(--uix-transition);textarea{width:100%;padding:5px}&:has(textarea){height:auto}input[type=text],input[type=password],input[type=email],input[type=number],input[type=decimal],input[type=search],input[type=tel],input[type=url]{width:100%;height:100%;outline:none;color:var(--uix-input-text-color);background-color:transparent;padding:var(--uix-input-padding-y) var(--uix-input-padding-x);border:0;&::placeholder{color:transparent}&:focus::placeholder{color:var(--uix-input-placeholder-color)}}label{position:absolute;left:var(--uix-input-padding-x);top:50%;transform:translateY(-50%);font-weight:var(--uix-input-label-font-weight);color:var(--uix-input-label-color);background-color:var(--uix-input-background-color);padding:0 4px;transition:all .2s ease-in-out;pointer-events:none;&[required]:after{content:"*";color:var(--colors-danger-500);margin-left:2px}}input:focus+label,input:not(:placeholder-shown)+label,textarea+label{top:-2px;font-size:var(--uix-input-label-font-size)}&:focus-within{border-color:var(--uix-input-focus-ring-color);box-shadow:0 0 0 var(--uix-input-focus-ring-width) var(--uix-input-focus-ring-color)}&[disabled]{cursor:not-allowed;opacity:var(--uix-input-disabled-opacity);input+label{cursor:not-allowed}}input:focus,input:focus-visible{outline:none}&[type=checkbox],&[type=radio]{border:0;height:auto;width:auto;background-color:transparent;box-shadow:none;align-items:center;gap:.75rem;cursor:pointer;label{position:static;transform:none;background-color:transparent;padding:0;cursor:pointer;font-weight:var(--font-weight-normal);order:2;pointer-events:auto}input{appearance:none;-webkit-appearance:none;width:var(--uix-input-checkbox-size);height:var(--uix-input-checkbox-size);margin:0;border:var(--uix-input-border-width) solid var(--uix-input-border-color);border-radius:var(--uix-input-checkbox-border-radius);background-color:var(--uix-input-background-color);cursor:pointer;position:relative;transition:var(--uix-transition);&:after{content:"";position:absolute;display:none;left:50%;top:50%}&:checked{background-color:var(--uix-input-checkbox-checked-bg);border-color:var(--uix-input-checkbox-checked-bg);&:after{display:block}}&:focus-visible{box-shadow:0 0 0 var(--uix-input-focus-ring-width) var(--uix-input-focus-ring-color);border-color:var(--uix-input-focus-ring-color)}}}&[type=checkbox] input:after{width:.375rem;height:.75rem;border:solid var(--uix-input-checkbox-check-color);border-width:0 2px 2px 0;transform:translate(-50%,-60%) rotate(45deg)}&[type=radio] input{border-radius:var(--border-radius-full);&:after{width:calc(var(--uix-input-checkbox-size) / 2);height:calc(var(--uix-input-checkbox-size) / 2);border-radius:var(--border-radius-full);background-color:var(--uix-input-checkbox-check-color);transform:translate(-50%,-50%)}}}.uix-icon{display:inline-block;vertical-align:middle}&[solid]{stroke:currentColor;fill:currentColor}
`,metaType:"text/css"}};self.addEventListener("install",e=>e.waitUntil(self.skipWaiting())),self.addEventListener("activate",e=>e.waitUntil(self.clients.claim())),self.addEventListener("fetch",e=>{const o=new URL(e.request.url),t=FILE_BUNDLE[o.pathname];t&&e.respondWith(new Response(t.content,{headers:{"Content-Type":t.metaType||"application/javascript"}}))});
